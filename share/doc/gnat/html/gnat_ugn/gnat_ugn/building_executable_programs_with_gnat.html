
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>4. Building Executable Programs with GNAT &#8212; GNAT User&#39;s Guide for Native Platforms 2021 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. GNAT Utility Programs" href="gnat_utility_programs.html" />
    <link rel="prev" title="3. The GNAT Compilation Model" href="the_gnat_compilation_model.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gnat_utility_programs.html" title="5. GNAT Utility Programs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="the_gnat_compilation_model.html" title="3. The GNAT Compilation Model"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../gnat_ugn.html">GNAT User&#39;s Guide for Native Platforms 2021 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4. </span>Building Executable Programs with GNAT</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="building-executable-programs-with-gnat">
<span id="id1"></span><h1><span class="section-number">4. </span>Building Executable Programs with GNAT<a class="headerlink" href="#building-executable-programs-with-gnat" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes first the gnatmake tool
(<a class="reference internal" href="#the-gnat-make-program-gnatmake"><span class="std std-ref">Building with gnatmake</span></a>),
which automatically determines the set of sources
needed by an Ada compilation unit and executes the necessary
(re)compilations, binding and linking.
It also explains how to use each tool individually: the
compiler (gcc, see <a class="reference internal" href="#compiling-with-gcc"><span class="std std-ref">Compiling with gcc</span></a>),
binder (gnatbind, see <a class="reference internal" href="#binding-with-gnatbind"><span class="std std-ref">Binding with gnatbind</span></a>),
and linker (gnatlink, see <a class="reference internal" href="#linking-with-gnatlink"><span class="std std-ref">Linking with gnatlink</span></a>)
to build executable programs.
Finally, this chapter provides examples of
how to make use of the general GNU make mechanism
in a GNAT context (see <a class="reference internal" href="#using-the-gnu-make-utility"><span class="std std-ref">Using the GNU make Utility</span></a>).</p>
<p>For building large systems with components possibly written
in different languages (such as Ada, C, C++ and Fortran)
and organized into subsystems and libraries, the GPRbuild
tool can be used. This tool, and the Project Manager
facility that it is based upon, is described in
<em>GPRbuild and GPR Companion Tools User’s Guide</em>.</p>
<div class="section" id="building-with-gnatmake">
<span id="the-gnat-make-program-gnatmake"></span><h2><span class="section-number">4.1. </span>Building with <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code><a class="headerlink" href="#building-with-gnatmake" title="Permalink to this headline">¶</a></h2>
<p id="index-0">A typical development cycle when working on an Ada program consists of
the following steps:</p>
<ol class="arabic simple">
<li><p>Edit some sources to fix bugs;</p></li>
<li><p>Add enhancements;</p></li>
<li><p>Compile all sources affected;</p></li>
<li><p>Rebind and relink; and</p></li>
<li><p>Test.</p></li>
</ol>
<p id="index-1">The third step in particular can be tricky, because not only do the modified
files have to be compiled, but any files depending on these files must also be
recompiled. The dependency rules in Ada can be quite complex, especially
in the presence of overloading, <code class="docutils literal notranslate"><span class="pre">use</span></code> clauses, generics and inlined
subprograms.</p>
<p><code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> automatically takes care of the third and fourth steps
of this process. It determines which sources need to be compiled,
compiles them, and binds and links the resulting object files.</p>
<p>Unlike some other Ada make programs, the dependencies are always
accurately recomputed from the new sources. The source based approach of
the GNAT compilation model makes this possible. This means that if
changes to the source program cause corresponding changes in
dependencies, they will always be tracked exactly correctly by
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>.</p>
<p>Note that for advanced forms of project structure, we recommend creating
a project file as explained in the <em>GNAT_Project_Manager</em> chapter in the
<em>GPRbuild User’s Guide</em>, and using the
<code class="docutils literal notranslate"><span class="pre">gprbuild</span></code> tool which supports building with project files and works similarly
to <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>.</p>
<div class="section" id="running-gnatmake">
<span id="id2"></span><h3><span class="section-number">4.1.1. </span>Running <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code><a class="headerlink" href="#running-gnatmake" title="Permalink to this headline">¶</a></h3>
<p>The usual form of the <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> command is</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gnatmake <span class="o">[</span>&lt;switches&gt;<span class="o">]</span> &lt;file_name&gt; <span class="o">[</span>&lt;file_names&gt;<span class="o">]</span> <span class="o">[</span>&lt;mode_switches&gt;<span class="o">]</span>
</pre></div>
</div>
<p>The only required argument is one <code class="docutils literal notranslate"><span class="pre">file_name</span></code>, which specifies
a compilation unit that is a main program. Several <code class="docutils literal notranslate"><span class="pre">file_names</span></code> can be
specified: this will result in several executables being built.
If <code class="docutils literal notranslate"><span class="pre">switches</span></code> are present, they can be placed before the first
<code class="docutils literal notranslate"><span class="pre">file_name</span></code>, between <code class="docutils literal notranslate"><span class="pre">file_names</span></code> or after the last <code class="docutils literal notranslate"><span class="pre">file_name</span></code>.
If <code class="docutils literal notranslate"><span class="pre">mode_switches</span></code> are present, they must always be placed after
the last <code class="docutils literal notranslate"><span class="pre">file_name</span></code> and all <code class="docutils literal notranslate"><span class="pre">switches</span></code>.</p>
<p>If you are using standard file extensions (<code class="file docutils literal notranslate"><span class="pre">.adb</span></code> and
<code class="file docutils literal notranslate"><span class="pre">.ads</span></code>), then the
extension may be omitted from the <code class="docutils literal notranslate"><span class="pre">file_name</span></code> arguments. However, if
you are using non-standard extensions, then it is required that the
extension be given. A relative or absolute directory path can be
specified in a <code class="docutils literal notranslate"><span class="pre">file_name</span></code>, in which case, the input source file will
be searched for in the specified directory only. Otherwise, the input
source file will first be searched in the directory where
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> was invoked and if it is not found, it will be search on
the source path of the compiler as described in
<a class="reference internal" href="#search-paths-and-the-run-time-library-rtl"><span class="std std-ref">Search Paths and the Run-Time Library (RTL)</span></a>.</p>
<p>All <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> output (except when you specify <code class="switch docutils literal notranslate"><span class="pre">-M</span></code>) is sent to
<code class="file docutils literal notranslate"><span class="pre">stderr</span></code>. The output produced by the
<code class="switch docutils literal notranslate"><span class="pre">-M</span></code> switch is sent to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
</div>
<div class="section" id="switches-for-gnatmake">
<span id="id3"></span><h3><span class="section-number">4.1.2. </span>Switches for <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code><a class="headerlink" href="#switches-for-gnatmake" title="Permalink to this headline">¶</a></h3>
<p>You may specify any of the following switches to <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>:</p>
<dl class="simple" id="index-2">
<dt><code class="switch docutils literal notranslate"><span class="pre">--version</span></code></dt><dd><p>Display Copyright and version, then exit disregarding all other options.</p>
</dd>
</dl>
<dl class="simple" id="index-3">
<dt><code class="switch docutils literal notranslate"><span class="pre">--help</span></code></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">--version</span></code> was not used, display usage, then exit disregarding
all other options.</p>
</dd>
</dl>
<dl class="simple" id="index-4">
<dt><code class="switch docutils literal notranslate"><span class="pre">--GCC=</span><em><span class="pre">compiler_name</span></em></code></dt><dd><p>Program used for compiling. The default is <code class="docutils literal notranslate"><span class="pre">gcc</span></code>. You need to use
quotes around <code class="docutils literal notranslate"><span class="pre">compiler_name</span></code> if <code class="docutils literal notranslate"><span class="pre">compiler_name</span></code> contains
spaces or other separator characters.
As an example <code class="docutils literal notranslate"><span class="pre">--GCC=&quot;foo</span> <span class="pre">-x</span>&#160; <span class="pre">-y&quot;</span></code>
will instruct <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> to use <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">-x</span> <span class="pre">-y</span></code> as your
compiler. A limitation of this syntax is that the name and path name of
the executable itself must not include any embedded spaces. Note that
switch <code class="switch docutils literal notranslate"><span class="pre">-c</span></code> is always inserted after your command name. Thus in the
above example the compiler command that will be used by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>
will be <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">-c</span> <span class="pre">-x</span> <span class="pre">-y</span></code>. If several <code class="docutils literal notranslate"><span class="pre">--GCC=compiler_name</span></code> are
used, only the last <code class="docutils literal notranslate"><span class="pre">compiler_name</span></code> is taken into account. However,
all the additional switches are also taken into account. Thus,
<code class="docutils literal notranslate"><span class="pre">--GCC=&quot;foo</span> <span class="pre">-x</span> <span class="pre">-y&quot;</span> <span class="pre">--GCC=&quot;bar</span> <span class="pre">-z</span> <span class="pre">-t&quot;</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">--GCC=&quot;bar</span> <span class="pre">-x</span> <span class="pre">-y</span> <span class="pre">-z</span> <span class="pre">-t&quot;</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-5">
<dt><code class="switch docutils literal notranslate"><span class="pre">--GNATBIND=</span><em><span class="pre">binder_name</span></em></code></dt><dd><p>Program used for binding. The default is <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>. You need to
use quotes around <code class="docutils literal notranslate"><span class="pre">binder_name</span></code> if <code class="docutils literal notranslate"><span class="pre">binder_name</span></code> contains spaces
or other separator characters.
As an example <code class="docutils literal notranslate"><span class="pre">--GNATBIND=&quot;bar</span> <span class="pre">-x</span>&#160; <span class="pre">-y&quot;</span></code>
will instruct <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> to use <code class="docutils literal notranslate"><span class="pre">bar</span> <span class="pre">-x</span> <span class="pre">-y</span></code> as your
binder. Binder switches that are normally appended by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>
to <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> are now appended to the end of <code class="docutils literal notranslate"><span class="pre">bar</span> <span class="pre">-x</span> <span class="pre">-y</span></code>.
A limitation of this syntax is that the name and path name of the executable
itself must not include any embedded spaces.</p>
</dd>
</dl>
<dl class="simple" id="index-6">
<dt><code class="switch docutils literal notranslate"><span class="pre">--GNATLINK=</span><em><span class="pre">linker_name</span></em></code></dt><dd><p>Program used for linking. The default is <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code>. You need to
use quotes around <code class="docutils literal notranslate"><span class="pre">linker_name</span></code> if <code class="docutils literal notranslate"><span class="pre">linker_name</span></code> contains spaces
or other separator characters.
As an example <code class="docutils literal notranslate"><span class="pre">--GNATLINK=&quot;lan</span> <span class="pre">-x</span>&#160; <span class="pre">-y&quot;</span></code>
will instruct <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> to use <code class="docutils literal notranslate"><span class="pre">lan</span> <span class="pre">-x</span> <span class="pre">-y</span></code> as your
linker. Linker switches that are normally appended by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> to
<code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> are now appended to the end of <code class="docutils literal notranslate"><span class="pre">lan</span> <span class="pre">-x</span> <span class="pre">-y</span></code>.
A limitation of this syntax is that the name and path name of the executable
itself must not include any embedded spaces.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">--create-map-file</span></code></dt><dd><p>When linking an executable, create a map file. The name of the map file
has the same name as the executable with extension “.map”.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">--create-map-file=</span><em><span class="pre">mapfile</span></em></code></dt><dd><p>When linking an executable, create a map file with the specified name.</p>
</dd>
</dl>
<dl class="simple" id="index-7">
<dt><code class="switch docutils literal notranslate"><span class="pre">--create-missing-dirs</span></code></dt><dd><p>When using project files (<code class="switch docutils literal notranslate"><span class="pre">-P</span><em><span class="pre">project</span></em></code>), automatically create
missing object directories, library directories and exec
directories.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">--single-compile-per-obj-dir</span></code></dt><dd><p>Disallow simultaneous compilations in the same object directory when
project files are used.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">--subdirs=</span><em><span class="pre">subdir</span></em></code></dt><dd><p>Actual object directory of each project file is the subdirectory subdir of the
object directory specified or defaulted in the project file.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">--unchecked-shared-lib-imports</span></code></dt><dd><p>By default, shared library projects are not allowed to import static library
projects. When this switch is used on the command line, this restriction is
relaxed.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">--source-info=</span><em><span class="pre">source</span> <span class="pre">info</span> <span class="pre">file</span></em></code></dt><dd><p>Specify a source info file. This switch is active only when project files
are used. If the source info file is specified as a relative path, then it is
relative to the object directory of the main project. If the source info file
does not exist, then after the Project Manager has successfully parsed and
processed the project files and found the sources, it creates the source info
file. If the source info file already exists and can be read successfully,
then the Project Manager will get all the needed information about the sources
from the source info file and will not look for them. This reduces the time
to process the project files, especially when looking for sources that take a
long time. If the source info file exists but cannot be parsed successfully,
the Project Manager will attempt to recreate it. If the Project Manager fails
to create the source info file, a message is issued, but gnatmake does not
fail. <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> “trusts” the source info file. This means that
if the source files have changed (addition, deletion, moving to a different
source directory), then the source info file need to be deleted and recreated.</p>
</dd>
</dl>
<dl id="index-8">
<dt><code class="switch docutils literal notranslate"><span class="pre">-a</span></code></dt><dd><p>Consider all files in the make process, even the GNAT internal system
files (for example, the predefined Ada library files), as well as any
locked files. Locked files are files whose ALI file is write-protected.
By default,
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> does not check these files,
because the assumption is that the GNAT internal files are properly up
to date, and also that any write protected ALI files have been properly
installed. Note that if there is an installation problem, such that one
of these files is not up to date, it will be properly caught by the
binder.
You may have to specify this switch if you are working on GNAT
itself. The switch <code class="docutils literal notranslate"><span class="pre">-a</span></code> is also useful
in conjunction with <code class="docutils literal notranslate"><span class="pre">-f</span></code>
if you need to recompile an entire application,
including run-time files, using special configuration pragmas,
such as a <code class="docutils literal notranslate"><span class="pre">Normalize_Scalars</span></code> pragma.</p>
<p>By default
<code class="docutils literal notranslate"><span class="pre">gnatmake</span> <span class="pre">-a</span></code> compiles all GNAT
internal files with
<code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">-c</span> <span class="pre">-gnatpg</span></code> rather than <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">-c</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-9">
<dt><code class="switch docutils literal notranslate"><span class="pre">-b</span></code></dt><dd><p>Bind only. Can be combined with <code class="switch docutils literal notranslate"><span class="pre">-c</span></code> to do
compilation and binding, but no link.
Can be combined with <code class="switch docutils literal notranslate"><span class="pre">-l</span></code>
to do binding and linking. When not combined with
<code class="switch docutils literal notranslate"><span class="pre">-c</span></code>
all the units in the closure of the main program must have been previously
compiled and must be up to date. The root unit specified by <code class="docutils literal notranslate"><span class="pre">file_name</span></code>
may be given without extension, with the source extension or, if no GNAT
Project File is specified, with the ALI file extension.</p>
</dd>
</dl>
<dl class="simple" id="index-10">
<dt><code class="switch docutils literal notranslate"><span class="pre">-c</span></code></dt><dd><p>Compile only. Do not perform binding, except when <code class="switch docutils literal notranslate"><span class="pre">-b</span></code>
is also specified. Do not perform linking, except if both
<code class="switch docutils literal notranslate"><span class="pre">-b</span></code> and
<code class="switch docutils literal notranslate"><span class="pre">-l</span></code> are also specified.
If the root unit specified by <code class="docutils literal notranslate"><span class="pre">file_name</span></code> is not a main unit, this is the
default. Otherwise <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will attempt binding and linking
unless all objects are up to date and the executable is more recent than
the objects.</p>
</dd>
</dl>
<dl class="simple" id="index-11">
<dt><code class="switch docutils literal notranslate"><span class="pre">-C</span></code></dt><dd><p>Use a temporary mapping file. A mapping file is a way to communicate
to the compiler two mappings: from unit names to file names (without
any directory information) and from file names to path names (with
full directory information). A mapping file can make the compiler’s
file searches faster, especially if there are many source directories,
or the sources are read over a slow network connection. If
<code class="switch docutils literal notranslate"><span class="pre">-P</span></code> is used, a mapping file is always used, so
<code class="switch docutils literal notranslate"><span class="pre">-C</span></code> is unnecessary; in this case the mapping file
is initially populated based on the project file. If
<code class="switch docutils literal notranslate"><span class="pre">-C</span></code> is used without
<code class="switch docutils literal notranslate"><span class="pre">-P</span></code>,
the mapping file is initially empty. Each invocation of the compiler
will add any newly accessed sources to the mapping file.</p>
</dd>
</dl>
<dl class="simple" id="index-12">
<dt><code class="switch docutils literal notranslate"><span class="pre">-C=</span><em><span class="pre">file</span></em></code></dt><dd><p>Use a specific mapping file. The file, specified as a path name (absolute or
relative) by this switch, should already exist, otherwise the switch is
ineffective. The specified mapping file will be communicated to the compiler.
This switch is not compatible with a project file
(-P`file`) or with multiple compiling processes
(-jnnn, when nnn is greater than 1).</p>
</dd>
</dl>
<dl id="index-13">
<dt><code class="switch docutils literal notranslate"><span class="pre">-d</span></code></dt><dd><p>Display progress for each source, up to date or not, as a single line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">completed</span> <span class="n">x</span> <span class="n">out</span> <span class="n">of</span> <span class="n">y</span> <span class="p">(</span><span class="n">zz</span><span class="o">%</span><span class="p">)</span>
</pre></div>
</div>
<p>If the file needs to be compiled this is displayed after the invocation of
the compiler. These lines are displayed even in quiet output mode.</p>
</dd>
</dl>
<dl id="index-14">
<dt><code class="switch docutils literal notranslate"><span class="pre">-D</span> <em><span class="pre">dir</span></em></code></dt><dd><p>Put all object files and ALI file in directory <code class="docutils literal notranslate"><span class="pre">dir</span></code>.
If the <code class="switch docutils literal notranslate"><span class="pre">-D</span></code> switch is not used, all object files
and ALI files go in the current working directory.</p>
<p>This switch cannot be used when using a project file.</p>
</dd>
</dl>
<dl class="simple" id="index-15">
<dt><code class="switch docutils literal notranslate"><span class="pre">-eI</span><em><span class="pre">nnn</span></em></code></dt><dd><p>Indicates that the main source is a multi-unit source and the rank of the unit
in the source file is nnn. nnn needs to be a positive number and a valid
index in the source. This switch cannot be used when <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> is
invoked for several mains.</p>
</dd>
</dl>
<span class="target" id="index-16"></span><dl id="index-17">
<dt><code class="switch docutils literal notranslate"><span class="pre">-eL</span></code></dt><dd><p>Follow all symbolic links when processing project files.
This should be used if your project uses symbolic links for files or
directories, but is not needed in other cases.</p>
<p id="index-18">This also assumes that no directory matches the naming scheme for files (for
instance that you do not have a directory called “sources.ads” when using the
default GNAT naming scheme).</p>
<p>When you do not have to use this switch (i.e., by default), gnatmake is able to
save a lot of system calls (several per source file and object file), which
can result in a significant speed up to load and manipulate a project file,
especially when using source files from a remote system.</p>
</dd>
</dl>
<dl class="simple" id="index-19">
<dt><code class="switch docutils literal notranslate"><span class="pre">-eS</span></code></dt><dd><p>Output the commands for the compiler, the binder and the linker
on standard output,
instead of standard error.</p>
</dd>
</dl>
<dl class="simple" id="index-20">
<dt><code class="switch docutils literal notranslate"><span class="pre">-f</span></code></dt><dd><p>Force recompilations. Recompile all sources, even though some object
files may be up to date, but don’t recompile predefined or GNAT internal
files or locked files (files with a write-protected ALI file),
unless the <code class="switch docutils literal notranslate"><span class="pre">-a</span></code> switch is also specified.</p>
</dd>
</dl>
<dl class="simple" id="index-21">
<dt><code class="switch docutils literal notranslate"><span class="pre">-F</span></code></dt><dd><p>When using project files, if some errors or warnings are detected during
parsing and verbose mode is not in effect (no use of switch
-v), then error lines start with the full path name of the project
file, rather than its simple file name.</p>
</dd>
</dl>
<dl class="simple" id="index-22">
<dt><code class="switch docutils literal notranslate"><span class="pre">-g</span></code></dt><dd><p>Enable debugging. This switch is simply passed to the compiler and to the
linker.</p>
</dd>
</dl>
<dl class="simple" id="index-23">
<dt><code class="switch docutils literal notranslate"><span class="pre">-i</span></code></dt><dd><p>In normal mode, <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> compiles all object files and ALI files
into the current directory. If the <code class="switch docutils literal notranslate"><span class="pre">-i</span></code> switch is used,
then instead object files and ALI files that already exist are overwritten
in place. This means that once a large project is organized into separate
directories in the desired manner, then <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will automatically
maintain and update this organization. If no ALI files are found on the
Ada object path (see <a class="reference internal" href="#search-paths-and-the-run-time-library-rtl"><span class="std std-ref">Search Paths and the Run-Time Library (RTL)</span></a>),
the new object and ALI files are created in the
directory containing the source being compiled. If another organization
is desired, where objects and sources are kept in different directories,
a useful technique is to create dummy ALI files in the desired directories.
When detecting such a dummy file, <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will be forced to
recompile the corresponding source file, and it will be put the resulting
object and ALI files in the directory where it found the dummy file.</p>
</dd>
</dl>
<span class="target" id="index-24"></span><dl class="simple" id="index-25">
<dt><code class="switch docutils literal notranslate"><span class="pre">-j</span><em><span class="pre">n</span></em></code></dt><dd><p>Use <code class="docutils literal notranslate"><span class="pre">n</span></code> processes to carry out the (re)compilations. On a multiprocessor
machine compilations will occur in parallel. If <code class="docutils literal notranslate"><span class="pre">n</span></code> is 0, then the
maximum number of parallel compilations is the number of core processors
on the platform. In the event of compilation errors, messages from various
compilations might get interspersed (but <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will give you the
full ordered list of failing compiles at the end). If this is problematic,
rerun the make process with n set to 1 to get a clean list of messages.</p>
</dd>
</dl>
<dl id="index-26">
<dt><code class="switch docutils literal notranslate"><span class="pre">-k</span></code></dt><dd><p>Keep going. Continue as much as possible after a compilation error. To
ease the programmer’s task in case of compilation errors, the list of
sources for which the compile fails is given when <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>
terminates.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> is invoked with several <code class="file docutils literal notranslate"><span class="pre">file_names</span></code> and with this
switch, if there are compilation errors when building an executable,
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will not attempt to build the following executables.</p>
</dd>
</dl>
<dl class="simple" id="index-27">
<dt><code class="switch docutils literal notranslate"><span class="pre">-l</span></code></dt><dd><p>Link only. Can be combined with <code class="switch docutils literal notranslate"><span class="pre">-b</span></code> to binding
and linking. Linking will not be performed if combined with
<code class="switch docutils literal notranslate"><span class="pre">-c</span></code>
but not with <code class="switch docutils literal notranslate"><span class="pre">-b</span></code>.
When not combined with <code class="switch docutils literal notranslate"><span class="pre">-b</span></code>
all the units in the closure of the main program must have been previously
compiled and must be up to date, and the main program needs to have been bound.
The root unit specified by <code class="docutils literal notranslate"><span class="pre">file_name</span></code>
may be given without extension, with the source extension or, if no GNAT
Project File is specified, with the ALI file extension.</p>
</dd>
</dl>
<dl class="simple" id="index-28">
<dt><code class="switch docutils literal notranslate"><span class="pre">-m</span></code></dt><dd><p>Specify that the minimum necessary amount of recompilations
be performed. In this mode <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> ignores time
stamp differences when the only
modifications to a source file consist in adding/removing comments,
empty lines, spaces or tabs. This means that if you have changed the
comments in a source file or have simply reformatted it, using this
switch will tell <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> not to recompile files that depend on it
(provided other sources on which these files depend have undergone no
semantic modifications). Note that the debugging information may be
out of date with respect to the sources if the <code class="switch docutils literal notranslate"><span class="pre">-m</span></code> switch causes
a compilation to be switched, so the use of this switch represents a
trade-off between compilation time and accurate debugging information.</p>
</dd>
</dl>
<span class="target" id="index-29"></span><dl class="simple" id="index-30">
<dt><code class="switch docutils literal notranslate"><span class="pre">-M</span></code></dt><dd><p>Check if all objects are up to date. If they are, output the object
dependences to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code> in a form that can be directly exploited in
a <code class="file docutils literal notranslate"><span class="pre">Makefile</span></code>. By default, each source file is prefixed with its
(relative or absolute) directory name. This name is whatever you
specified in the various <code class="switch docutils literal notranslate"><span class="pre">-aI</span></code>
and <code class="switch docutils literal notranslate"><span class="pre">-I</span></code> switches. If you use
<code class="docutils literal notranslate"><span class="pre">gnatmake</span> <span class="pre">-M</span></code>  <code class="switch docutils literal notranslate"><span class="pre">-q</span></code>
(see below), only the source file names,
without relative paths, are output. If you just specify the  <code class="switch docutils literal notranslate"><span class="pre">-M</span></code>
switch, dependencies of the GNAT internal system files are omitted. This
is typically what you want. If you also specify
the <code class="switch docutils literal notranslate"><span class="pre">-a</span></code> switch,
dependencies of the GNAT internal files are also listed. Note that
dependencies of the objects in external Ada libraries (see
switch  <code class="switch docutils literal notranslate"><span class="pre">-aL</span><em><span class="pre">dir</span></em></code> in the following list)
are never reported.</p>
</dd>
</dl>
<dl class="simple" id="index-31">
<dt><code class="switch docutils literal notranslate"><span class="pre">-n</span></code></dt><dd><p>Don’t compile, bind, or link. Checks if all objects are up to date.
If they are not, the full name of the first file that needs to be
recompiled is printed.
Repeated use of this option, followed by compiling the indicated source
file, will eventually result in recompiling all required units.</p>
</dd>
</dl>
<dl id="index-32">
<dt><code class="switch docutils literal notranslate"><span class="pre">-o</span> <em><span class="pre">exec_name</span></em></code></dt><dd><p>Output executable name. The name of the final executable program will be
<code class="docutils literal notranslate"><span class="pre">exec_name</span></code>. If the <code class="switch docutils literal notranslate"><span class="pre">-o</span></code> switch is omitted the default
name for the executable will be the name of the input file in appropriate form
for an executable file on the host system.</p>
<p>This switch cannot be used when invoking <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> with several
<code class="file docutils literal notranslate"><span class="pre">file_names</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-33">
<dt><code class="switch docutils literal notranslate"><span class="pre">-p</span></code></dt><dd><p>Same as <code class="switch docutils literal notranslate"><span class="pre">--create-missing-dirs</span></code></p>
</dd>
</dl>
<dl class="simple" id="index-34">
<dt><code class="switch docutils literal notranslate"><span class="pre">-P</span><em><span class="pre">project</span></em></code></dt><dd><p>Use project file <code class="docutils literal notranslate"><span class="pre">project</span></code>. Only one such switch can be used.</p>
</dd>
</dl>
<dl class="simple" id="index-35">
<dt><code class="switch docutils literal notranslate"><span class="pre">-q</span></code></dt><dd><p>Quiet. When this flag is not set, the commands carried out by
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> are displayed.</p>
</dd>
</dl>
<dl id="index-36">
<dt><code class="switch docutils literal notranslate"><span class="pre">-s</span></code></dt><dd><p>Recompile if compiler switches have changed since last compilation.
All compiler switches but -I and -o are taken into account in the
following way:
orders between different ‘first letter’ switches are ignored, but
orders between same switches are taken into account. For example,
<code class="switch docutils literal notranslate"><span class="pre">-O</span> <span class="pre">-O2</span></code> is different than <code class="switch docutils literal notranslate"><span class="pre">-O2</span> <span class="pre">-O</span></code>, but <code class="switch docutils literal notranslate"><span class="pre">-g</span> <span class="pre">-O</span></code>
is equivalent to <code class="switch docutils literal notranslate"><span class="pre">-O</span> <span class="pre">-g</span></code>.</p>
<p>This switch is recommended when Integrated Preprocessing is used.</p>
</dd>
</dl>
<dl class="simple" id="index-37">
<dt><code class="switch docutils literal notranslate"><span class="pre">-u</span></code></dt><dd><p>Unique. Recompile at most the main files. It implies -c. Combined with
-f, it is equivalent to calling the compiler directly. Note that using
-u with a project file and no main has a special meaning.</p>
</dd>
</dl>
<dl class="simple" id="index-38">
<dt><code class="switch docutils literal notranslate"><span class="pre">-U</span></code></dt><dd><p>When used without a project file or with one or several mains on the command
line, is equivalent to -u. When used with a project file and no main
on the command line, all sources of all project files are checked and compiled
if not up to date, and libraries are rebuilt, if necessary.</p>
</dd>
</dl>
<dl class="simple" id="index-39">
<dt><code class="switch docutils literal notranslate"><span class="pre">-v</span></code></dt><dd><p>Verbose. Display the reason for all recompilations <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>
decides are necessary, with the highest verbosity level.</p>
</dd>
</dl>
<dl class="simple" id="index-40">
<dt><code class="switch docutils literal notranslate"><span class="pre">-vl</span></code></dt><dd><p>Verbosity level Low. Display fewer lines than in verbosity Medium.</p>
</dd>
</dl>
<dl class="simple" id="index-41">
<dt><code class="switch docutils literal notranslate"><span class="pre">-vm</span></code></dt><dd><p>Verbosity level Medium. Potentially display fewer lines than in verbosity High.</p>
</dd>
</dl>
<dl class="simple" id="index-42">
<dt><code class="switch docutils literal notranslate"><span class="pre">-vh</span></code></dt><dd><p>Verbosity level High. Equivalent to -v.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">-vP</span><em><span class="pre">x</span></em></code></dt><dd><p>Indicate the verbosity of the parsing of GNAT project files.
See <a class="reference internal" href="gnat_utility_programs.html#switches-related-to-project-files"><span class="std std-ref">Switches Related to Project Files</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-43">
<dt><code class="switch docutils literal notranslate"><span class="pre">-x</span></code></dt><dd><p>Indicate that sources that are not part of any Project File may be compiled.
Normally, when using Project Files, only sources that are part of a Project
File may be compile. When this switch is used, a source outside of all Project
Files may be compiled. The ALI file and the object file will be put in the
object directory of the main Project. The compilation switches used will only
be those specified on the command line. Even when
<code class="switch docutils literal notranslate"><span class="pre">-x</span></code> is used, mains specified on the
command line need to be sources of a project file.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">-X</span><em><span class="pre">name</span></em><span class="pre">=</span><em><span class="pre">value</span></em></code></dt><dd><p>Indicate that external variable <code class="docutils literal notranslate"><span class="pre">name</span></code> has the value <code class="docutils literal notranslate"><span class="pre">value</span></code>.
The Project Manager will use this value for occurrences of
<code class="docutils literal notranslate"><span class="pre">external(name)</span></code> when parsing the project file.
<a class="reference internal" href="gnat_utility_programs.html#switches-related-to-project-files"><span class="std std-ref">Switches Related to Project Files</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-44">
<dt><code class="switch docutils literal notranslate"><span class="pre">-z</span></code></dt><dd><p>No main subprogram. Bind and link the program even if the unit name
given on the command line is a package name. The resulting executable
will execute the elaboration routines of the package and its closure,
then the finalization routines.</p>
</dd>
</dl>
<p class="rubric">GCC switches</p>
<p>Any uppercase or multi-character switch that is not a <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> switch
is passed to <code class="docutils literal notranslate"><span class="pre">gcc</span></code> (e.g., <code class="switch docutils literal notranslate"><span class="pre">-O</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnato,</span></code> etc.)</p>
<p class="rubric">Source and library search path switches</p>
<dl class="simple" id="index-45">
<dt><code class="switch docutils literal notranslate"><span class="pre">-aI</span><em><span class="pre">dir</span></em></code></dt><dd><p>When looking for source files also look in directory <code class="docutils literal notranslate"><span class="pre">dir</span></code>.
The order in which source files search is undertaken is
described in <a class="reference internal" href="#search-paths-and-the-run-time-library-rtl"><span class="std std-ref">Search Paths and the Run-Time Library (RTL)</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-46">
<dt><code class="switch docutils literal notranslate"><span class="pre">-aL</span><em><span class="pre">dir</span></em></code></dt><dd><p>Consider <code class="docutils literal notranslate"><span class="pre">dir</span></code> as being an externally provided Ada library.
Instructs <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> to skip compilation units whose <code class="file docutils literal notranslate"><span class="pre">.ALI</span></code>
files have been located in directory <code class="docutils literal notranslate"><span class="pre">dir</span></code>. This allows you to have
missing bodies for the units in <code class="docutils literal notranslate"><span class="pre">dir</span></code> and to ignore out of date bodies
for the same units. You still need to specify
the location of the specs for these units by using the switches
<code class="switch docutils literal notranslate"><span class="pre">-aI</span><em><span class="pre">dir</span></em></code>  or <code class="switch docutils literal notranslate"><span class="pre">-I</span><em><span class="pre">dir</span></em></code>.
Note: this switch is provided for compatibility with previous versions
of <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>. The easier method of causing standard libraries
to be excluded from consideration is to write-protect the corresponding
ALI files.</p>
</dd>
</dl>
<dl class="simple" id="index-47">
<dt><code class="switch docutils literal notranslate"><span class="pre">-aO</span><em><span class="pre">dir</span></em></code></dt><dd><p>When searching for library and object files, look in directory
<code class="docutils literal notranslate"><span class="pre">dir</span></code>. The order in which library files are searched is described in
<a class="reference internal" href="#search-paths-for-gnatbind"><span class="std std-ref">Search Paths for gnatbind</span></a>.</p>
</dd>
</dl>
<span class="target" id="index-48"></span><dl id="index-49">
<dt><code class="switch docutils literal notranslate"><span class="pre">-A</span><em><span class="pre">dir</span></em></code></dt><dd><p>Equivalent to <code class="switch docutils literal notranslate"><span class="pre">-aL</span><em><span class="pre">dir</span></em></code> <code class="switch docutils literal notranslate"><span class="pre">-aI</span><em><span class="pre">dir</span></em></code>.</p>
</dd>
<dt id="index-50"><code class="switch docutils literal notranslate"><span class="pre">-I</span><em><span class="pre">dir</span></em></code></dt><dd><p>Equivalent to <code class="switch docutils literal notranslate"><span class="pre">-aO</span><em><span class="pre">dir</span></em> <span class="pre">-aI</span><em><span class="pre">dir</span></em></code>.</p>
</dd>
</dl>
<span class="target" id="index-51"></span><dl class="simple" id="index-52">
<dt><code class="switch docutils literal notranslate"><span class="pre">-I-</span></code></dt><dd><p>Do not look for source files in the directory containing the source
file named in the command line.
Do not look for ALI or object files in the directory
where <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> was invoked.</p>
</dd>
</dl>
<span class="target" id="index-53"></span><dl class="simple" id="index-54">
<dt><code class="switch docutils literal notranslate"><span class="pre">-L</span><em><span class="pre">dir</span></em></code></dt><dd><p>Add directory <code class="docutils literal notranslate"><span class="pre">dir</span></code> to the list of directories in which the linker
will search for libraries. This is equivalent to
<code class="switch docutils literal notranslate"><span class="pre">-largs</span></code> <code class="switch docutils literal notranslate"><span class="pre">-L</span><em><span class="pre">dir</span></em></code>.
Furthermore, under Windows, the sources pointed to by the libraries path
set in the registry are not searched for.</p>
</dd>
</dl>
<dl class="simple" id="index-55">
<dt><code class="switch docutils literal notranslate"><span class="pre">-nostdinc</span></code></dt><dd><p>Do not look for source files in the system default directory.</p>
</dd>
</dl>
<dl class="simple" id="index-56">
<dt><code class="switch docutils literal notranslate"><span class="pre">-nostdlib</span></code></dt><dd><p>Do not look for library files in the system default directory.</p>
</dd>
</dl>
<dl class="simple" id="index-57">
<dt><code class="switch docutils literal notranslate"><span class="pre">--RTS=</span><em><span class="pre">rts-path</span></em></code></dt><dd><p>Specifies the default location of the run-time library. GNAT looks for the
run-time
in the following directories, and stops as soon as a valid run-time is found
(<code class="file docutils literal notranslate"><span class="pre">adainclude</span></code> or <code class="file docutils literal notranslate"><span class="pre">ada_source_path</span></code>, and <code class="file docutils literal notranslate"><span class="pre">adalib</span></code> or
<code class="file docutils literal notranslate"><span class="pre">ada_object_path</span></code> present):</p>
<ul class="simple">
<li><p><em>&lt;current directory&gt;/$rts_path</em></p></li>
<li><p><em>&lt;default-search-dir&gt;/$rts_path</em></p></li>
<li><p><em>&lt;default-search-dir&gt;/rts-$rts_path</em></p></li>
<li><p>The selected path is handled like a normal RTS path.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="mode-switches-for-gnatmake">
<span id="id4"></span><h3><span class="section-number">4.1.3. </span>Mode Switches for <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code><a class="headerlink" href="#mode-switches-for-gnatmake" title="Permalink to this headline">¶</a></h3>
<p>The mode switches (referred to as <code class="docutils literal notranslate"><span class="pre">mode_switches</span></code>) allow the
inclusion of switches that are to be passed to the compiler itself, the
binder or the linker. The effect of a mode switch is to cause all
subsequent switches up to the end of the switch list, or up to the next
mode switch, to be interpreted as switches to be passed on to the
designated component of GNAT.</p>
<dl class="simple" id="index-58">
<dt><code class="switch docutils literal notranslate"><span class="pre">-cargs</span> <em><span class="pre">switches</span></em></code></dt><dd><p>Compiler switches. Here <code class="docutils literal notranslate"><span class="pre">switches</span></code> is a list of switches
that are valid switches for <code class="docutils literal notranslate"><span class="pre">gcc</span></code>. They will be passed on to
all compile steps performed by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-59">
<dt><code class="switch docutils literal notranslate"><span class="pre">-bargs</span> <em><span class="pre">switches</span></em></code></dt><dd><p>Binder switches. Here <code class="docutils literal notranslate"><span class="pre">switches</span></code> is a list of switches
that are valid switches for <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>. They will be passed on to
all bind steps performed by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-60">
<dt><code class="switch docutils literal notranslate"><span class="pre">-largs</span> <em><span class="pre">switches</span></em></code></dt><dd><p>Linker switches. Here <code class="docutils literal notranslate"><span class="pre">switches</span></code> is a list of switches
that are valid switches for <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code>. They will be passed on to
all link steps performed by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-61">
<dt><code class="switch docutils literal notranslate"><span class="pre">-margs</span> <em><span class="pre">switches</span></em></code></dt><dd><p>Make switches. The switches are directly interpreted by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>,
regardless of any previous occurrence of <code class="switch docutils literal notranslate"><span class="pre">-cargs</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-bargs</span></code>
or <code class="switch docutils literal notranslate"><span class="pre">-largs</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="notes-on-the-command-line">
<span id="id5"></span><h3><span class="section-number">4.1.4. </span>Notes on the Command Line<a class="headerlink" href="#notes-on-the-command-line" title="Permalink to this headline">¶</a></h3>
<p>This section contains some additional useful notes on the operation
of the <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> command.</p>
<ul id="index-62">
<li><p>If <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> finds no ALI files, it recompiles the main program
and all other units required by the main program.
This means that <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>
can be used for the initial compile, as well as during subsequent steps of
the development cycle.</p></li>
<li><p>If you enter <code class="docutils literal notranslate"><span class="pre">gnatmake</span> <span class="pre">foo.adb</span></code>, where <code class="docutils literal notranslate"><span class="pre">foo</span></code>
is a subunit or body of a generic unit, <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> recompiles
<code class="file docutils literal notranslate"><span class="pre">foo.adb</span></code> (because it finds no ALI) and stops, issuing a
warning.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> the switch <code class="switch docutils literal notranslate"><span class="pre">-I</span></code>
is used to specify both source and
library file paths. Use <code class="switch docutils literal notranslate"><span class="pre">-aI</span></code>
instead if you just want to specify
source paths only and <code class="switch docutils literal notranslate"><span class="pre">-aO</span></code>
if you want to specify library paths
only.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will ignore any files whose ALI file is write-protected.
This may conveniently be used to exclude standard libraries from
consideration and in particular it means that the use of the
<code class="switch docutils literal notranslate"><span class="pre">-f</span></code> switch will not recompile these files
unless <code class="switch docutils literal notranslate"><span class="pre">-a</span></code> is also specified.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> has been designed to make the use of Ada libraries
particularly convenient. Assume you have an Ada library organized
as follows: <em>obj-dir</em> contains the objects and ALI files for
of your Ada compilation units,
whereas <em>include-dir</em> contains the
specs of these units, but no bodies. Then to compile a unit
stored in <code class="docutils literal notranslate"><span class="pre">main.adb</span></code>, which uses this Ada library you would just type:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gnatmake -aI<span class="sb">`</span>include-dir<span class="sb">`</span>  -aL<span class="sb">`</span>obj-dir<span class="sb">`</span>  main
</pre></div>
</div>
</li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> along with the <code class="switch docutils literal notranslate"><span class="pre">-m</span> <span class="pre">(minimal</span> <span class="pre">recompilation)</span></code>
switch provides a mechanism for avoiding unnecessary recompilations. Using
this switch,
you can update the comments/format of your
source files without having to recompile everything. Note, however, that
adding or deleting lines in a source files may render its debugging
info obsolete. If the file in question is a spec, the impact is rather
limited, as that debugging info will only be useful during the
elaboration phase of your program. For bodies the impact can be more
significant. In all events, your debugger will warn you if a source file
is more recent than the corresponding object, and alert you to the fact
that the debugging information may be out of date.</p></li>
</ul>
</div>
<div class="section" id="how-gnatmake-works">
<span id="id6"></span><h3><span class="section-number">4.1.5. </span>How <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> Works<a class="headerlink" href="#how-gnatmake-works" title="Permalink to this headline">¶</a></h3>
<p>Generally <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> automatically performs all necessary
recompilations and you don’t need to worry about how it works. However,
it may be useful to have some basic understanding of the <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>
approach and in particular to understand how it uses the results of
previous compilations without incorrectly depending on them.</p>
<p>First a definition: an object file is considered <em>up to date</em> if the
corresponding ALI file exists and if all the source files listed in the
dependency section of this ALI file have time stamps matching those in
the ALI file. This means that neither the source file itself nor any
files that it depends on have been modified, and hence there is no need
to recompile this file.</p>
<p><code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> works by first checking if the specified main unit is up
to date. If so, no compilations are required for the main unit. If not,
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> compiles the main program to build a new ALI file that
reflects the latest sources. Then the ALI file of the main unit is
examined to find all the source files on which the main program depends,
and <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> recursively applies the above procedure on all these
files.</p>
<p>This process ensures that <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> only trusts the dependencies
in an existing ALI file if they are known to be correct. Otherwise it
always recompiles to determine a new, guaranteed accurate set of
dependencies. As a result the program is compiled ‘upside down’ from what may
be more familiar as the required order of compilation in some other Ada
systems. In particular, clients are compiled before the units on which
they depend. The ability of GNAT to compile in any order is critical in
allowing an order of compilation to be chosen that guarantees that
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will recompute a correct set of new dependencies if
necessary.</p>
<p>When invoking <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> with several <code class="docutils literal notranslate"><span class="pre">file_names</span></code>, if a unit is
imported by several of the executables, it will be recompiled at most once.</p>
<p>Note: when using non-standard naming conventions
(<a class="reference internal" href="the_gnat_compilation_model.html#using-other-file-names"><span class="std std-ref">Using Other File Names</span></a>), changing through a configuration pragmas
file the version of a source and invoking <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> to recompile may
have no effect, if the previous version of the source is still accessible
by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>. It may be necessary to use the switch
-f.</p>
</div>
<div class="section" id="examples-of-gnatmake-usage">
<span id="id7"></span><h3><span class="section-number">4.1.6. </span>Examples of <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> Usage<a class="headerlink" href="#examples-of-gnatmake-usage" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><em>gnatmake hello.adb</em></dt><dd><p>Compile all files necessary to bind and link the main program
<code class="file docutils literal notranslate"><span class="pre">hello.adb</span></code> (containing unit <code class="docutils literal notranslate"><span class="pre">Hello</span></code>) and bind and link the
resulting object files to generate an executable file <code class="file docutils literal notranslate"><span class="pre">hello</span></code>.</p>
</dd>
<dt><em>gnatmake main1 main2 main3</em></dt><dd><p>Compile all files necessary to bind and link the main programs
<code class="file docutils literal notranslate"><span class="pre">main1.adb</span></code> (containing unit <code class="docutils literal notranslate"><span class="pre">Main1</span></code>), <code class="file docutils literal notranslate"><span class="pre">main2.adb</span></code>
(containing unit <code class="docutils literal notranslate"><span class="pre">Main2</span></code>) and <code class="file docutils literal notranslate"><span class="pre">main3.adb</span></code>
(containing unit <code class="docutils literal notranslate"><span class="pre">Main3</span></code>) and bind and link the resulting object files
to generate three executable files <code class="file docutils literal notranslate"><span class="pre">main1</span></code>,
<code class="file docutils literal notranslate"><span class="pre">main2</span></code>  and <code class="file docutils literal notranslate"><span class="pre">main3</span></code>.</p>
</dd>
<dt><em>gnatmake -q Main_Unit -cargs -O2 -bargs -l</em></dt><dd><p>Compile all files necessary to bind and link the main program unit
<code class="docutils literal notranslate"><span class="pre">Main_Unit</span></code> (from file <code class="file docutils literal notranslate"><span class="pre">main_unit.adb</span></code>). All compilations will
be done with optimization level 2 and the order of elaboration will be
listed by the binder. <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will operate in quiet mode, not
displaying commands it is executing.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="compiling-with-gcc">
<span id="id8"></span><h2><span class="section-number">4.2. </span>Compiling with <code class="docutils literal notranslate"><span class="pre">gcc</span></code><a class="headerlink" href="#compiling-with-gcc" title="Permalink to this headline">¶</a></h2>
<p>This section discusses how to compile Ada programs using the <code class="docutils literal notranslate"><span class="pre">gcc</span></code>
command. It also describes the set of switches
that can be used to control the behavior of the compiler.</p>
<div class="section" id="compiling-programs">
<span id="id9"></span><h3><span class="section-number">4.2.1. </span>Compiling Programs<a class="headerlink" href="#compiling-programs" title="Permalink to this headline">¶</a></h3>
<p>The first step in creating an executable program is to compile the units
of the program using the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> command. You must compile the
following files:</p>
<ul class="simple">
<li><p>the body file (<code class="file docutils literal notranslate"><span class="pre">.adb</span></code>) for a library level subprogram or generic
subprogram</p></li>
<li><p>the spec file (<code class="file docutils literal notranslate"><span class="pre">.ads</span></code>) for a library level package or generic
package that has no body</p></li>
<li><p>the body file (<code class="file docutils literal notranslate"><span class="pre">.adb</span></code>) for a library level package
or generic package that has a body</p></li>
</ul>
<p>You need <em>not</em> compile the following files</p>
<ul class="simple">
<li><p>the spec of a library unit which has a body</p></li>
<li><p>subunits</p></li>
</ul>
<p>because they are compiled as part of compiling related units. GNAT
package specs
when the corresponding body is compiled, and subunits when the parent is
compiled.</p>
<p id="index-63">If you attempt to compile any of these files, you will get one of the
following error messages (where <code class="docutils literal notranslate"><span class="pre">fff</span></code> is the name of the file you
compiled):</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cannot generate code for file ``fff`` (package spec)
to check package spec, use -gnatc

cannot generate code for file ``fff`` (missing subunits)
to check parent unit, use -gnatc

cannot generate code for file ``fff`` (subprogram spec)
to check subprogram spec, use -gnatc

cannot generate code for file ``fff`` (subunit)
to check subunit, use -gnatc
</pre></div>
</div>
</div></blockquote>
<p>As indicated by the above error messages, if you want to submit
one of these files to the compiler to check for correct semantics
without generating code, then use the <code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code> switch.</p>
<p>The basic command for compiling a file containing an Ada unit is:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gcc -c <span class="o">[</span>switches<span class="o">]</span> &lt;file name&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span></code> is the name of the Ada file (usually
having an extension <code class="file docutils literal notranslate"><span class="pre">.ads</span></code> for a spec or <code class="file docutils literal notranslate"><span class="pre">.adb</span></code> for a body).
You specify the
<code class="switch docutils literal notranslate"><span class="pre">-c</span></code> switch to tell <code class="docutils literal notranslate"><span class="pre">gcc</span></code> to compile, but not link, the file.
The result of a successful compilation is an object file, which has the
same name as the source file but an extension of <code class="file docutils literal notranslate"><span class="pre">.o</span></code> and an Ada
Library Information (ALI) file, which also has the same name as the
source file, but with <code class="file docutils literal notranslate"><span class="pre">.ali</span></code> as the extension. GNAT creates these
two output files in the current directory, but you may specify a source
file in any directory using an absolute or relative path specification
containing the directory information.</p>
<p>TESTING: the <code class="switch docutils literal notranslate"><span class="pre">--foobar</span><em><span class="pre">NN</span></em></code> switch</p>
<p id="index-64"><code class="docutils literal notranslate"><span class="pre">gcc</span></code> is actually a driver program that looks at the extensions of
the file arguments and loads the appropriate compiler. For example, the
GNU C compiler is <code class="file docutils literal notranslate"><span class="pre">cc1</span></code>, and the Ada compiler is <code class="file docutils literal notranslate"><span class="pre">gnat1</span></code>.
These programs are in directories known to the driver program (in some
configurations via environment variables you set), but need not be in
your path. The <code class="docutils literal notranslate"><span class="pre">gcc</span></code> driver also calls the assembler and any other
utilities needed to complete the generation of the required object
files.</p>
<p>It is possible to supply several file names on the same <code class="docutils literal notranslate"><span class="pre">gcc</span></code>
command. This causes <code class="docutils literal notranslate"><span class="pre">gcc</span></code> to call the appropriate compiler for
each file. For example, the following command lists two separate
files to be compiled:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gcc -c x.adb y.adb
</pre></div>
</div>
<p>calls <code class="docutils literal notranslate"><span class="pre">gnat1</span></code> (the Ada compiler) twice to compile <code class="file docutils literal notranslate"><span class="pre">x.adb</span></code> and
<code class="file docutils literal notranslate"><span class="pre">y.adb</span></code>.
The compiler generates two object files <code class="file docutils literal notranslate"><span class="pre">x.o</span></code> and <code class="file docutils literal notranslate"><span class="pre">y.o</span></code>
and the two ALI files <code class="file docutils literal notranslate"><span class="pre">x.ali</span></code> and <code class="file docutils literal notranslate"><span class="pre">y.ali</span></code>.</p>
<p>Any switches apply to all the files listed, see <a class="reference internal" href="#switches-for-gcc"><span class="std std-ref">Compiler Switches</span></a> for a
list of available <code class="docutils literal notranslate"><span class="pre">gcc</span></code> switches.</p>
</div>
<div class="section" id="search-paths-and-the-run-time-library-rtl">
<span id="id10"></span><h3><span class="section-number">4.2.2. </span>Search Paths and the Run-Time Library (RTL)<a class="headerlink" href="#search-paths-and-the-run-time-library-rtl" title="Permalink to this headline">¶</a></h3>
<p>With the GNAT source-based library system, the compiler must be able to
find source files for units that are needed by the unit being compiled.
Search paths are used to guide this process.</p>
<p>The compiler compiles one source file whose name must be given
explicitly on the command line. In other words, no searching is done
for this file. To find all other source files that are needed (the most
common being the specs of units), the compiler examines the following
directories, in the following order:</p>
<ul>
<li><p>The directory containing the source file of the main unit being compiled
(the file name on the command line).</p></li>
<li><p>Each directory named by an <code class="switch docutils literal notranslate"><span class="pre">-I</span></code> switch given on the <code class="docutils literal notranslate"><span class="pre">gcc</span></code>
command line, in the order given.</p>
</li>
<li id="index-65"><p>Each of the directories listed in the text file whose name is given
by the <span class="target" id="index-66"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ADA_PRJ_INCLUDE_FILE</span></code> environment variable.
<span class="target" id="index-67"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ADA_PRJ_INCLUDE_FILE</span></code> is normally set by gnatmake or by the gnat
driver when project files are used. It should not normally be set
by other means.</p>
</li>
<li id="index-68"><p>Each of the directories listed in the value of the
<span class="target" id="index-69"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ADA_INCLUDE_PATH</span></code> environment variable.
Construct this value
exactly as the <span class="target" id="index-70"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code> environment variable: a list of directory
names separated by colons (semicolons when working with the NT version).</p></li>
<li><p>The content of the <code class="file docutils literal notranslate"><span class="pre">ada_source_path</span></code> file which is part of the GNAT
installation tree and is used to store standard libraries such as the
GNAT Run Time Library (RTL) source files.
<a class="reference internal" href="the_gnat_compilation_model.html#installing-a-library"><span class="std std-ref">Installing a library</span></a></p></li>
</ul>
<p>Specifying the switch <code class="switch docutils literal notranslate"><span class="pre">-I-</span></code>
inhibits the use of the directory
containing the source file named in the command line. You can still
have this directory on your search path, but in this case it must be
explicitly requested with a <code class="switch docutils literal notranslate"><span class="pre">-I</span></code> switch.</p>
<p>Specifying the switch <code class="switch docutils literal notranslate"><span class="pre">-nostdinc</span></code>
inhibits the search of the default location for the GNAT Run Time
Library (RTL) source files.</p>
<p>The compiler outputs its object files and ALI files in the current
working directory.
Caution: The object file can be redirected with the <code class="switch docutils literal notranslate"><span class="pre">-o</span></code> switch;
however, <code class="docutils literal notranslate"><span class="pre">gcc</span></code> and <code class="docutils literal notranslate"><span class="pre">gnat1</span></code> have not been coordinated on this
so the <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file will not go to the right place. Therefore, you should
avoid using the <code class="switch docutils literal notranslate"><span class="pre">-o</span></code> switch.</p>
<p id="index-71">The packages <code class="docutils literal notranslate"><span class="pre">Ada</span></code>, <code class="docutils literal notranslate"><span class="pre">System</span></code>, and <code class="docutils literal notranslate"><span class="pre">Interfaces</span></code> and their
children make up the GNAT RTL, together with the simple <code class="docutils literal notranslate"><span class="pre">System.IO</span></code>
package used in the <code class="docutils literal notranslate"><span class="pre">&quot;Hello</span> <span class="pre">World&quot;</span></code> example. The sources for these units
are needed by the compiler and are kept together in one directory. Not
all of the bodies are needed, but all of the sources are kept together
anyway. In a normal installation, you need not specify these directory
names when compiling or binding. Either the environment variables or
the built-in defaults cause these files to be found.</p>
<p>In addition to the language-defined hierarchies (<code class="docutils literal notranslate"><span class="pre">System</span></code>, <code class="docutils literal notranslate"><span class="pre">Ada</span></code> and
<code class="docutils literal notranslate"><span class="pre">Interfaces</span></code>), the GNAT distribution provides a fourth hierarchy,
consisting of child units of <code class="docutils literal notranslate"><span class="pre">GNAT</span></code>. This is a collection of generally
useful types, subprograms, etc. See the <cite>GNAT_Reference_Manual</cite>
for further details.</p>
<p>Besides simplifying access to the RTL, a major use of search paths is
in compiling sources from multiple directories. This can make
development environments much more flexible.</p>
</div>
<div class="section" id="order-of-compilation-issues">
<span id="id11"></span><h3><span class="section-number">4.2.3. </span>Order of Compilation Issues<a class="headerlink" href="#order-of-compilation-issues" title="Permalink to this headline">¶</a></h3>
<p>If, in our earlier example, there was a spec for the <code class="docutils literal notranslate"><span class="pre">hello</span></code>
procedure, it would be contained in the file <code class="file docutils literal notranslate"><span class="pre">hello.ads</span></code>; yet this
file would not have to be explicitly compiled. This is the result of the
model we chose to implement library management. Some of the consequences
of this model are as follows:</p>
<ul class="simple">
<li><p>There is no point in compiling specs (except for package
specs with no bodies) because these are compiled as needed by clients. If
you attempt a useless compilation, you will receive an error message.
It is also useless to compile subunits because they are compiled as needed
by the parent.</p></li>
<li><p>There are no order of compilation requirements: performing a
compilation never obsoletes anything. The only way you can obsolete
something and require recompilations is to modify one of the
source files on which it depends.</p></li>
<li><p>There is no library as such, apart from the ALI files
(<a class="reference internal" href="the_gnat_compilation_model.html#the-ada-library-information-files"><span class="std std-ref">The Ada Library Information Files</span></a>, for information on the format
of these files). For now we find it convenient to create separate ALI files,
but eventually the information therein may be incorporated into the object
file directly.</p></li>
<li><p>When you compile a unit, the source files for the specs of all units
that it <em>with</em>s, all its subunits, and the bodies of any generics it
instantiates must be available (reachable by the search-paths mechanism
described above), or you will receive a fatal error message.</p></li>
</ul>
</div>
<div class="section" id="examples">
<span id="id12"></span><h3><span class="section-number">4.2.4. </span>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>The following are some typical Ada compilation command line examples:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gcc -c xyz.adb
</pre></div>
</div>
<p>Compile body in file <code class="file docutils literal notranslate"><span class="pre">xyz.adb</span></code> with all default options.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gcc -c -O2 -gnata xyz-def.adb
</pre></div>
</div>
<p>Compile the child unit package in file <code class="file docutils literal notranslate"><span class="pre">xyz-def.adb</span></code> with extensive
optimizations, and pragma <code class="docutils literal notranslate"><span class="pre">Assert</span></code>/<cite>Debug</cite> statements
enabled.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gcc -c -gnatc abc-def.adb
</pre></div>
</div>
<p>Compile the subunit in file <code class="file docutils literal notranslate"><span class="pre">abc-def.adb</span></code> in semantic-checking-only
mode.</p>
</div>
</div>
<div class="section" id="compiler-switches">
<span id="switches-for-gcc"></span><h2><span class="section-number">4.3. </span>Compiler Switches<a class="headerlink" href="#compiler-switches" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">gcc</span></code> command accepts switches that control the
compilation process. These switches are fully described in this section:
first an alphabetical listing of all switches with a brief description,
and then functionally grouped sets of switches with more detailed
information.</p>
<p>More switches exist for GCC than those documented here, especially
for specific targets. However, their use is not recommended as
they may change code generation in ways that are incompatible with
the Ada run-time library, or can cause inconsistencies between
compilation units.</p>
<div class="section" id="alphabetical-list-of-all-switches">
<span id="id13"></span><h3><span class="section-number">4.3.1. </span>Alphabetical List of All Switches<a class="headerlink" href="#alphabetical-list-of-all-switches" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="index-72">
<dt><code class="switch docutils literal notranslate"><span class="pre">-b</span> <em><span class="pre">target</span></em></code></dt><dd><p>Compile your program to run on <code class="docutils literal notranslate"><span class="pre">target</span></code>, which is the name of a
system configuration. You must have a GNAT cross-compiler built if
<code class="docutils literal notranslate"><span class="pre">target</span></code> is not the same as your host system.</p>
</dd>
</dl>
<dl class="simple" id="index-73">
<dt><code class="switch docutils literal notranslate"><span class="pre">-B</span><em><span class="pre">dir</span></em></code></dt><dd><p>Load compiler executables (for example, <code class="docutils literal notranslate"><span class="pre">gnat1</span></code>, the Ada compiler)
from <code class="docutils literal notranslate"><span class="pre">dir</span></code> instead of the default location. Only use this switch
when multiple versions of the GNAT compiler are available.
See the “Options for Directory Search” section in the
<cite>Using the GNU Compiler Collection (GCC)</cite> manual for further details.
You would normally use the <code class="switch docutils literal notranslate"><span class="pre">-b</span></code> or <code class="switch docutils literal notranslate"><span class="pre">-V</span></code> switch instead.</p>
</dd>
</dl>
<dl id="index-74">
<dt><code class="switch docutils literal notranslate"><span class="pre">-c</span></code></dt><dd><p>Compile. Always use this switch when compiling Ada programs.</p>
<p>Note: for some other languages when using <code class="docutils literal notranslate"><span class="pre">gcc</span></code>, notably in
the case of C and C++, it is possible to use
use <code class="docutils literal notranslate"><span class="pre">gcc</span></code> without a <code class="switch docutils literal notranslate"><span class="pre">-c</span></code> switch to
compile and link in one step. In the case of GNAT, you
cannot use this approach, because the binder must be run
and <code class="docutils literal notranslate"><span class="pre">gcc</span></code> cannot be used to run the GNAT binder.</p>
</dd>
</dl>
<dl class="simple" id="index-75">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fcallgraph-info[=su,da]</span></code></dt><dd><p>Makes the compiler output callgraph information for the program, on a
per-file basis. The information is generated in the VCG format.  It can
be decorated with additional, per-node and/or per-edge information, if a
list of comma-separated markers is additionally specified. When the
<code class="docutils literal notranslate"><span class="pre">su</span></code> marker is specified, the callgraph is decorated with stack usage
information; it is equivalent to <code class="switch docutils literal notranslate"><span class="pre">-fstack-usage</span></code>. When the <code class="docutils literal notranslate"><span class="pre">da</span></code>
marker is specified, the callgraph is decorated with information about
dynamically allocated objects.</p>
</dd>
</dl>
<dl class="simple" id="index-76">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fdiagnostics-format=json</span></code></dt><dd><p>Makes GNAT emit warning and error messages as JSON. Inhibits printing of
text warning and errors messages except if <code class="switch docutils literal notranslate"><span class="pre">-gnatv</span></code> or
<code class="switch docutils literal notranslate"><span class="pre">-gnatl</span></code> are present.</p>
</dd>
</dl>
<dl class="simple" id="index-77">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fdump-scos</span></code></dt><dd><p>Generates SCO (Source Coverage Obligation) information in the ALI file.
This information is used by advanced coverage tools. See unit <code class="file docutils literal notranslate"><span class="pre">SCOs</span></code>
in the compiler sources for details in files <code class="file docutils literal notranslate"><span class="pre">scos.ads</span></code> and
<code class="file docutils literal notranslate"><span class="pre">scos.adb</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-78">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fgnat-encodings=[all|gdb|minimal]</span></code></dt><dd><p>This switch controls the balance between GNAT encodings and standard DWARF
emitted in the debug information.</p>
</dd>
</dl>
<dl class="simple" id="index-79">
<dt><code class="switch docutils literal notranslate"><span class="pre">-flto[=</span><em><span class="pre">n</span></em><span class="pre">]</span></code></dt><dd><p>Enables Link Time Optimization. This switch must be used in conjunction
with the <code class="switch docutils literal notranslate"><span class="pre">-Ox</span></code> switches (but not with the <code class="switch docutils literal notranslate"><span class="pre">-gnatn</span></code> switch
since it is a full replacement for the latter) and instructs the compiler
to defer most optimizations until the link stage. The advantage of this
approach is that the compiler can do a whole-program analysis and choose
the best interprocedural optimization strategy based on a complete view
of the program, instead of a fragmentary view with the usual approach.
This can also speed up the compilation of big programs and reduce the
size of the executable, compared with a traditional per-unit compilation
with inlining across units enabled by the <code class="switch docutils literal notranslate"><span class="pre">-gnatn</span></code> switch.
The drawback of this approach is that it may require more memory and that
the debugging information generated by -g with it might be hardly usable.
The switch, as well as the accompanying <code class="switch docutils literal notranslate"><span class="pre">-Ox</span></code> switches, must be
specified both for the compilation and the link phases.
If the <code class="docutils literal notranslate"><span class="pre">n</span></code> parameter is specified, the optimization and final code
generation at link time are executed using <code class="docutils literal notranslate"><span class="pre">n</span></code> parallel jobs by
means of an installed <code class="docutils literal notranslate"><span class="pre">make</span></code> program.</p>
</dd>
</dl>
<dl class="simple" id="index-80">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fno-inline</span></code></dt><dd><p>Suppresses all inlining, unless requested with pragma <code class="docutils literal notranslate"><span class="pre">Inline_Always</span></code>. The
effect is enforced regardless of other optimization or inlining switches.
Note that inlining can also be suppressed on a finer-grained basis with
pragma <code class="docutils literal notranslate"><span class="pre">No_Inline</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-81">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fno-inline-functions</span></code></dt><dd><p>Suppresses automatic inlining of subprograms, which is enabled
if <code class="switch docutils literal notranslate"><span class="pre">-O3</span></code> is used.</p>
</dd>
</dl>
<dl class="simple" id="index-82">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fno-inline-small-functions</span></code></dt><dd><p>Suppresses automatic inlining of small subprograms, which is enabled
if <code class="switch docutils literal notranslate"><span class="pre">-O2</span></code> is used.</p>
</dd>
</dl>
<dl class="simple" id="index-83">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fno-inline-functions-called-once</span></code></dt><dd><p>Suppresses inlining of subprograms local to the unit and called once
from within it, which is enabled if <code class="switch docutils literal notranslate"><span class="pre">-O1</span></code> is used.</p>
</dd>
</dl>
<dl class="simple" id="index-84">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fno-ivopts</span></code></dt><dd><p>Suppresses high-level loop induction variable optimizations, which are
enabled if <code class="switch docutils literal notranslate"><span class="pre">-O1</span></code> is used. These optimizations are generally
profitable but, for some specific cases of loops with numerous uses
of the iteration variable that follow a common pattern, they may end
up destroying the regularity that could be exploited at a lower level
and thus producing inferior code.</p>
</dd>
</dl>
<dl class="simple" id="index-85">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fno-strict-aliasing</span></code></dt><dd><p>Causes the compiler to avoid assumptions regarding non-aliasing
of objects of different types. See
<a class="reference internal" href="gnat_and_program_execution.html#optimization-and-strict-aliasing"><span class="std std-ref">Optimization and Strict Aliasing</span></a> for details.</p>
</dd>
</dl>
<dl class="simple" id="index-86">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fno-strict-overflow</span></code></dt><dd><p>Causes the compiler to avoid assumptions regarding the rules of signed
integer overflow. These rules specify that signed integer overflow will
result in a Constraint_Error exception at run time and are enforced in
default mode by the compiler, so this switch should not be necessary in
normal operating mode. It might be useful in conjunction with <code class="switch docutils literal notranslate"><span class="pre">-gnato0</span></code>
for very peculiar cases of low-level programming.</p>
</dd>
</dl>
<dl class="simple" id="index-87">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fstack-check</span></code></dt><dd><p>Activates stack checking.
See <a class="reference internal" href="gnat_and_program_execution.html#stack-overflow-checking"><span class="std std-ref">Stack Overflow Checking</span></a> for details.</p>
</dd>
</dl>
<dl class="simple" id="index-88">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fstack-usage</span></code></dt><dd><p>Makes the compiler output stack usage information for the program, on a
per-subprogram basis. See <a class="reference internal" href="gnat_and_program_execution.html#static-stack-usage-analysis"><span class="std std-ref">Static Stack Usage Analysis</span></a> for details.</p>
</dd>
</dl>
<dl class="simple" id="index-89">
<dt><code class="switch docutils literal notranslate"><span class="pre">-g</span></code></dt><dd><p>Generate debugging information. This information is stored in the object
file and copied from there to the final executable file by the linker,
where it can be read by the debugger. You must use the
<code class="switch docutils literal notranslate"><span class="pre">-g</span></code> switch if you plan on using the debugger.</p>
</dd>
</dl>
<dl class="simple" id="index-90">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat05</span></code></dt><dd><p>Allow full Ada 2005 features.</p>
</dd>
</dl>
<dl class="simple" id="index-91">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat12</span></code></dt><dd><p>Allow full Ada 2012 features.</p>
</dd>
</dl>
<span class="target" id="index-92"></span><dl class="simple" id="index-93">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat2005</span></code></dt><dd><p>Allow full Ada 2005 features (same as <code class="switch docutils literal notranslate"><span class="pre">-gnat05</span></code>)</p>
</dd>
</dl>
<dl class="simple" id="index-94">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat2012</span></code></dt><dd><p>Allow full Ada 2012 features (same as <code class="switch docutils literal notranslate"><span class="pre">-gnat12</span></code>)</p>
</dd>
</dl>
<dl class="simple" id="index-95">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat2022</span></code></dt><dd><p>Allow full Ada 2022 features</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code></dt><dd><p>Enforce Ada 83 restrictions.</p>
</dd>
</dl>
<dl id="index-96">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat95</span></code></dt><dd><p>Enforce Ada 95 restrictions.</p>
<p>Note: for compatibility with some Ada 95 compilers which support only
the <code class="docutils literal notranslate"><span class="pre">overriding</span></code> keyword of Ada 2005, the <code class="switch docutils literal notranslate"><span class="pre">-gnatd.D</span></code> switch can
be used along with <code class="switch docutils literal notranslate"><span class="pre">-gnat95</span></code> to achieve a similar effect with GNAT.</p>
<p><code class="switch docutils literal notranslate"><span class="pre">-gnatd.D</span></code> instructs GNAT to consider <code class="docutils literal notranslate"><span class="pre">overriding</span></code> as a keyword
and handle its associated semantic checks, even in Ada 95 mode.</p>
</dd>
</dl>
<dl class="simple" id="index-97">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnata</span></code></dt><dd><p>Assertions enabled. <code class="docutils literal notranslate"><span class="pre">Pragma</span> <span class="pre">Assert</span></code> and <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Debug</span></code> to be
activated. Note that these pragmas can also be controlled using the
configuration pragmas <code class="docutils literal notranslate"><span class="pre">Assertion_Policy</span></code> and <code class="docutils literal notranslate"><span class="pre">Debug_Policy</span></code>.
It also activates pragmas <code class="docutils literal notranslate"><span class="pre">Check</span></code>, <code class="docutils literal notranslate"><span class="pre">Precondition</span></code>, and
<code class="docutils literal notranslate"><span class="pre">Postcondition</span></code>. Note that these pragmas can also be controlled
using the configuration pragma <code class="docutils literal notranslate"><span class="pre">Check_Policy</span></code>. In Ada 2012, it
also activates all assertions defined in the RM as aspects: preconditions,
postconditions, type invariants and (sub)type predicates. In all Ada modes,
corresponding pragmas for type invariants and (sub)type predicates are
also activated. The default is that all these assertions are disabled,
and have no effect, other than being checked for syntactic validity, and
in the case of subtype predicates, constructions such as membership tests
still test predicates even if assertions are turned off.</p>
</dd>
</dl>
<dl class="simple" id="index-98">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatA</span></code></dt><dd><p>Avoid processing <code class="file docutils literal notranslate"><span class="pre">gnat.adc</span></code>. If a <code class="file docutils literal notranslate"><span class="pre">gnat.adc</span></code> file is present,
it will be ignored.</p>
</dd>
</dl>
<dl class="simple" id="index-99">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatb</span></code></dt><dd><p>Generate brief messages to <code class="file docutils literal notranslate"><span class="pre">stderr</span></code> even if verbose mode set.</p>
</dd>
</dl>
<dl class="simple" id="index-100">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatB</span></code></dt><dd><p>Assume no invalid (bad) values except for ‘Valid attribute use
(<a class="reference internal" href="#validity-checking"><span class="std std-ref">Validity Checking</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-101">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code></dt><dd><p>Check syntax and semantics only (no code generation attempted). When the
compiler is invoked by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>, if the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code> is
only given to the compiler (after <code class="switch docutils literal notranslate"><span class="pre">-cargs</span></code> or in package Compiler of
the project file, <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will fail because it will not find the
object file after compilation. If <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> is called with
<code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code> as a builder switch (before <code class="switch docutils literal notranslate"><span class="pre">-cargs</span></code> or in package
Builder of the project file) then <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will not fail because
it will not look for the object files after compilation, and it will not try
to build and link.</p>
</dd>
</dl>
<dl class="simple" id="index-102">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatC</span></code></dt><dd><p>Generate CodePeer intermediate format (no code generation attempted).
This switch will generate an intermediate representation suitable for
use by CodePeer (<code class="file docutils literal notranslate"><span class="pre">.scil</span></code> files). This switch is not compatible with
code generation (it will, among other things, disable some switches such
as -gnatn, and enable others such as -gnata).</p>
</dd>
</dl>
<dl class="simple" id="index-103">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatd</span></code></dt><dd><p>Specify debug options for the compiler. The string of characters after
the <code class="switch docutils literal notranslate"><span class="pre">-gnatd</span></code> specifies the specific debug options. The possible
characters are 0-9, a-z, A-Z, optionally preceded by a dot or underscore.
See compiler source file <code class="file docutils literal notranslate"><span class="pre">debug.adb</span></code> for details of the implemented
debug options. Certain debug options are relevant to applications
programmers, and these are documented at appropriate points in this
users guide.</p>
</dd>
</dl>
<dl class="simple" id="index-104">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatD</span></code></dt><dd><p>Create expanded source files for source level debugging. This switch
also suppresses generation of cross-reference information
(see <code class="switch docutils literal notranslate"><span class="pre">-gnatx</span></code>). Note that this switch is not allowed if a previous
-gnatR switch has been given, since these two switches are not compatible.</p>
</dd>
</dl>
<dl id="index-105">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateA</span></code></dt><dd><p>Check that the actual parameters of a subprogram call are not aliases of one
another. To qualify as aliasing, the actuals must denote objects of a composite
type, their memory locations must be identical or overlapping, and at least one
of the corresponding formal parameters must be of mode OUT or IN OUT.</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="kr">type</span><span class="p"> </span><span class="n">Rec_Typ</span> <span class="kr">is</span><span class="p"> </span><span class="kr">record</span><span class="p"></span>
   <span class="n">Data</span> <span class="o">:</span> <span class="n">Integer</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">end record</span><span class="p">;</span>

<span class="k">function </span><span class="nf">Self</span> <span class="o">(</span><span class="n">Val</span> <span class="o">:</span> <span class="n">Rec_Typ</span><span class="o">)</span> <span class="kr">return</span><span class="p"> </span><span class="n">Rec_Typ</span> <span class="kr">is</span><span class="p"></span>
<span class="kr">begin</span><span class="p"></span>
   <span class="kr">return</span><span class="p"> </span><span class="n">Val</span><span class="p">;</span>
<span class="k">end </span><span class="nf">Self</span><span class="p">;</span>

<span class="k">procedure </span><span class="nf">Detect_Aliasing</span> <span class="o">(</span><span class="n">Val_1</span> <span class="o">:</span> <span class="kr">in</span><span class="p"> </span><span class="kr">out</span><span class="p"> </span><span class="n">Rec_Typ</span><span class="p">;</span> <span class="n">Val_2</span> <span class="o">:</span> <span class="n">Rec_Typ</span><span class="o">)</span> <span class="kr">is</span><span class="p"></span>
<span class="kr">begin</span><span class="p"></span>
   <span class="kr">null</span><span class="p">;</span>
<span class="k">end </span><span class="nf">Detect_Aliasing</span><span class="p">;</span>

<span class="n">Obj</span> <span class="o">:</span> <span class="n">Rec_Typ</span><span class="p">;</span>

<span class="n">Detect_Aliasing</span> <span class="o">(</span><span class="n">Obj</span><span class="p">,</span> <span class="n">Obj</span><span class="o">)</span><span class="p">;</span>
<span class="n">Detect_Aliasing</span> <span class="o">(</span><span class="n">Obj</span><span class="p">,</span> <span class="n">Self</span> <span class="o">(</span><span class="n">Obj</span><span class="o">))</span><span class="p">;</span>
</pre></div>
</div>
<p>In the example above, the first call to <code class="docutils literal notranslate"><span class="pre">Detect_Aliasing</span></code> fails with a
<code class="docutils literal notranslate"><span class="pre">Program_Error</span></code> at run time because the actuals for <code class="docutils literal notranslate"><span class="pre">Val_1</span></code> and
<code class="docutils literal notranslate"><span class="pre">Val_2</span></code> denote the same object. The second call executes without raising
an exception because <code class="docutils literal notranslate"><span class="pre">Self(Obj)</span></code> produces an anonymous object which does
not share the memory location of <code class="docutils literal notranslate"><span class="pre">Obj</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-106">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateb</span></code></dt><dd><p>Store configuration files by their basename in ALI files. This switch is
used for instance by gprbuild for distributed builds in order to prevent
issues where machine-specific absolute paths could end up being stored in
ALI files.</p>
</dd>
</dl>
<dl class="simple" id="index-107">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatec=</span><em><span class="pre">path</span></em></code></dt><dd><p>Specify a configuration pragma file
(the equal sign is optional)
(<a class="reference internal" href="the_gnat_compilation_model.html#the-configuration-pragmas-files"><span class="std std-ref">The Configuration Pragmas Files</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-108">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateC</span></code></dt><dd><p>Generate CodePeer messages in a compiler-like format. This switch is only
effective if <code class="switch docutils literal notranslate"><span class="pre">-gnatcC</span></code> is also specified and requires an installation
of CodePeer.</p>
</dd>
</dl>
<dl class="simple" id="index-109">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnated</span></code></dt><dd><p>Disable atomic synchronization</p>
</dd>
</dl>
<dl class="simple" id="index-110">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateDsymbol[=</span><em><span class="pre">value</span></em><span class="pre">]</span></code></dt><dd><p>Defines a symbol, associated with <code class="docutils literal notranslate"><span class="pre">value</span></code>, for preprocessing.
(<a class="reference internal" href="the_gnat_compilation_model.html#integrated-preprocessing"><span class="std std-ref">Integrated Preprocessing</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-111">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateE</span></code></dt><dd><p>Generate extra information in exception messages. In particular, display
extra column information and the value and range associated with index and
range check failures, and extra column information for access checks.
In cases where the compiler is able to determine at compile time that
a check will fail, it gives a warning, and the extra information is not
produced at run time.</p>
</dd>
</dl>
<dl class="simple" id="index-112">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatef</span></code></dt><dd><p>Display full source path name in brief error messages.</p>
</dd>
</dl>
<dl class="simple" id="index-113">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateF</span></code></dt><dd><p>Check for overflow on all floating-point operations, including those
for unconstrained predefined types. See description of pragma
<code class="docutils literal notranslate"><span class="pre">Check_Float_Overflow</span></code> in GNAT RM.</p>
</dd>
</dl>
<p id="index-114"><code class="switch docutils literal notranslate"><span class="pre">-gnateg</span></code>
<code class="switch docutils literal notranslate"><span class="pre">-gnatceg</span></code></p>
<blockquote>
<div><p>The <code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code> switch must always be specified before this switch, e.g.
<code class="switch docutils literal notranslate"><span class="pre">-gnatceg</span></code>. Generate a C header from the Ada input file. See
<a class="reference internal" href="the_gnat_compilation_model.html#generating-c-headers-for-ada-specifications"><span class="std std-ref">Generating C Headers for Ada Specifications</span></a> for more
information.</p>
</div></blockquote>
<dl class="simple" id="index-115">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateG</span></code></dt><dd><p>Save result of preprocessing in a text file.</p>
</dd>
</dl>
<dl class="simple" id="index-116">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatei</span><em><span class="pre">nnn</span></em></code></dt><dd><p>Set maximum number of instantiations during compilation of a single unit to
<code class="docutils literal notranslate"><span class="pre">nnn</span></code>. This may be useful in increasing the default maximum of 8000 for
the rare case when a single unit legitimately exceeds this limit.</p>
</dd>
</dl>
<dl class="simple" id="index-117">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateI</span><em><span class="pre">nnn</span></em></code></dt><dd><p>Indicates that the source is a multi-unit source and that the index of the
unit to compile is <code class="docutils literal notranslate"><span class="pre">nnn</span></code>. <code class="docutils literal notranslate"><span class="pre">nnn</span></code> needs to be a positive number and need
to be a valid index in the multi-unit source.</p>
</dd>
</dl>
<dl class="simple" id="index-118">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatel</span></code></dt><dd><p>This switch can be used with the static elaboration model to issue info
messages showing
where implicit <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Elaborate</span></code> and <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Elaborate_All</span></code>
are generated. This is useful in diagnosing elaboration circularities
caused by these implicit pragmas when using the static elaboration
model. See See the section in this guide on elaboration checking for
further details. These messages are not generated by default, and are
intended only for temporary use when debugging circularity problems.</p>
</dd>
</dl>
<dl class="simple" id="index-119">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateL</span></code></dt><dd><p>This switch turns off the info messages about implicit elaboration pragmas.</p>
</dd>
</dl>
<dl class="simple" id="index-120">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatem=</span><em><span class="pre">path</span></em></code></dt><dd><p>Specify a mapping file
(the equal sign is optional)
(<a class="reference internal" href="#units-to-sources-mapping-files"><span class="std std-ref">Units to Sources Mapping Files</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-121">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatep=</span><em><span class="pre">file</span></em></code></dt><dd><p>Specify a preprocessing data file
(the equal sign is optional)
(<a class="reference internal" href="the_gnat_compilation_model.html#integrated-preprocessing"><span class="std std-ref">Integrated Preprocessing</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-122">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateP</span></code></dt><dd><p>Turn categorization dependency errors into warnings.
Ada requires that units that WITH one another have compatible categories, for
example a Pure unit cannot WITH a Preelaborate unit. If this switch is used,
these errors become warnings (which can be ignored, or suppressed in the usual
manner). This can be useful in some specialized circumstances such as the
temporary use of special test software.</p>
</dd>
</dl>
<dl class="simple" id="index-123">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateS</span></code></dt><dd><p>Synonym of <code class="switch docutils literal notranslate"><span class="pre">-fdump-scos</span></code>, kept for backwards compatibility.</p>
</dd>
</dl>
<dl class="simple" id="index-124">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatet=</span><em><span class="pre">path</span></em></code></dt><dd><p>Generate target dependent information. The format of the output file is
described in the section about switch <code class="switch docutils literal notranslate"><span class="pre">-gnateT</span></code>.</p>
</dd>
</dl>
<dl id="index-125">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateT=</span><em><span class="pre">path</span></em></code></dt><dd><p>Read target dependent information, such as endianness or sizes and alignments
of base type. If this switch is passed, the default target dependent
information of the compiler is replaced by the one read from the input file.
This is used by tools other than the compiler, e.g. to do
semantic analysis of programs that will run on some other target than
the machine on which the tool is run.</p>
<p>The following target dependent values should be defined,
where <code class="docutils literal notranslate"><span class="pre">Nat</span></code> denotes a natural integer value, <code class="docutils literal notranslate"><span class="pre">Pos</span></code> denotes a
positive integer value, and fields marked with a question mark are
boolean fields, where a value of 0 is False, and a value of 1 is True:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Bits_BE                    : Nat; -- Bits stored big-endian?
Bits_Per_Unit              : Pos; -- Bits in a storage unit
Bits_Per_Word              : Pos; -- Bits in a word
Bytes_BE                   : Nat; -- Bytes stored big-endian?
Char_Size                  : Pos; -- Standard.Character&#39;Size
Double_Float_Alignment     : Nat; -- Alignment of double float
Double_Scalar_Alignment    : Nat; -- Alignment of double length scalar
Double_Size                : Pos; -- Standard.Long_Float&#39;Size
Float_Size                 : Pos; -- Standard.Float&#39;Size
Float_Words_BE             : Nat; -- Float words stored big-endian?
Int_Size                   : Pos; -- Standard.Integer&#39;Size
Long_Double_Size           : Pos; -- Standard.Long_Long_Float&#39;Size
Long_Long_Size             : Pos; -- Standard.Long_Long_Integer&#39;Size
Long_Size                  : Pos; -- Standard.Long_Integer&#39;Size
Maximum_Alignment          : Pos; -- Maximum permitted alignment
Max_Unaligned_Field        : Pos; -- Maximum size for unaligned bit field
Pointer_Size               : Pos; -- System.Address&#39;Size
Short_Enums                : Nat; -- Foreign enums use short size?
Short_Size                 : Pos; -- Standard.Short_Integer&#39;Size
Strict_Alignment           : Nat; -- Strict alignment?
System_Allocator_Alignment : Nat; -- Alignment for malloc calls
Wchar_T_Size               : Pos; -- Interfaces.C.wchar_t&#39;Size
Words_BE                   : Nat; -- Words stored big-endian?
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Bits_Per_Unit</span></code> is the number of bits in a storage unit, the equivalent of
GCC macro <code class="docutils literal notranslate"><span class="pre">BITS_PER_UNIT</span></code> documented as follows: <cite>Define this macro to be
the number of bits in an addressable storage unit (byte); normally 8.</cite></p>
<p><code class="docutils literal notranslate"><span class="pre">Bits_Per_Word</span></code> is the number of bits in a machine word, the equivalent of
GCC macro <code class="docutils literal notranslate"><span class="pre">BITS_PER_WORD</span></code> documented as follows: <cite>Number of bits in a word;
normally 32.</cite></p>
<p><code class="docutils literal notranslate"><span class="pre">Double_Float_Alignment</span></code>, if not zero, is the maximum alignment that the
compiler can choose by default for a 64-bit floating-point type or object.</p>
<p><code class="docutils literal notranslate"><span class="pre">Double_Scalar_Alignment</span></code>, if not zero, is the maximum alignment that the
compiler can choose by default for a 64-bit or larger scalar type or object.</p>
<p><code class="docutils literal notranslate"><span class="pre">Maximum_Alignment</span></code> is the maximum alignment that the compiler can choose
by default for a type or object, which is also the maximum alignment that can
be specified in GNAT. It is computed for GCC backends as <code class="docutils literal notranslate"><span class="pre">BIGGEST_ALIGNMENT</span>
<span class="pre">/</span> <span class="pre">BITS_PER_UNIT</span></code> where GCC macro <code class="docutils literal notranslate"><span class="pre">BIGGEST_ALIGNMENT</span></code> is documented as
follows: <cite>Biggest alignment that any data type can require on this machine,
in bits.</cite></p>
<p><code class="docutils literal notranslate"><span class="pre">Max_Unaligned_Field</span></code> is the maximum size for unaligned bit field, which is
64 for the majority of GCC targets (but can be different on some targets).</p>
<p><code class="docutils literal notranslate"><span class="pre">Strict_Alignment</span></code> is the equivalent of GCC macro <code class="docutils literal notranslate"><span class="pre">STRICT_ALIGNMENT</span></code>
documented as follows: <cite>Define this macro to be the value 1 if instructions
will fail to work if given data not on the nominal alignment. If instructions
will merely go slower in that case, define this macro as 0.</cite></p>
<p><code class="docutils literal notranslate"><span class="pre">System_Allocator_Alignment</span></code> is the guaranteed alignment of data returned
by calls to <code class="docutils literal notranslate"><span class="pre">malloc</span></code>.</p>
<p>The format of the input file is as follows. First come the values of
the variables defined above, with one line per value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span>  <span class="n">value</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the parameter, spelled out in full,
and cased as in the above list, and <code class="docutils literal notranslate"><span class="pre">value</span></code> is an unsigned decimal
integer. Two or more blanks separates the name from the value.</p>
<p>All the variables must be present, in alphabetical order (i.e. the
same order as the list above).</p>
<p>Then there is a blank line to separate the two parts of the file. Then
come the lines showing the floating-point types to be registered, with
one line per registered mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span>  <span class="n">digs</span> <span class="n">float_rep</span> <span class="n">size</span> <span class="n">alignment</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">name</span></code> is the string name of the type (which can have
single spaces embedded in the name (e.g. long double), <code class="docutils literal notranslate"><span class="pre">digs</span></code> is
the number of digits for the floating-point type, <code class="docutils literal notranslate"><span class="pre">float_rep</span></code> is
the float representation (I for IEEE-754-Binary, which is
the only one supported at this time),
<code class="docutils literal notranslate"><span class="pre">size</span></code> is the size in bits, <code class="docutils literal notranslate"><span class="pre">alignment</span></code> is the
alignment in bits. The name is followed by at least two blanks, fields
are separated by at least one blank, and a LF character immediately
follows the alignment field.</p>
<p>Here is an example of a target parameterization file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Bits_BE</span>                       <span class="mi">0</span>
<span class="n">Bits_Per_Unit</span>                 <span class="mi">8</span>
<span class="n">Bits_Per_Word</span>                <span class="mi">64</span>
<span class="n">Bytes_BE</span>                      <span class="mi">0</span>
<span class="n">Char_Size</span>                     <span class="mi">8</span>
<span class="n">Double_Float_Alignment</span>        <span class="mi">0</span>
<span class="n">Double_Scalar_Alignment</span>       <span class="mi">0</span>
<span class="n">Double_Size</span>                  <span class="mi">64</span>
<span class="n">Float_Size</span>                   <span class="mi">32</span>
<span class="n">Float_Words_BE</span>                <span class="mi">0</span>
<span class="n">Int_Size</span>                     <span class="mi">64</span>
<span class="n">Long_Double_Size</span>            <span class="mi">128</span>
<span class="n">Long_Long_Size</span>               <span class="mi">64</span>
<span class="n">Long_Size</span>                    <span class="mi">64</span>
<span class="n">Maximum_Alignment</span>            <span class="mi">16</span>
<span class="n">Max_Unaligned_Field</span>          <span class="mi">64</span>
<span class="n">Pointer_Size</span>                 <span class="mi">64</span>
<span class="n">Short_Size</span>                   <span class="mi">16</span>
<span class="n">Strict_Alignment</span>              <span class="mi">0</span>
<span class="n">System_Allocator_Alignment</span>   <span class="mi">16</span>
<span class="n">Wchar_T_Size</span>                 <span class="mi">32</span>
<span class="n">Words_BE</span>                      <span class="mi">0</span>

<span class="nb">float</span>         <span class="mi">15</span>  <span class="n">I</span>  <span class="mi">64</span>  <span class="mi">64</span>
<span class="n">double</span>        <span class="mi">15</span>  <span class="n">I</span>  <span class="mi">64</span>  <span class="mi">64</span>
<span class="n">long</span> <span class="n">double</span>   <span class="mi">18</span>  <span class="n">I</span>  <span class="mi">80</span> <span class="mi">128</span>
<span class="n">TF</span>            <span class="mi">33</span>  <span class="n">I</span> <span class="mi">128</span> <span class="mi">128</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="simple" id="index-126">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateu</span></code></dt><dd><p>Ignore unrecognized validity, warning, and style switches that
appear after this switch is given. This may be useful when
compiling sources developed on a later version of the compiler
with an earlier version. Of course the earlier version must
support this switch.</p>
</dd>
</dl>
<dl class="simple" id="index-127">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateV</span></code></dt><dd><p>Check that all actual parameters of a subprogram call are valid according to
the rules of validity checking (<a class="reference internal" href="#validity-checking"><span class="std std-ref">Validity Checking</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-128">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnateY</span></code></dt><dd><p>Ignore all STYLE_CHECKS pragmas. Full legality checks
are still carried out, but the pragmas have no effect
on what style checks are active. This allows all style
checking options to be controlled from the command line.</p>
</dd>
</dl>
<dl class="simple" id="index-129">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatE</span></code></dt><dd><p>Dynamic elaboration checking mode enabled. For further details see
<a class="reference internal" href="elaboration_order_handling_in_gnat.html#elaboration-order-handling-in-gnat"><span class="std std-ref">Elaboration Order Handling in GNAT</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-130">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatf</span></code></dt><dd><p>Full errors. Multiple errors per line, all undefined references, do not
attempt to suppress cascaded errors.</p>
</dd>
</dl>
<dl class="simple" id="index-131">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatF</span></code></dt><dd><p>Externals names are folded to all uppercase.</p>
</dd>
</dl>
<dl class="simple" id="index-132">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatg</span></code></dt><dd><p>Internal GNAT implementation mode. This should not be used for applications
programs, it is intended only for use by the compiler and its run-time
library. For documentation, see the GNAT sources. Note that <code class="switch docutils literal notranslate"><span class="pre">-gnatg</span></code>
implies <code class="switch docutils literal notranslate"><span class="pre">-gnatw.ge</span></code> and <code class="switch docutils literal notranslate"><span class="pre">-gnatyg</span></code> so that all standard
warnings and all standard style options are turned on. All warnings and style
messages are treated as errors.</p>
</dd>
</dl>
<dl class="simple" id="index-133">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatG=nn</span></code></dt><dd><p>List generated expanded code in source form.</p>
</dd>
</dl>
<dl class="simple" id="index-134">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnath</span></code></dt><dd><p>Output usage information. The output is written to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-135">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatH</span></code></dt><dd><p>Legacy elaboration-checking mode enabled. When this switch is in effect,
the pre-18.x access-before-elaboration model becomes the de facto model.
For further details see <a class="reference internal" href="elaboration_order_handling_in_gnat.html#elaboration-order-handling-in-gnat"><span class="std std-ref">Elaboration Order Handling in GNAT</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-136">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnati</span><em><span class="pre">c</span></em></code></dt><dd><p>Identifier character set (<code class="docutils literal notranslate"><span class="pre">c</span></code> = 1/2/3/4/5/9/p/8/f/n/w).
For details of the possible selections for <code class="docutils literal notranslate"><span class="pre">c</span></code>,
see <a class="reference internal" href="#character-set-control"><span class="std std-ref">Character Set Control</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-137">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatI</span></code></dt><dd><p>Ignore representation clauses. When this switch is used,
representation clauses are treated as comments. This is useful
when initially porting code where you want to ignore rep clause
problems, and also for compiling foreign code (particularly
for use with ASIS). The representation clauses that are ignored
are: enumeration_representation_clause, record_representation_clause,
and attribute_definition_clause for the following attributes:
Address, Alignment, Bit_Order, Component_Size, Machine_Radix,
Object_Size, Scalar_Storage_Order, Size, Small, Stream_Size,
and Value_Size. Pragma Default_Scalar_Storage_Order is also ignored.
Note that this option should be used only for compiling – the
code is likely to malfunction at run time.</p>
</dd>
</dl>
<dl class="simple" id="index-138">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatj</span><em><span class="pre">nn</span></em></code></dt><dd><p>Reformat error messages to fit on <code class="docutils literal notranslate"><span class="pre">nn</span></code> character lines</p>
</dd>
</dl>
<dl id="index-139">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatJ</span></code></dt><dd><p>Permissive elaboration-checking mode enabled. When this switch is in effect,
the post-18.x access-before-elaboration model ignores potential issues with:</p>
<ul class="simple">
<li><p>Accept statements</p></li>
<li><p>Activations of tasks defined in instances</p></li>
<li><p>Assertion pragmas</p></li>
<li><p>Calls from within an instance to its enclosing context</p></li>
<li><p>Calls through generic formal parameters</p></li>
<li><p>Calls to subprograms defined in instances</p></li>
<li><p>Entry calls</p></li>
<li><p>Indirect calls using ‘Access</p></li>
<li><p>Requeue statements</p></li>
<li><p>Select statements</p></li>
<li><p>Synchronous task suspension</p></li>
</ul>
<p>and does not emit compile-time diagnostics or run-time checks. For further
details see <a class="reference internal" href="elaboration_order_handling_in_gnat.html#elaboration-order-handling-in-gnat"><span class="std std-ref">Elaboration Order Handling in GNAT</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-140">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatk=</span><em><span class="pre">n</span></em></code></dt><dd><p>Limit file names to <code class="docutils literal notranslate"><span class="pre">n</span></code> (1-999) characters (<code class="docutils literal notranslate"><span class="pre">k</span></code> = krunch).</p>
</dd>
</dl>
<dl class="simple" id="index-141">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatl</span></code></dt><dd><p>Output full source listing with embedded error messages.</p>
</dd>
</dl>
<dl class="simple" id="index-142">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatL</span></code></dt><dd><p>Used in conjunction with -gnatG or -gnatD to intersperse original
source lines (as comment lines with line numbers) in the expanded
source output.</p>
</dd>
</dl>
<dl class="simple" id="index-143">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatm=</span><em><span class="pre">n</span></em></code></dt><dd><p>Limit number of detected error or warning messages to <code class="docutils literal notranslate"><span class="pre">n</span></code>
where <code class="docutils literal notranslate"><span class="pre">n</span></code> is in the range 1..999999. The default setting if
no switch is given is 9999. If the number of warnings reaches this
limit, then a message is output and further warnings are suppressed,
but the compilation is continued. If the number of error messages
reaches this limit, then a message is output and the compilation
is abandoned. The equal sign here is optional. A value of zero
means that no limit applies.</p>
</dd>
</dl>
<dl class="simple" id="index-144">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatn[12]</span></code></dt><dd><p>Activate inlining across units for subprograms for which pragma <code class="docutils literal notranslate"><span class="pre">Inline</span></code>
is specified. This inlining is performed by the GCC back-end. An optional
digit sets the inlining level: 1 for moderate inlining across units
or 2 for full inlining across units. If no inlining level is specified,
the compiler will pick it based on the optimization level.</p>
</dd>
</dl>
<dl id="index-145">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatN</span></code></dt><dd><p>Activate front end inlining for subprograms for which
pragma <code class="docutils literal notranslate"><span class="pre">Inline</span></code> is specified. This inlining is performed
by the front end and will be visible in the
<code class="switch docutils literal notranslate"><span class="pre">-gnatG</span></code> output.</p>
<p>When using a gcc-based back end, then the use of
<code class="switch docutils literal notranslate"><span class="pre">-gnatN</span></code> is deprecated, and the use of <code class="switch docutils literal notranslate"><span class="pre">-gnatn</span></code> is preferred.
Historically front end inlining was more extensive than the gcc back end
inlining, but that is no longer the case.</p>
</dd>
</dl>
<dl class="simple" id="index-146">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnato0</span></code></dt><dd><p>Suppresses overflow checking. This causes the behavior of the compiler to
match the default for older versions where overflow checking was suppressed
by default. This is equivalent to having
<code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Suppress</span> <span class="pre">(Overflow_Check)</span></code> in a configuration pragma file.</p>
</dd>
</dl>
<dl id="index-147">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnato??</span></code></dt><dd><p>Set default mode for handling generation of code to avoid intermediate
arithmetic overflow. Here <code class="docutils literal notranslate"><span class="pre">??</span></code> is two digits, a
single digit, or nothing. Each digit is one of the digits <code class="docutils literal notranslate"><span class="pre">1</span></code>
through <code class="docutils literal notranslate"><span class="pre">3</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 93%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Digit</p></td>
<td><p>Interpretation</p></td>
</tr>
<tr class="row-even"><td><p><em>1</em></p></td>
<td><p>All intermediate overflows checked against base type (<code class="docutils literal notranslate"><span class="pre">STRICT</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><em>2</em></p></td>
<td><p>Minimize intermediate overflows (<code class="docutils literal notranslate"><span class="pre">MINIMIZED</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><em>3</em></p></td>
<td><p>Eliminate intermediate overflows (<code class="docutils literal notranslate"><span class="pre">ELIMINATED</span></code>)</p></td>
</tr>
</tbody>
</table>
<p>If only one digit appears, then it applies to all
cases; if two digits are given, then the first applies outside
assertions, pre/postconditions, and type invariants, and the second
applies within assertions, pre/postconditions, and type invariants.</p>
<p>If no digits follow the <code class="switch docutils literal notranslate"><span class="pre">-gnato</span></code>, then it is equivalent to
<code class="switch docutils literal notranslate"><span class="pre">-gnato11</span></code>,
causing all intermediate overflows to be handled in strict
mode.</p>
<p>This switch also causes arithmetic overflow checking to be performed
(as though <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Unsuppress</span> <span class="pre">(Overflow_Check)</span></code> had been specified).</p>
<p>The default if no option <code class="switch docutils literal notranslate"><span class="pre">-gnato</span></code> is given is that overflow handling
is in <code class="docutils literal notranslate"><span class="pre">STRICT</span></code> mode (computations done using the base type), and that
overflow checking is enabled.</p>
<p>Note that division by zero is a separate check that is not
controlled by this switch (divide-by-zero checking is on by default).</p>
<p>See also <a class="reference internal" href="gnat_and_program_execution.html#specifying-the-desired-mode"><span class="std std-ref">Specifying the Desired Mode</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-148">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatp</span></code></dt><dd><p>Suppress all checks. See <a class="reference internal" href="#run-time-checks"><span class="std std-ref">Run-Time Checks</span></a> for details. This switch
has no effect if cancelled by a subsequent <code class="switch docutils literal notranslate"><span class="pre">-gnat-p</span></code> switch.</p>
</dd>
</dl>
<dl class="simple" id="index-149">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat-p</span></code></dt><dd><p>Cancel effect of previous <code class="switch docutils literal notranslate"><span class="pre">-gnatp</span></code> switch.</p>
</dd>
</dl>
<dl class="simple" id="index-150">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatq</span></code></dt><dd><p>Don’t quit. Try semantics, even if parse errors.</p>
</dd>
</dl>
<dl class="simple" id="index-151">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatQ</span></code></dt><dd><p>Don’t quit. Generate <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> and tree files even if illegalities.
Note that code generation is still suppressed in the presence of any
errors, so even with <code class="switch docutils literal notranslate"><span class="pre">-gnatQ</span></code> no object file is generated.</p>
</dd>
</dl>
<dl class="simple" id="index-152">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatr</span></code></dt><dd><p>Treat pragma Restrictions as Restriction_Warnings.</p>
</dd>
</dl>
<dl class="simple" id="index-153">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatR[0|1|2|3|4][e][j][m][s]</span></code></dt><dd><p>Output representation information for declared types, objects and
subprograms. Note that this switch is not allowed if a previous
<code class="switch docutils literal notranslate"><span class="pre">-gnatD</span></code> switch has been given, since these two switches
are not compatible.</p>
</dd>
</dl>
<dl class="simple" id="index-154">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnats</span></code></dt><dd><p>Syntax check only.</p>
</dd>
</dl>
<dl class="simple" id="index-155">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatS</span></code></dt><dd><p>Print package Standard.</p>
</dd>
</dl>
<dl class="simple" id="index-156">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatT</span><em><span class="pre">nnn</span></em></code></dt><dd><p>All compiler tables start at <code class="docutils literal notranslate"><span class="pre">nnn</span></code> times usual starting size.</p>
</dd>
</dl>
<dl class="simple" id="index-157">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatu</span></code></dt><dd><p>List units for this compilation.</p>
</dd>
</dl>
<dl class="simple" id="index-158">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatU</span></code></dt><dd><p>Tag all error messages with the unique string ‘error:’</p>
</dd>
</dl>
<dl class="simple" id="index-159">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatv</span></code></dt><dd><p>Verbose mode. Full error output with source lines to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-160">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatV</span></code></dt><dd><p>Control level of validity checking (<a class="reference internal" href="#validity-checking"><span class="std std-ref">Validity Checking</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-161">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw</span><em><span class="pre">xxx</span></em></code></dt><dd><p>Warning mode where
<code class="docutils literal notranslate"><span class="pre">xxx</span></code> is a string of option letters that denotes
the exact warnings that
are enabled or disabled (<a class="reference internal" href="#warning-message-control"><span class="std std-ref">Warning Message Control</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-162">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatW</span><em><span class="pre">e</span></em></code></dt><dd><p>Wide character encoding method
(<code class="docutils literal notranslate"><span class="pre">e</span></code>=n/h/u/s/e/8).</p>
</dd>
</dl>
<dl class="simple" id="index-163">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatx</span></code></dt><dd><p>Suppress generation of cross-reference information.</p>
</dd>
</dl>
<dl class="simple" id="index-164">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatX</span></code></dt><dd><p>Enable GNAT implementation extensions and latest Ada version.</p>
</dd>
</dl>
<dl class="simple" id="index-165">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnaty</span></code></dt><dd><p>Enable built-in style checks (<a class="reference internal" href="#style-checking"><span class="std std-ref">Style Checking</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-166">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatz</span><em><span class="pre">m</span></em></code></dt><dd><p>Distribution stub generation and compilation
(<code class="docutils literal notranslate"><span class="pre">m</span></code>=r/c for receiver/caller stubs).</p>
</dd>
</dl>
<dl id="index-167">
<dt><code class="switch docutils literal notranslate"><span class="pre">-I</span><em><span class="pre">dir</span></em></code></dt><dd><p id="index-168">Direct GNAT to search the <code class="docutils literal notranslate"><span class="pre">dir</span></code> directory for source files needed by
the current compilation
(see <a class="reference internal" href="#search-paths-and-the-run-time-library-rtl"><span class="std std-ref">Search Paths and the Run-Time Library (RTL)</span></a>).</p>
</dd>
</dl>
<dl id="index-169">
<dt><code class="switch docutils literal notranslate"><span class="pre">-I-</span></code></dt><dd><p id="index-170">Except for the source file named in the command line, do not look for source
files in the directory containing the source file named in the command line
(see <a class="reference internal" href="#search-paths-and-the-run-time-library-rtl"><span class="std std-ref">Search Paths and the Run-Time Library (RTL)</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-171">
<dt><code class="switch docutils literal notranslate"><span class="pre">-o</span> <em><span class="pre">file</span></em></code></dt><dd><p>This switch is used in <code class="docutils literal notranslate"><span class="pre">gcc</span></code> to redirect the generated object file
and its associated ALI file. Beware of this switch with GNAT, because it may
cause the object file and ALI file to have different names which in turn
may confuse the binder and the linker.</p>
</dd>
</dl>
<dl class="simple" id="index-172">
<dt><code class="switch docutils literal notranslate"><span class="pre">-nostdinc</span></code></dt><dd><p>Inhibit the search of the default location for the GNAT Run Time
Library (RTL) source files.</p>
</dd>
</dl>
<dl class="simple" id="index-173">
<dt><code class="switch docutils literal notranslate"><span class="pre">-nostdlib</span></code></dt><dd><p>Inhibit the search of the default location for the GNAT Run Time
Library (RTL) ALI files.</p>
</dd>
</dl>
<dl id="index-174">
<dt><code class="switch docutils literal notranslate"><span class="pre">-O[</span><em><span class="pre">n</span></em><span class="pre">]</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">n</span></code> controls the optimization level:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 91%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>n</em></p></td>
<td><p>Effect</p></td>
</tr>
<tr class="row-even"><td><p><em>0</em></p></td>
<td><p>No optimization, the default setting if no <code class="switch docutils literal notranslate"><span class="pre">-O</span></code> appears</p></td>
</tr>
<tr class="row-odd"><td><p><em>1</em></p></td>
<td><p>Normal optimization, the default if you specify <code class="switch docutils literal notranslate"><span class="pre">-O</span></code> without an
operand. A good compromise between code quality and compilation
time.</p></td>
</tr>
<tr class="row-even"><td><p><em>2</em></p></td>
<td><p>Extensive optimization, may improve execution time, possibly at
the cost of substantially increased compilation time.</p></td>
</tr>
<tr class="row-odd"><td><p><em>3</em></p></td>
<td><p>Same as <code class="switch docutils literal notranslate"><span class="pre">-O2</span></code>, and also includes inline expansion for small
subprograms in the same unit.</p></td>
</tr>
<tr class="row-even"><td><p><em>s</em></p></td>
<td><p>Optimize space usage</p></td>
</tr>
</tbody>
</table>
<p>See also <a class="reference internal" href="gnat_and_program_execution.html#optimization-levels"><span class="std std-ref">Optimization Levels</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-175">
<dt><code class="switch docutils literal notranslate"><span class="pre">-pass-exit-codes</span></code></dt><dd><p>Catch exit codes from the compiler and use the most meaningful as
exit status.</p>
</dd>
</dl>
<dl class="simple" id="index-176">
<dt><code class="switch docutils literal notranslate"><span class="pre">--RTS=</span><em><span class="pre">rts-path</span></em></code></dt><dd><p>Specifies the default location of the run-time library. Same meaning as the
equivalent <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> flag (<a class="reference internal" href="#switches-for-gnatmake"><span class="std std-ref">Switches for gnatmake</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="index-177">
<dt><code class="switch docutils literal notranslate"><span class="pre">-S</span></code></dt><dd><p>Used in place of <code class="switch docutils literal notranslate"><span class="pre">-c</span></code> to
cause the assembler source file to be
generated, using <code class="file docutils literal notranslate"><span class="pre">.s</span></code> as the extension,
instead of the object file.
This may be useful if you need to examine the generated assembly code.</p>
</dd>
</dl>
<dl class="simple" id="index-178">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fverbose-asm</span></code></dt><dd><p>Used in conjunction with <code class="switch docutils literal notranslate"><span class="pre">-S</span></code>
to cause the generated assembly code file to be annotated with variable
names, making it significantly easier to follow.</p>
</dd>
</dl>
<dl class="simple" id="index-179">
<dt><code class="switch docutils literal notranslate"><span class="pre">-v</span></code></dt><dd><p>Show commands generated by the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> driver. Normally used only for
debugging purposes or if you need to be sure what version of the
compiler you are executing.</p>
</dd>
</dl>
<dl class="simple" id="index-180">
<dt><code class="switch docutils literal notranslate"><span class="pre">-V</span> <em><span class="pre">ver</span></em></code></dt><dd><p>Execute <code class="docutils literal notranslate"><span class="pre">ver</span></code> version of the compiler. This is the <code class="docutils literal notranslate"><span class="pre">gcc</span></code>
version, not the GNAT version.</p>
</dd>
</dl>
<dl class="simple" id="index-181">
<dt><code class="switch docutils literal notranslate"><span class="pre">-w</span></code></dt><dd><p>Turn off warnings generated by the back end of the compiler. Use of
this switch also causes the default for front end warnings to be set
to suppress (as though <code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code> had appeared at the start of
the options).</p>
</dd>
</dl>
<p id="index-182">You may combine a sequence of GNAT switches into a single switch. For
example, the combined switch</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">gnatofi3</span>
</pre></div>
</div>
</div></blockquote>
<p>is equivalent to specifying the following sequence of switches:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">gnato</span> <span class="o">-</span><span class="n">gnatf</span> <span class="o">-</span><span class="n">gnati3</span>
</pre></div>
</div>
</div></blockquote>
<p>The following restrictions apply to the combination of switches
in this manner:</p>
<ul class="simple">
<li><p>The switch <code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code> if combined with other switches must come
first in the string.</p></li>
<li><p>The switch <code class="switch docutils literal notranslate"><span class="pre">-gnats</span></code> if combined with other switches must come
first in the string.</p></li>
<li><p>The switches
<code class="switch docutils literal notranslate"><span class="pre">-gnatzc</span></code> and <code class="switch docutils literal notranslate"><span class="pre">-gnatzr</span></code> may not be combined with any other
switches, and only one of them may appear in the command line.</p></li>
<li><p>The switch <code class="switch docutils literal notranslate"><span class="pre">-gnat-p</span></code> may not be combined with any other switch.</p></li>
<li><p>Once a ‘y’ appears in the string (that is a use of the <code class="switch docutils literal notranslate"><span class="pre">-gnaty</span></code>
switch), then all further characters in the switch are interpreted
as style modifiers (see description of <code class="switch docutils literal notranslate"><span class="pre">-gnaty</span></code>).</p></li>
<li><p>Once a ‘d’ appears in the string (that is a use of the <code class="switch docutils literal notranslate"><span class="pre">-gnatd</span></code>
switch), then all further characters in the switch are interpreted
as debug flags (see description of <code class="switch docutils literal notranslate"><span class="pre">-gnatd</span></code>).</p></li>
<li><p>Once a ‘w’ appears in the string (that is a use of the <code class="switch docutils literal notranslate"><span class="pre">-gnatw</span></code>
switch), then all further characters in the switch are interpreted
as warning mode modifiers (see description of <code class="switch docutils literal notranslate"><span class="pre">-gnatw</span></code>).</p></li>
<li><p>Once a ‘V’ appears in the string (that is a use of the <code class="switch docutils literal notranslate"><span class="pre">-gnatV</span></code>
switch), then all further characters in the switch are interpreted
as validity checking options (<a class="reference internal" href="#validity-checking"><span class="std std-ref">Validity Checking</span></a>).</p></li>
<li><p>Option ‘em’, ‘ec’, ‘ep’, ‘l=’ and ‘R’ must be the last options in
a combined list of options.</p></li>
</ul>
</div>
<div class="section" id="output-and-error-message-control">
<span id="id14"></span><h3><span class="section-number">4.3.2. </span>Output and Error Message Control<a class="headerlink" href="#output-and-error-message-control" title="Permalink to this headline">¶</a></h3>
<p id="index-183">The standard default format for error messages is called ‘brief format’.
Brief format messages are written to <code class="file docutils literal notranslate"><span class="pre">stderr</span></code> (the standard error
file) and have the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span> <span class="n">Incorrect</span> <span class="n">spelling</span> <span class="n">of</span> <span class="n">keyword</span> <span class="s2">&quot;function&quot;</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span> <span class="s2">&quot;;&quot;</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;is&quot;</span>
</pre></div>
</div>
<p>The first integer after the file name is the line number in the file,
and the second integer is the column number within the line.
<code class="docutils literal notranslate"><span class="pre">GNAT</span> <span class="pre">Studio</span></code> can parse the error messages
and point to the referenced character.
The following switches provide control over the error message
format:</p>
<dl id="index-184">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatv</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">v</span></code> stands for verbose.
The effect of this setting is to write long-format error
messages to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code> (the standard output file.
The same program compiled with the
<code class="switch docutils literal notranslate"><span class="pre">-gnatv</span></code> switch would generate:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">3.</span> <span class="n">funcion</span> <span class="n">X</span> <span class="p">(</span><span class="n">Q</span> <span class="p">:</span> <span class="n">Integer</span><span class="p">)</span>
   <span class="o">|</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Incorrect</span> <span class="n">spelling</span> <span class="n">of</span> <span class="n">keyword</span> <span class="s2">&quot;function&quot;</span>
<span class="mf">4.</span> <span class="k">return</span> <span class="n">Integer</span><span class="p">;</span>
                 <span class="o">|</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;;&quot;</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;is&quot;</span>
</pre></div>
</div>
<p>The vertical bar indicates the location of the error, and the <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code>
prefix can be used to search for error messages. When this switch is
used the only source lines output are those with errors.</p>
</dd>
</dl>
<dl id="index-185">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatl</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">l</span></code> stands for list.
This switch causes a full listing of
the file to be generated. In the case where a body is
compiled, the corresponding spec is also listed, along
with any subunits. Typical output from compiling a package
body <code class="file docutils literal notranslate"><span class="pre">p.adb</span></code> might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Compiling</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">adb</span>

     <span class="mf">1.</span> <span class="n">package</span> <span class="n">body</span> <span class="n">p</span> <span class="ow">is</span>
     <span class="mf">2.</span>    <span class="n">procedure</span> <span class="n">a</span><span class="p">;</span>
     <span class="mf">3.</span>    <span class="n">procedure</span> <span class="n">a</span> <span class="ow">is</span> <span class="n">separate</span><span class="p">;</span>
     <span class="mf">4.</span> <span class="n">begin</span>
     <span class="mf">5.</span>    <span class="n">null</span>
               <span class="o">|</span>
        <span class="o">&gt;&gt;&gt;</span> <span class="n">missing</span> <span class="s2">&quot;;&quot;</span>

     <span class="mf">6.</span> <span class="n">end</span><span class="p">;</span>

<span class="n">Compiling</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">ads</span>

     <span class="mf">1.</span> <span class="n">package</span> <span class="n">p</span> <span class="ow">is</span>
     <span class="mf">2.</span>    <span class="n">pragma</span> <span class="n">Elaborate_Body</span>
                                <span class="o">|</span>
        <span class="o">&gt;&gt;&gt;</span> <span class="n">missing</span> <span class="s2">&quot;;&quot;</span>

     <span class="mf">3.</span> <span class="n">end</span> <span class="n">p</span><span class="p">;</span>

<span class="n">Compiling</span><span class="p">:</span> <span class="n">p</span><span class="o">-</span><span class="n">a</span><span class="o">.</span><span class="n">adb</span>

     <span class="mf">1.</span> <span class="n">separate</span> <span class="n">p</span>
                <span class="o">|</span>
        <span class="o">&gt;&gt;&gt;</span> <span class="n">missing</span> <span class="s2">&quot;(&quot;</span>

     <span class="mf">2.</span> <span class="n">procedure</span> <span class="n">a</span> <span class="ow">is</span>
     <span class="mf">3.</span> <span class="n">begin</span>
     <span class="mf">4.</span>    <span class="n">null</span>
               <span class="o">|</span>
        <span class="o">&gt;&gt;&gt;</span> <span class="n">missing</span> <span class="s2">&quot;;&quot;</span>

     <span class="mf">5.</span> <span class="n">end</span><span class="p">;</span>
</pre></div>
</div>
<p>When you specify the <code class="switch docutils literal notranslate"><span class="pre">-gnatv</span></code> or <code class="switch docutils literal notranslate"><span class="pre">-gnatl</span></code> switches and
standard output is redirected, a brief summary is written to
<code class="file docutils literal notranslate"><span class="pre">stderr</span></code> (standard error) giving the number of error messages and
warning messages generated.</p>
</dd>
</dl>
<dl class="simple" id="index-186">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatl=</span><em><span class="pre">fname</span></em></code></dt><dd><p>This has the same effect as <code class="switch docutils literal notranslate"><span class="pre">-gnatl</span></code> except that the output is
written to a file instead of to standard output. If the given name
<code class="file docutils literal notranslate"><span class="pre">fname</span></code> does not start with a period, then it is the full name
of the file to be written. If <code class="file docutils literal notranslate"><span class="pre">fname</span></code> is an extension, it is
appended to the name of the file being compiled. For example, if
file <code class="file docutils literal notranslate"><span class="pre">xyz.adb</span></code> is compiled with <code class="switch docutils literal notranslate"><span class="pre">-gnatl=.lst</span></code>,
then the output is written to file xyz.adb.lst.</p>
</dd>
</dl>
<dl class="simple" id="index-187">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatU</span></code></dt><dd><p>This switch forces all error messages to be preceded by the unique
string ‘error:’. This means that error messages take a few more
characters in space, but allows easy searching for and identification
of error messages.</p>
</dd>
</dl>
<dl class="simple" id="index-188">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatb</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">b</span></code> stands for brief.
This switch causes GNAT to generate the
brief format error messages to <code class="file docutils literal notranslate"><span class="pre">stderr</span></code> (the standard error
file) as well as the verbose
format message or full listing (which as usual is written to
<code class="file docutils literal notranslate"><span class="pre">stdout</span></code> (the standard output file).</p>
</dd>
</dl>
<dl id="index-189">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatm=</span><em><span class="pre">n</span></em></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">m</span></code> stands for maximum.
<code class="docutils literal notranslate"><span class="pre">n</span></code> is a decimal integer in the
range of 1 to 999999 and limits the number of error or warning
messages to be generated. For example, using
<code class="switch docutils literal notranslate"><span class="pre">-gnatm2</span></code> might yield</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span> <span class="n">Incorrect</span> <span class="n">spelling</span> <span class="n">of</span> <span class="n">keyword</span> <span class="s2">&quot;function&quot;</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span> <span class="n">missing</span> <span class="s2">&quot;..&quot;</span>
<span class="n">fatal</span> <span class="n">error</span><span class="p">:</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">errors</span> <span class="n">detected</span>
<span class="n">compilation</span> <span class="n">abandoned</span>
</pre></div>
</div>
<p>The default setting if
no switch is given is 9999. If the number of warnings reaches this
limit, then a message is output and further warnings are suppressed,
but the compilation is continued. If the number of error messages
reaches this limit, then a message is output and the compilation
is abandoned. A value of zero means that no limit applies.</p>
<p>Note that the equal sign is optional, so the switches
<code class="switch docutils literal notranslate"><span class="pre">-gnatm2</span></code> and <code class="switch docutils literal notranslate"><span class="pre">-gnatm=2</span></code> are equivalent.</p>
</dd>
</dl>
<dl id="index-190">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatf</span></code></dt><dd><p id="index-191">The <code class="docutils literal notranslate"><span class="pre">f</span></code> stands for full.
Normally, the compiler suppresses error messages that are likely to be
redundant. This switch causes all error
messages to be generated. In particular, in the case of
references to undefined variables. If a given variable is referenced
several times, the normal format of messages is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span> <span class="s2">&quot;V&quot;</span> <span class="ow">is</span> <span class="n">undefined</span> <span class="p">(</span><span class="n">more</span> <span class="n">references</span> <span class="n">follow</span><span class="p">)</span>
</pre></div>
</div>
<p>where the parenthetical comment warns that there are additional
references to the variable <code class="docutils literal notranslate"><span class="pre">V</span></code>. Compiling the same program with the
<code class="switch docutils literal notranslate"><span class="pre">-gnatf</span></code> switch yields</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span> <span class="s2">&quot;V&quot;</span> <span class="ow">is</span> <span class="n">undefined</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span> <span class="s2">&quot;V&quot;</span> <span class="ow">is</span> <span class="n">undefined</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span> <span class="s2">&quot;V&quot;</span> <span class="ow">is</span> <span class="n">undefined</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span> <span class="s2">&quot;V&quot;</span> <span class="ow">is</span> <span class="n">undefined</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span> <span class="s2">&quot;V&quot;</span> <span class="ow">is</span> <span class="n">undefined</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span> <span class="s2">&quot;V&quot;</span> <span class="ow">is</span> <span class="n">undefined</span>
</pre></div>
</div>
<p>The <code class="switch docutils literal notranslate"><span class="pre">-gnatf</span></code> switch also generates additional information for
some error messages.  Some examples are:</p>
<ul class="simple">
<li><p>Details on possibly non-portable unchecked conversion</p></li>
<li><p>List possible interpretations for ambiguous calls</p></li>
<li><p>Additional details on incorrect parameters</p></li>
</ul>
</dd>
</dl>
<dl id="index-192">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatjnn</span></code></dt><dd><p>In normal operation mode (or if <code class="switch docutils literal notranslate"><span class="pre">-gnatj0</span></code> is used), then error messages
with continuation lines are treated as though the continuation lines were
separate messages (and so a warning with two continuation lines counts as
three warnings, and is listed as three separate messages).</p>
<p>If the <code class="switch docutils literal notranslate"><span class="pre">-gnatjnn</span></code> switch is used with a positive value for nn, then
messages are output in a different manner. A message and all its continuation
lines are treated as a unit, and count as only one warning or message in the
statistics totals. Furthermore, the message is reformatted so that no line
is longer than nn characters.</p>
</dd>
</dl>
<dl class="simple" id="index-193">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatq</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">q</span></code> stands for quit (really ‘don’t quit’).
In normal operation mode, the compiler first parses the program and
determines if there are any syntax errors. If there are, appropriate
error messages are generated and compilation is immediately terminated.
This switch tells
GNAT to continue with semantic analysis even if syntax errors have been
found. This may enable the detection of more errors in a single run. On
the other hand, the semantic analyzer is more likely to encounter some
internal fatal error when given a syntactically invalid tree.</p>
</dd>
</dl>
<dl id="index-194">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatQ</span></code></dt><dd><p>In normal operation mode, the <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file is not generated if any
illegalities are detected in the program. The use of <code class="switch docutils literal notranslate"><span class="pre">-gnatQ</span></code> forces
generation of the <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file. This file is marked as being in
error, so it cannot be used for binding purposes, but it does contain
reasonably complete cross-reference information, and thus may be useful
for use by tools (e.g., semantic browsing tools or integrated development
environments) that are driven from the <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file. This switch
implies <code class="switch docutils literal notranslate"><span class="pre">-gnatq</span></code>, since the semantic phase must be run to get a
meaningful ALI file.</p>
<p>When <code class="switch docutils literal notranslate"><span class="pre">-gnatQ</span></code> is used and the generated <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file is marked as
being in error, <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> will attempt to recompile the source when it
finds such an <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file, including with switch <code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code>.</p>
<p>Note that <code class="switch docutils literal notranslate"><span class="pre">-gnatQ</span></code> has no effect if <code class="switch docutils literal notranslate"><span class="pre">-gnats</span></code> is specified,
since ALI files are never generated if <code class="switch docutils literal notranslate"><span class="pre">-gnats</span></code> is set.</p>
</dd>
</dl>
</div>
<div class="section" id="warning-message-control">
<span id="id15"></span><h3><span class="section-number">4.3.3. </span>Warning Message Control<a class="headerlink" href="#warning-message-control" title="Permalink to this headline">¶</a></h3>
<p id="index-195">In addition to error messages, which correspond to illegalities as defined
in the Ada Reference Manual, the compiler detects two kinds of warning
situations.</p>
<p>First, the compiler considers some constructs suspicious and generates a
warning message to alert you to a possible error. Second, if the
compiler detects a situation that is sure to raise an exception at
run time, it generates a warning message. The following shows an example
of warning messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span> <span class="n">warning</span><span class="p">:</span> <span class="n">creation</span> <span class="n">of</span> <span class="nb">object</span> <span class="n">may</span> <span class="k">raise</span> <span class="n">Storage_Error</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span> <span class="n">warning</span><span class="p">:</span> <span class="n">static</span> <span class="n">value</span> <span class="n">out</span> <span class="n">of</span> <span class="nb">range</span>
<span class="n">e</span><span class="o">.</span><span class="n">adb</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span> <span class="n">warning</span><span class="p">:</span> <span class="s2">&quot;Constraint_Error&quot;</span> <span class="n">will</span> <span class="n">be</span> <span class="n">raised</span> <span class="n">at</span> <span class="n">run</span> <span class="n">time</span>
</pre></div>
</div>
<p>GNAT considers a large number of situations as appropriate
for the generation of warning messages. As always, warnings are not
definite indications of errors. For example, if you do an out-of-range
assignment with the deliberate intention of raising a
<code class="docutils literal notranslate"><span class="pre">Constraint_Error</span></code> exception, then the warning that may be
issued does not indicate an error. Some of the situations for which GNAT
issues warnings (at least some of the time) are given in the following
list. This list is not complete, and new warnings are often added to
subsequent versions of GNAT. The list is intended to give a general idea
of the kinds of warnings that are generated.</p>
<ul class="simple">
<li><p>Possible infinitely recursive calls</p></li>
<li><p>Out-of-range values being assigned</p></li>
<li><p>Possible order of elaboration problems</p></li>
<li><p>Size not a multiple of alignment for a record type</p></li>
<li><p>Assertions (pragma Assert) that are sure to fail</p></li>
<li><p>Unreachable code</p></li>
<li><p>Address clauses with possibly unaligned values, or where an attempt is
made to overlay a smaller variable with a larger one.</p></li>
<li><p>Fixed-point type declarations with a null range</p></li>
<li><p>Direct_IO or Sequential_IO instantiated with a type that has access values</p></li>
<li><p>Variables that are never assigned a value</p></li>
<li><p>Variables that are referenced before being initialized</p></li>
<li><p>Task entries with no corresponding <code class="docutils literal notranslate"><span class="pre">accept</span></code> statement</p></li>
<li><p>Duplicate accepts for the same task entry in a <code class="docutils literal notranslate"><span class="pre">select</span></code></p></li>
<li><p>Objects that take too much storage</p></li>
<li><p>Unchecked conversion between types of differing sizes</p></li>
<li><p>Missing <code class="docutils literal notranslate"><span class="pre">return</span></code> statement along some execution path in a function</p></li>
<li><p>Incorrect (unrecognized) pragmas</p></li>
<li><p>Incorrect external names</p></li>
<li><p>Allocation from empty storage pool</p></li>
<li><p>Potentially blocking operation in protected type</p></li>
<li><p>Suspicious parenthesization of expressions</p></li>
<li><p>Mismatching bounds in an aggregate</p></li>
<li><p>Attempt to return local value by reference</p></li>
<li><p>Premature instantiation of a generic body</p></li>
<li><p>Attempt to pack aliased components</p></li>
<li><p>Out of bounds array subscripts</p></li>
<li><p>Wrong length on string assignment</p></li>
<li><p>Violations of style rules if style checking is enabled</p></li>
<li><p>Unused <em>with</em> clauses</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bit_Order</span></code> usage that does not have any effect</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Standard.Duration</span></code> used to resolve universal fixed expression</p></li>
<li><p>Dereference of possibly null value</p></li>
<li><p>Declaration that is likely to cause storage error</p></li>
<li><p>Internal GNAT unit <em>with</em>ed by application unit</p></li>
<li><p>Values known to be out of range at compile time</p></li>
<li><p>Unreferenced or unmodified variables. Note that a special
exemption applies to variables which contain any of the substrings
<code class="docutils literal notranslate"><span class="pre">DISCARD,</span> <span class="pre">DUMMY,</span> <span class="pre">IGNORE,</span> <span class="pre">JUNK,</span> <span class="pre">UNUSED</span></code>, in any casing. Such variables
are considered likely to be intentionally used in a situation where
otherwise a warning would be given, so warnings of this kind are
always suppressed for such variables.</p></li>
<li><p>Address overlays that could clobber memory</p></li>
<li><p>Unexpected initialization when address clause present</p></li>
<li><p>Bad alignment for address clause</p></li>
<li><p>Useless type conversions</p></li>
<li><p>Redundant assignment statements and other redundant constructs</p></li>
<li><p>Useless exception handlers</p></li>
<li><p>Accidental hiding of name by child unit</p></li>
<li><p>Access before elaboration detected at compile time</p></li>
<li><p>A range in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop that is known to be null or might be null</p></li>
</ul>
<p>The following section lists compiler switches that are available
to control the handling of warning messages. It is also possible
to exercise much finer control over what warnings are issued and
suppressed using the GNAT pragma Warnings (see the description
of the pragma in the <cite>GNAT_Reference_manual</cite>).</p>
<dl id="index-196">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwa</span></code></dt><dd><p><em>Activate most optional warnings.</em></p>
<p>This switch activates most optional warning messages. See the remaining list
in this section for details on optional warning messages that can be
individually controlled.  The warnings that are not turned on by this
switch are:</p>
<ul class="simple">
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwd</span></code> (implicit dereferencing)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.d</span></code> (tag warnings with -gnatw switch)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwh</span></code> (hiding)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.h</span></code> (holes in record layouts)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.j</span></code> (late primitives of tagged types)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.k</span></code> (redefinition of names in standard)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwl</span></code> (elaboration warnings)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.l</span></code> (inherited aspects)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.n</span></code> (atomic synchronization)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwo</span></code> (address clause overlay)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.o</span></code> (values set by out parameters ignored)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.q</span></code> (questionable layout of record types)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw_r</span></code> (out-of-order record representation clauses)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.s</span></code> (overridden size clause)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwt</span></code> (tracking of deleted conditional code)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.u</span></code> (unordered enumeration)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.w</span></code> (use of Warnings Off)</p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.y</span></code> (reasons for package needing body)</p></li>
</ul>
<p>All other optional warnings are turned on.</p>
</dd>
</dl>
<dl id="index-197">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwA</span></code></dt><dd><p><em>Suppress all optional errors.</em></p>
<p>This switch suppresses all optional warning messages, see remaining list
in this section for details on optional warning messages that can be
individually controlled. Note that unlike switch <code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code>, the
use of switch <code class="switch docutils literal notranslate"><span class="pre">-gnatwA</span></code> does not suppress warnings that are
normally given unconditionally and cannot be individually controlled
(for example, the warning about a missing exit path in a function).
Also, again unlike switch <code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code>, warnings suppressed by
the use of switch <code class="switch docutils literal notranslate"><span class="pre">-gnatwA</span></code> can be individually turned back
on. For example the use of switch <code class="switch docutils literal notranslate"><span class="pre">-gnatwA</span></code> followed by
switch <code class="switch docutils literal notranslate"><span class="pre">-gnatwd</span></code> will suppress all optional warnings except
the warnings for implicit dereferencing.</p>
</dd>
</dl>
<dl id="index-198">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.a</span></code></dt><dd><p><em>Activate warnings on failing assertions.</em></p>
<p id="index-199">This switch activates warnings for assertions where the compiler can tell at
compile time that the assertion will fail. Note that this warning is given
even if assertions are disabled. The default is that such warnings are
generated.</p>
</dd>
</dl>
<dl id="index-200">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.A</span></code></dt><dd><p><em>Suppress warnings on failing assertions.</em></p>
<p id="index-201">This switch suppresses warnings for assertions where the compiler can tell at
compile time that the assertion will fail.</p>
</dd>
</dl>
<dl id="index-202">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw_a</span></code></dt><dd><p><em>Activate warnings on anonymous allocators.</em></p>
<p id="index-203">This switch activates warnings for allocators of anonymous access types,
which can involve run-time accessibility checks and lead to unexpected
accessibility violations. For more details on the rules involved, see
RM 3.10.2 (14).</p>
</dd>
</dl>
<dl id="index-204">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw_A</span></code></dt><dd><p><em>Supress warnings on anonymous allocators.</em></p>
<p id="index-205">This switch suppresses warnings for anonymous access type allocators.</p>
</dd>
</dl>
<dl id="index-206">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwb</span></code></dt><dd><p><em>Activate warnings on bad fixed values.</em></p>
<span class="target" id="index-207"></span><span class="target" id="index-208"></span><p id="index-209">This switch activates warnings for static fixed-point expressions whose
value is not an exact multiple of Small. Such values are implementation
dependent, since an implementation is free to choose either of the multiples
that surround the value. GNAT always chooses the closer one, but this is not
required behavior, and it is better to specify a value that is an exact
multiple, ensuring predictable execution. The default is that such warnings
are not generated.</p>
</dd>
</dl>
<dl id="index-210">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwB</span></code></dt><dd><p><em>Suppress warnings on bad fixed values.</em></p>
<p>This switch suppresses warnings for static fixed-point expressions whose
value is not an exact multiple of Small.</p>
</dd>
</dl>
<dl id="index-211">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.b</span></code></dt><dd><p><em>Activate warnings on biased representation.</em></p>
<p id="index-212">This switch activates warnings when a size clause, value size clause, component
clause, or component size clause forces the use of biased representation for an
integer type (e.g. representing a range of 10..11 in a single bit by using 0/1
to represent 10/11). The default is that such warnings are generated.</p>
</dd>
</dl>
<dl id="index-213">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.B</span></code></dt><dd><p><em>Suppress warnings on biased representation.</em></p>
<p>This switch suppresses warnings for representation clauses that force the use
of biased representation.</p>
</dd>
</dl>
<dl id="index-214">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwc</span></code></dt><dd><p><em>Activate warnings on conditionals.</em></p>
<p id="index-215">This switch activates warnings for conditional expressions used in
tests that are known to be True or False at compile time. The default
is that such warnings are not generated.
Note that this warning does
not get issued for the use of boolean variables or constants whose
values are known at compile time, since this is a standard technique
for conditional compilation in Ada, and this would generate too many
false positive warnings.</p>
<p>This warning option also activates a special test for comparisons using
the operators ‘&gt;=’ and’ &lt;=’.
If the compiler can tell that only the equality condition is possible,
then it will warn that the ‘&gt;’ or ‘&lt;’ part of the test
is useless and that the operator could be replaced by ‘=’.
An example would be comparing a <code class="docutils literal notranslate"><span class="pre">Natural</span></code> variable &lt;= 0.</p>
<p>This warning option also generates warnings if
one or both tests is optimized away in a membership test for integer
values if the result can be determined at compile time. Range tests on
enumeration types are not included, since it is common for such tests
to include an end point.</p>
<p>This warning can also be turned on using <code class="switch docutils literal notranslate"><span class="pre">-gnatwa</span></code>.</p>
</dd>
</dl>
<dl id="index-216">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwC</span></code></dt><dd><p><em>Suppress warnings on conditionals.</em></p>
<p>This switch suppresses warnings for conditional expressions used in
tests that are known to be True or False at compile time.</p>
</dd>
</dl>
<dl id="index-217">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.c</span></code></dt><dd><p><em>Activate warnings on missing component clauses.</em></p>
<p id="index-218">This switch activates warnings for record components where a record
representation clause is present and has component clauses for the
majority, but not all, of the components. A warning is given for each
component for which no component clause is present.</p>
</dd>
</dl>
<dl id="index-219">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.C</span></code></dt><dd><p><em>Suppress warnings on missing component clauses.</em></p>
<p>This switch suppresses warnings for record components that are
missing a component clause in the situation described above.</p>
</dd>
</dl>
<dl id="index-220">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw_c</span></code></dt><dd><p><em>Activate warnings on unknown condition in Compile_Time_Warning.</em></p>
<span class="target" id="index-221"></span><p id="index-222">This switch activates warnings on a pragma Compile_Time_Warning
or Compile_Time_Error whose condition has a value that is not
known at compile time.
The default is that such warnings are generated.</p>
</dd>
</dl>
<dl id="index-223">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw_C</span></code></dt><dd><p><em>Suppress warnings on unknown condition in Compile_Time_Warning.</em></p>
<p>This switch supresses warnings on a pragma Compile_Time_Warning
or Compile_Time_Error whose condition has a value that is not
known at compile time.</p>
</dd>
</dl>
<dl id="index-224">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwd</span></code></dt><dd><p><em>Activate warnings on implicit dereferencing.</em></p>
<p>If this switch is set, then the use of a prefix of an access type
in an indexed component, slice, or selected component without an
explicit <code class="docutils literal notranslate"><span class="pre">.all</span></code> will generate a warning. With this warning
enabled, access checks occur only at points where an explicit
<code class="docutils literal notranslate"><span class="pre">.all</span></code> appears in the source code (assuming no warnings are
generated as a result of this switch). The default is that such
warnings are not generated.</p>
</dd>
</dl>
<dl id="index-225">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwD</span></code></dt><dd><p><em>Suppress warnings on implicit dereferencing.</em></p>
<span class="target" id="index-226"></span><p id="index-227">This switch suppresses warnings for implicit dereferences in
indexed components, slices, and selected components.</p>
</dd>
</dl>
<dl id="index-228">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.d</span></code></dt><dd><p><em>Activate tagging of warning and info messages.</em></p>
<p>If this switch is set, then warning messages are tagged, with one of the
following strings:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>[-gnatw?]</em>
Used to tag warnings controlled by the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatwx</span></code> where x
is a letter a-z.</p></li>
<li><p><em>[-gnatw.?]</em>
Used to tag warnings controlled by the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatw.x</span></code> where x
is a letter a-z.</p></li>
<li><p><em>[-gnatel]</em>
Used to tag elaboration information (info) messages generated when the
static model of elaboration is used and the <code class="switch docutils literal notranslate"><span class="pre">-gnatel</span></code> switch is set.</p></li>
<li><p><em>[restriction warning]</em>
Used to tag warning messages for restriction violations, activated by use
of the pragma <code class="docutils literal notranslate"><span class="pre">Restriction_Warnings</span></code>.</p></li>
<li><p><em>[warning-as-error]</em>
Used to tag warning messages that have been converted to error messages by
use of the pragma Warning_As_Error. Note that such warnings are prefixed by
the string “error: ” rather than “warning: “.</p></li>
<li><p><em>[enabled by default]</em>
Used to tag all other warnings that are always given by default, unless
warnings are completely suppressed using pragma <em>Warnings(Off)</em> or
the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code>.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<dl id="index-229">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.D</span></code></dt><dd><p><em>Deactivate tagging of warning and info messages messages.</em></p>
<p>If this switch is set, then warning messages return to the default
mode in which warnings and info messages are not tagged as described above for
<code class="switch docutils literal notranslate"><span class="pre">-gnatw.d</span></code>.</p>
</dd>
</dl>
<span class="target" id="index-230"></span><dl id="index-231">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwe</span></code></dt><dd><p><em>Treat warnings and style checks as errors.</em></p>
<p>This switch causes warning messages and style check messages to be
treated as errors.
The warning string still appears, but the warning messages are counted
as errors, and prevent the generation of an object file. Note that this
is the only -gnatw switch that affects the handling of style check messages.
Note also that this switch has no effect on info (information) messages, which
are not treated as errors if this switch is present.</p>
</dd>
</dl>
<dl id="index-232">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.e</span></code></dt><dd><p><em>Activate every optional warning.</em></p>
<p id="index-233">This switch activates all optional warnings, including those which
are not activated by <code class="switch docutils literal notranslate"><span class="pre">-gnatwa</span></code>. The use of this switch is not
recommended for normal use. If you turn this switch on, it is almost
certain that you will get large numbers of useless warnings. The
warnings that are excluded from <code class="switch docutils literal notranslate"><span class="pre">-gnatwa</span></code> are typically highly
specialized warnings that are suitable for use only in code that has
been specifically designed according to specialized coding rules.</p>
</dd>
</dl>
<span class="target" id="index-234"></span><dl id="index-235">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwE</span></code></dt><dd><p><em>Treat all run-time exception warnings as errors.</em></p>
<p>This switch causes warning messages regarding errors that will be raised
during run-time execution to be treated as errors.</p>
</dd>
</dl>
<dl id="index-236">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwf</span></code></dt><dd><p><em>Activate warnings on unreferenced formals.</em></p>
<p id="index-237">This switch causes a warning to be generated if a formal parameter
is not referenced in the body of the subprogram. This warning can
also be turned on using <code class="switch docutils literal notranslate"><span class="pre">-gnatwu</span></code>. The
default is that these warnings are not generated.</p>
</dd>
</dl>
<dl id="index-238">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwF</span></code></dt><dd><p><em>Suppress warnings on unreferenced formals.</em></p>
<p>This switch suppresses warnings for unreferenced formal
parameters. Note that the
combination <code class="switch docutils literal notranslate"><span class="pre">-gnatwu</span></code> followed by <code class="switch docutils literal notranslate"><span class="pre">-gnatwF</span></code> has the
effect of warning on unreferenced entities other than subprogram
formals.</p>
</dd>
</dl>
<dl id="index-239">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwg</span></code></dt><dd><p><em>Activate warnings on unrecognized pragmas.</em></p>
<p id="index-240">This switch causes a warning to be generated if an unrecognized
pragma is encountered. Apart from issuing this warning, the
pragma is ignored and has no effect. The default
is that such warnings are issued (satisfying the Ada Reference
Manual requirement that such warnings appear).</p>
</dd>
</dl>
<dl id="index-241">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwG</span></code></dt><dd><p><em>Suppress warnings on unrecognized pragmas.</em></p>
<p>This switch suppresses warnings for unrecognized pragmas.</p>
</dd>
</dl>
<dl id="index-242">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.g</span></code></dt><dd><p><em>Warnings used for GNAT sources.</em></p>
<p>This switch sets the warning categories that are used by the standard
GNAT style. Currently this is equivalent to
<code class="switch docutils literal notranslate"><span class="pre">-gnatwAao.q.s.CI.V.X.Z</span></code>
but more warnings may be added in the future without advanced notice.</p>
</dd>
</dl>
<dl id="index-243">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwh</span></code></dt><dd><p><em>Activate warnings on hiding.</em></p>
<p id="index-244">This switch activates warnings on hiding declarations that are considered
potentially confusing. Not all cases of hiding cause warnings; for example an
overriding declaration hides an implicit declaration, which is just normal
code. The default is that warnings on hiding are not generated.</p>
</dd>
</dl>
<dl id="index-245">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwH</span></code></dt><dd><p><em>Suppress warnings on hiding.</em></p>
<p>This switch suppresses warnings on hiding declarations.</p>
</dd>
</dl>
<dl id="index-246">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.h</span></code></dt><dd><p><em>Activate warnings on holes/gaps in records.</em></p>
<p id="index-247">This switch activates warnings on component clauses in record
representation clauses that leave holes (gaps) in the record layout.
If this warning option is active, then record representation clauses
should specify a contiguous layout, adding unused fill fields if needed.</p>
</dd>
</dl>
<dl id="index-248">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.H</span></code></dt><dd><p><em>Suppress warnings on holes/gaps in records.</em></p>
<p>This switch suppresses warnings on component clauses in record
representation clauses that leave holes (haps) in the record layout.</p>
</dd>
</dl>
<dl id="index-249">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwi</span></code></dt><dd><p><em>Activate warnings on implementation units.</em></p>
<p>This switch activates warnings for a <em>with</em> of an internal GNAT
implementation unit, defined as any unit from the <code class="docutils literal notranslate"><span class="pre">Ada</span></code>,
<code class="docutils literal notranslate"><span class="pre">Interfaces</span></code>, <code class="docutils literal notranslate"><span class="pre">GNAT</span></code>,
or <code class="docutils literal notranslate"><span class="pre">System</span></code>
hierarchies that is not
documented in either the Ada Reference Manual or the GNAT
Programmer’s Reference Manual. Such units are intended only
for internal implementation purposes and should not be <em>with</em>ed
by user programs. The default is that such warnings are generated</p>
</dd>
</dl>
<dl id="index-250">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwI</span></code></dt><dd><p><em>Disable warnings on implementation units.</em></p>
<p>This switch disables warnings for a <em>with</em> of an internal GNAT
implementation unit.</p>
</dd>
</dl>
<dl id="index-251">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.i</span></code></dt><dd><p><em>Activate warnings on overlapping actuals.</em></p>
<p>This switch enables a warning on statically detectable overlapping actuals in
a subprogram call, when one of the actuals is an in-out parameter, and the
types of the actuals are not by-copy types. This warning is off by default.</p>
</dd>
</dl>
<dl id="index-252">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.I</span></code></dt><dd><p><em>Disable warnings on overlapping actuals.</em></p>
<p>This switch disables warnings on overlapping actuals in a call.</p>
</dd>
</dl>
<dl id="index-253">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwj</span></code></dt><dd><p><em>Activate warnings on obsolescent features (Annex J).</em></p>
<span class="target" id="index-254"></span><p id="index-255">If this warning option is activated, then warnings are generated for
calls to subprograms marked with <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Obsolescent</span></code> and
for use of features in Annex J of the Ada Reference Manual. In the
case of Annex J, not all features are flagged. In particular use
of the renamed packages (like <code class="docutils literal notranslate"><span class="pre">Text_IO</span></code>) and use of package
<code class="docutils literal notranslate"><span class="pre">ASCII</span></code> are not flagged, since these are very common and
would generate many annoying positive warnings. The default is that
such warnings are not generated.</p>
<p>In addition to the above cases, warnings are also generated for
GNAT features that have been provided in past versions but which
have been superseded (typically by features in the new Ada standard).
For example, <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Ravenscar</span></code> will be flagged since its
function is replaced by <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Profile(Ravenscar)</span></code>, and
<code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Interface_Name</span></code> will be flagged since its function
is replaced by <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Import</span></code>.</p>
<p>Note that this warning option functions differently from the
restriction <code class="docutils literal notranslate"><span class="pre">No_Obsolescent_Features</span></code> in two respects.
First, the restriction applies only to annex J features.
Second, the restriction does flag uses of package <code class="docutils literal notranslate"><span class="pre">ASCII</span></code>.</p>
</dd>
</dl>
<dl id="index-256">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwJ</span></code></dt><dd><p><em>Suppress warnings on obsolescent features (Annex J).</em></p>
<p>This switch disables warnings on use of obsolescent features.</p>
</dd>
</dl>
<dl id="index-257">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.j</span></code></dt><dd><p><em>Activate warnings on late declarations of tagged type primitives.</em></p>
<p>This switch activates warnings on visible primitives added to a
tagged type after deriving a private extension from it.</p>
</dd>
</dl>
<dl id="index-258">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.J</span></code></dt><dd><p><em>Suppress warnings on late declarations of tagged type primitives.</em></p>
<p>This switch suppresses warnings on visible primitives added to a
tagged type after deriving a private extension from it.</p>
</dd>
</dl>
<dl id="index-259">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwk</span></code></dt><dd><p><em>Activate warnings on variables that could be constants.</em></p>
<p>This switch activates warnings for variables that are initialized but
never modified, and then could be declared constants. The default is that
such warnings are not given.</p>
</dd>
</dl>
<dl id="index-260">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwK</span></code></dt><dd><p><em>Suppress warnings on variables that could be constants.</em></p>
<p>This switch disables warnings on variables that could be declared constants.</p>
</dd>
</dl>
<dl id="index-261">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.k</span></code></dt><dd><p><em>Activate warnings on redefinition of names in standard.</em></p>
<p>This switch activates warnings for declarations that declare a name that
is defined in package Standard. Such declarations can be confusing,
especially since the names in package Standard continue to be directly
visible, meaning that use visibiliy on such redeclared names does not
work as expected. Names of discriminants and components in records are
not included in this check.</p>
</dd>
</dl>
<dl id="index-262">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.K</span></code></dt><dd><p><em>Suppress warnings on redefinition of names in standard.</em></p>
<p>This switch disables warnings for declarations that declare a name that
is defined in package Standard.</p>
</dd>
</dl>
<dl id="index-263">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwl</span></code></dt><dd><p><em>Activate warnings for elaboration pragmas.</em></p>
<p id="index-264">This switch activates warnings for possible elaboration problems,
including suspicious use
of <code class="docutils literal notranslate"><span class="pre">Elaborate</span></code> pragmas, when using the static elaboration model, and
possible situations that may raise <code class="docutils literal notranslate"><span class="pre">Program_Error</span></code> when using the
dynamic elaboration model.
See the section in this guide on elaboration checking for further details.
The default is that such warnings
are not generated.</p>
</dd>
</dl>
<dl id="index-265">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwL</span></code></dt><dd><p><em>Suppress warnings for elaboration pragmas.</em></p>
<p>This switch suppresses warnings for possible elaboration problems.</p>
</dd>
</dl>
<dl id="index-266">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.l</span></code></dt><dd><p><em>List inherited aspects.</em></p>
<p>This switch causes the compiler to list inherited invariants,
preconditions, and postconditions from Type_Invariant’Class, Invariant’Class,
Pre’Class, and Post’Class aspects. Also list inherited subtype predicates.</p>
</dd>
</dl>
<dl id="index-267">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.L</span></code></dt><dd><p><em>Suppress listing of inherited aspects.</em></p>
<p>This switch suppresses listing of inherited aspects.</p>
</dd>
</dl>
<dl id="index-268">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwm</span></code></dt><dd><p><em>Activate warnings on modified but unreferenced variables.</em></p>
<p>This switch activates warnings for variables that are assigned (using
an initialization value or with one or more assignment statements) but
whose value is never read. The warning is suppressed for volatile
variables and also for variables that are renamings of other variables
or for which an address clause is given.
The default is that these warnings are not given.</p>
</dd>
</dl>
<dl id="index-269">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwM</span></code></dt><dd><p><em>Disable warnings on modified but unreferenced variables.</em></p>
<p>This switch disables warnings for variables that are assigned or
initialized, but never read.</p>
</dd>
</dl>
<dl id="index-270">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.m</span></code></dt><dd><p><em>Activate warnings on suspicious modulus values.</em></p>
<p>This switch activates warnings for modulus values that seem suspicious.
The cases caught are where the size is the same as the modulus (e.g.
a modulus of 7 with a size of 7 bits), and modulus values of 32 or 64
with no size clause. The guess in both cases is that 2**x was intended
rather than x. In addition expressions of the form 2*x for small x
generate a warning (the almost certainly accurate guess being that
2**x was intended). This switch also activates warnings for negative
literal values of a modular type, which are interpreted as large positive
integers after wrap-around. The default is that these warnings are given.</p>
</dd>
</dl>
<dl id="index-271">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.M</span></code></dt><dd><p><em>Disable warnings on suspicious modulus values.</em></p>
<p>This switch disables warnings for suspicious modulus values.</p>
</dd>
</dl>
<dl id="index-272">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwn</span></code></dt><dd><p><em>Set normal warnings mode.</em></p>
<p>This switch sets normal warning mode, in which enabled warnings are
issued and treated as warnings rather than errors. This is the default
mode. the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatwn</span></code> can be used to cancel the effect of
an explicit <code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code> or
<code class="switch docutils literal notranslate"><span class="pre">-gnatwe</span></code>. It also cancels the effect of the
implicit <code class="switch docutils literal notranslate"><span class="pre">-gnatwe</span></code> that is activated by the
use of <code class="switch docutils literal notranslate"><span class="pre">-gnatg</span></code>.</p>
</dd>
</dl>
<span class="target" id="index-273"></span><dl id="index-274">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.n</span></code></dt><dd><p><em>Activate warnings on atomic synchronization.</em></p>
<p>This switch actives warnings when an access to an atomic variable
requires the generation of atomic synchronization code. These
warnings are off by default.</p>
</dd>
</dl>
<dl id="index-275">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.N</span></code></dt><dd><p><em>Suppress warnings on atomic synchronization.</em></p>
<p id="index-276">This switch suppresses warnings when an access to an atomic variable
requires the generation of atomic synchronization code.</p>
</dd>
</dl>
<span class="target" id="index-277"></span><dl id="index-278">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwo</span></code></dt><dd><p><em>Activate warnings on address clause overlays.</em></p>
<p>This switch activates warnings for possibly unintended initialization
effects of defining address clauses that cause one variable to overlap
another. The default is that such warnings are generated.</p>
</dd>
</dl>
<dl id="index-279">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwO</span></code></dt><dd><p><em>Suppress warnings on address clause overlays.</em></p>
<p>This switch suppresses warnings on possibly unintended initialization
effects of defining address clauses that cause one variable to overlap
another.</p>
</dd>
</dl>
<dl id="index-280">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.o</span></code></dt><dd><p><em>Activate warnings on modified but unreferenced out parameters.</em></p>
<p>This switch activates warnings for variables that are modified by using
them as actuals for a call to a procedure with an out mode formal, where
the resulting assigned value is never read. It is applicable in the case
where there is more than one out mode formal. If there is only one out
mode formal, the warning is issued by default (controlled by -gnatwu).
The warning is suppressed for volatile
variables and also for variables that are renamings of other variables
or for which an address clause is given.
The default is that these warnings are not given.</p>
</dd>
</dl>
<dl id="index-281">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.O</span></code></dt><dd><p><em>Disable warnings on modified but unreferenced out parameters.</em></p>
<p>This switch suppresses warnings for variables that are modified by using
them as actuals for a call to a procedure with an out mode formal, where
the resulting assigned value is never read.</p>
</dd>
</dl>
<span class="target" id="index-282"></span><dl id="index-283">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwp</span></code></dt><dd><p><em>Activate warnings on ineffective pragma Inlines.</em></p>
<p>This switch activates warnings for failure of front end inlining
(activated by <code class="switch docutils literal notranslate"><span class="pre">-gnatN</span></code>) to inline a particular call. There are
many reasons for not being able to inline a call, including most
commonly that the call is too complex to inline. The default is
that such warnings are not given.
Warnings on ineffective inlining by the gcc back-end can be activated
separately, using the gcc switch -Winline.</p>
</dd>
</dl>
<dl id="index-284">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwP</span></code></dt><dd><p><em>Suppress warnings on ineffective pragma Inlines.</em></p>
<p>This switch suppresses warnings on ineffective pragma Inlines. If the
inlining mechanism cannot inline a call, it will simply ignore the
request silently.</p>
</dd>
</dl>
<span class="target" id="index-285"></span><dl id="index-286">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.p</span></code></dt><dd><p><em>Activate warnings on parameter ordering.</em></p>
<p>This switch activates warnings for cases of suspicious parameter
ordering when the list of arguments are all simple identifiers that
match the names of the formals, but are in a different order. The
warning is suppressed if any use of named parameter notation is used,
so this is the appropriate way to suppress a false positive (and
serves to emphasize that the “misordering” is deliberate). The
default is that such warnings are not given.</p>
</dd>
</dl>
<dl id="index-287">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.P</span></code></dt><dd><p><em>Suppress warnings on parameter ordering.</em></p>
<p>This switch suppresses warnings on cases of suspicious parameter
ordering.</p>
</dd>
</dl>
<span class="target" id="index-288"></span><dl id="index-289">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwq</span></code></dt><dd><p><em>Activate warnings on questionable missing parentheses.</em></p>
<p>This switch activates warnings for cases where parentheses are not used and
the result is potential ambiguity from a readers point of view. For example
(not a &gt; b) when a and b are modular means ((not a) &gt; b) and very likely the
programmer intended (not (a &gt; b)). Similarly (-x mod 5) means (-(x mod 5)) and
quite likely ((-x) mod 5) was intended. In such situations it seems best to
follow the rule of always parenthesizing to make the association clear, and
this warning switch warns if such parentheses are not present. The default
is that these warnings are given.</p>
</dd>
</dl>
<dl id="index-290">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwQ</span></code></dt><dd><p><em>Suppress warnings on questionable missing parentheses.</em></p>
<p>This switch suppresses warnings for cases where the association is not
clear and the use of parentheses is preferred.</p>
</dd>
</dl>
<span class="target" id="index-291"></span><dl id="index-292">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.q</span></code></dt><dd><p><em>Activate warnings on questionable layout of record types.</em></p>
<p>This switch activates warnings for cases where the default layout of
a record type, that is to say the layout of its components in textual
order of the source code, would very likely cause inefficiencies in
the code generated by the compiler, both in terms of space and speed
during execution. One warning is issued for each problematic component
without representation clause in the nonvariant part and then in each
variant recursively, if any.</p>
<p>The purpose of these warnings is neither to prescribe an optimal layout
nor to force the use of representation clauses, but rather to get rid of
the most blatant inefficiencies in the layout. Therefore, the default
layout is matched against the following synthetic ordered layout and
the deviations are flagged on a component-by-component basis:</p>
<ul class="simple">
<li><p>first all components or groups of components whose length is fixed
and a multiple of the storage unit,</p></li>
<li><p>then the remaining components whose length is fixed and not a multiple
of the storage unit,</p></li>
<li><p>then the remaining components whose length doesn’t depend on discriminants
(that is to say, with variable but uniform length for all objects),</p></li>
<li><p>then all components whose length depends on discriminants,</p></li>
<li><p>finally the variant part (if any),</p></li>
</ul>
<p>for the nonvariant part and for each variant recursively, if any.</p>
<p>The exact wording of the warning depends on whether the compiler is allowed
to reorder the components in the record type or precluded from doing it by
means of pragma <code class="docutils literal notranslate"><span class="pre">No_Component_Reordering</span></code>.</p>
<p>The default is that these warnings are not given.</p>
</dd>
</dl>
<dl id="index-293">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.Q</span></code></dt><dd><p><em>Suppress warnings on questionable layout of record types.</em></p>
<p>This switch suppresses warnings for cases where the default layout of
a record type would very likely cause inefficiencies.</p>
</dd>
</dl>
<dl id="index-294">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwr</span></code></dt><dd><p><em>Activate warnings on redundant constructs.</em></p>
<p>This switch activates warnings for redundant constructs. The following
is the current list of constructs regarded as redundant:</p>
<ul class="simple">
<li><p>Assignment of an item to itself.</p></li>
<li><p>Type conversion that converts an expression to its own type.</p></li>
<li><p>Use of the attribute <code class="docutils literal notranslate"><span class="pre">Base</span></code> where <code class="docutils literal notranslate"><span class="pre">typ'Base</span></code> is the same
as <code class="docutils literal notranslate"><span class="pre">typ</span></code>.</p></li>
<li><p>Use of pragma <code class="docutils literal notranslate"><span class="pre">Pack</span></code> when all components are placed by a record
representation clause.</p></li>
<li><p>Exception handler containing only a reraise statement (raise with no
operand) which has no effect.</p></li>
<li><p>Use of the operator abs on an operand that is known at compile time
to be non-negative</p></li>
<li><p>Comparison of an object or (unary or binary) operation of boolean type to
an explicit True value.</p></li>
</ul>
<p>The default is that warnings for redundant constructs are not given.</p>
</dd>
</dl>
<dl id="index-295">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwR</span></code></dt><dd><p><em>Suppress warnings on redundant constructs.</em></p>
<p>This switch suppresses warnings for redundant constructs.</p>
</dd>
</dl>
<dl id="index-296">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.r</span></code></dt><dd><p><em>Activate warnings for object renaming function.</em></p>
<p>This switch activates warnings for an object renaming that renames a
function call, which is equivalent to a constant declaration (as
opposed to renaming the function itself).  The default is that these
warnings are given.</p>
</dd>
</dl>
<dl id="index-297">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.R</span></code></dt><dd><p><em>Suppress warnings for object renaming function.</em></p>
<p>This switch suppresses warnings for object renaming function.</p>
</dd>
</dl>
<dl id="index-298">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw_r</span></code></dt><dd><p><em>Activate warnings for out-of-order record representation clauses.</em></p>
<p>This switch activates warnings for record representation clauses,
if the order of component declarations, component clauses,
and bit-level layout do not all agree.
The default is that these warnings are not given.</p>
</dd>
</dl>
<dl class="simple" id="index-299">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw_R</span></code></dt><dd><p><em>Suppress warnings for out-of-order record representation clauses.</em></p>
</dd>
</dl>
<dl id="index-300">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code></dt><dd><p><em>Suppress all warnings.</em></p>
<p>This switch completely suppresses the
output of all warning messages from the GNAT front end, including
both warnings that can be controlled by switches described in this
section, and those that are normally given unconditionally. The
effect of this suppress action can only be cancelled by a subsequent
use of the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatwn</span></code>.</p>
<p>Note that switch <code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code> does not suppress
warnings from the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> back end.
To suppress these back end warnings as well, use the switch <code class="switch docutils literal notranslate"><span class="pre">-w</span></code>
in addition to <code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code>. Also this switch has no effect on the
handling of style check messages.</p>
</dd>
</dl>
<span class="target" id="index-301"></span><dl id="index-302">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.s</span></code></dt><dd><p><em>Activate warnings on overridden size clauses.</em></p>
<p>This switch activates warnings on component clauses in record
representation clauses where the length given overrides that
specified by an explicit size clause for the component type. A
warning is similarly given in the array case if a specified
component size overrides an explicit size clause for the array
component type.</p>
</dd>
</dl>
<dl id="index-303">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.S</span></code></dt><dd><p><em>Suppress warnings on overridden size clauses.</em></p>
<p>This switch suppresses warnings on component clauses in record
representation clauses that override size clauses, and similar
warnings when an array component size overrides a size clause.</p>
</dd>
</dl>
<span class="target" id="index-304"></span><span class="target" id="index-305"></span><dl id="index-306">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwt</span></code></dt><dd><p><em>Activate warnings for tracking of deleted conditional code.</em></p>
<p>This switch activates warnings for tracking of code in conditionals (IF and
CASE statements) that is detected to be dead code which cannot be executed, and
which is removed by the front end. This warning is off by default. This may be
useful for detecting deactivated code in certified applications.</p>
</dd>
</dl>
<dl id="index-307">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwT</span></code></dt><dd><p><em>Suppress warnings for tracking of deleted conditional code.</em></p>
<p>This switch suppresses warnings for tracking of deleted conditional code.</p>
</dd>
</dl>
<dl id="index-308">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.t</span></code></dt><dd><p><em>Activate warnings on suspicious contracts.</em></p>
<p>This switch activates warnings on suspicious contracts. This includes
warnings on suspicious postconditions (whether a pragma <code class="docutils literal notranslate"><span class="pre">Postcondition</span></code> or a
<code class="docutils literal notranslate"><span class="pre">Post</span></code> aspect in Ada 2012) and suspicious contract cases (pragma or aspect
<code class="docutils literal notranslate"><span class="pre">Contract_Cases</span></code>). A function postcondition or contract case is suspicious
when no postcondition or contract case for this function mentions the result
of the function.  A procedure postcondition or contract case is suspicious
when it only refers to the pre-state of the procedure, because in that case
it should rather be expressed as a precondition. This switch also controls
warnings on suspicious cases of expressions typically found in contracts like
quantified expressions and uses of Update attribute. The default is that such
warnings are generated.</p>
</dd>
</dl>
<dl id="index-309">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.T</span></code></dt><dd><p><em>Suppress warnings on suspicious contracts.</em></p>
<p>This switch suppresses warnings on suspicious contracts.</p>
</dd>
</dl>
<dl id="index-310">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwu</span></code></dt><dd><p><em>Activate warnings on unused entities.</em></p>
<p>This switch activates warnings to be generated for entities that
are declared but not referenced, and for units that are <em>with</em>ed
and not
referenced. In the case of packages, a warning is also generated if
no entities in the package are referenced. This means that if a with’ed
package is referenced but the only references are in <code class="docutils literal notranslate"><span class="pre">use</span></code>
clauses or <code class="docutils literal notranslate"><span class="pre">renames</span></code>
declarations, a warning is still generated. A warning is also generated
for a generic package that is <em>with</em>ed but never instantiated.
In the case where a package or subprogram body is compiled, and there
is a <em>with</em> on the corresponding spec
that is only referenced in the body,
a warning is also generated, noting that the
<em>with</em> can be moved to the body. The default is that
such warnings are not generated.
This switch also activates warnings on unreferenced formals
(it includes the effect of <code class="switch docutils literal notranslate"><span class="pre">-gnatwf</span></code>).</p>
</dd>
</dl>
<dl id="index-311">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwU</span></code></dt><dd><p><em>Suppress warnings on unused entities.</em></p>
<p>This switch suppresses warnings for unused entities and packages.
It also turns off warnings on unreferenced formals (and thus includes
the effect of <code class="switch docutils literal notranslate"><span class="pre">-gnatwF</span></code>).</p>
</dd>
</dl>
<dl id="index-312">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.u</span></code></dt><dd><p><em>Activate warnings on unordered enumeration types.</em></p>
<p>This switch causes enumeration types to be considered as conceptually
unordered, unless an explicit pragma <code class="docutils literal notranslate"><span class="pre">Ordered</span></code> is given for the type.
The effect is to generate warnings in clients that use explicit comparisons
or subranges, since these constructs both treat objects of the type as
ordered. (A <em>client</em> is defined as a unit that is other than the unit in
which the type is declared, or its body or subunits.) Please refer to
the description of pragma <code class="docutils literal notranslate"><span class="pre">Ordered</span></code> in the
<cite>GNAT Reference Manual</cite> for further details.
The default is that such warnings are not generated.</p>
</dd>
</dl>
<dl id="index-313">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.U</span></code></dt><dd><p><em>Deactivate warnings on unordered enumeration types.</em></p>
<p>This switch causes all enumeration types to be considered as ordered, so
that no warnings are given for comparisons or subranges for any type.</p>
</dd>
</dl>
<span class="target" id="index-314"></span><dl id="index-315">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwv</span></code></dt><dd><p><em>Activate warnings on unassigned variables.</em></p>
<p>This switch activates warnings for access to variables which
may not be properly initialized. The default is that
such warnings are generated. This switch will also be emitted when
initializing an array or record object via the following aggregate:</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="n">Array_Or_Record</span> <span class="o">:</span> <span class="n">XXX</span> <span class="o">:=</span> <span class="o">(</span><span class="kr">others</span><span class="p"> </span><span class="o">=&gt;</span> <span class="o">&lt;&gt;)</span><span class="p">;</span>
</pre></div>
</div>
<p>unless the relevant type fully initializes all components.</p>
</dd>
</dl>
<dl id="index-316">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwV</span></code></dt><dd><p><em>Suppress warnings on unassigned variables.</em></p>
<p>This switch suppresses warnings for access to variables which
may not be properly initialized.</p>
</dd>
</dl>
<span class="target" id="index-317"></span><dl id="index-318">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.v</span></code></dt><dd><p><em>Activate info messages for non-default bit order.</em></p>
<p>This switch activates messages (labeled “info”, they are not warnings,
just informational messages) about the effects of non-default bit-order
on records to which a component clause is applied. The effect of specifying
non-default bit ordering is a bit subtle (and changed with Ada 2005), so
these messages, which are given by default, are useful in understanding the
exact consequences of using this feature.</p>
</dd>
</dl>
<dl id="index-319">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.V</span></code></dt><dd><p><em>Suppress info messages for non-default bit order.</em></p>
<p>This switch suppresses information messages for the effects of specifying
non-default bit order on record components with component clauses.</p>
</dd>
</dl>
<span class="target" id="index-320"></span><dl id="index-321">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatww</span></code></dt><dd><p><em>Activate warnings on wrong low bound assumption.</em></p>
<p>This switch activates warnings for indexing an unconstrained string parameter
with a literal or S’Length. This is a case where the code is assuming that the
low bound is one, which is in general not true (for example when a slice is
passed). The default is that such warnings are generated.</p>
</dd>
</dl>
<dl id="index-322">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwW</span></code></dt><dd><p><em>Suppress warnings on wrong low bound assumption.</em></p>
<p>This switch suppresses warnings for indexing an unconstrained string parameter
with a literal or S’Length. Note that this warning can also be suppressed
in a particular case by adding an assertion that the lower bound is 1,
as shown in the following example:</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="k">procedure </span><span class="nf">K</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">String</span><span class="o">)</span> <span class="kr">is</span><span class="p"></span>
   <span class="kr">pragma</span><span class="p"> </span><span class="n">Assert</span> <span class="o">(</span><span class="n">S</span><span class="na">&#39;First</span> <span class="o">=</span> <span class="mi">1</span><span class="o">)</span><span class="p">;</span>
   <span class="o">...</span>
</pre></div>
</div>
</dd>
</dl>
<span class="target" id="index-323"></span><dl id="index-324">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.w</span></code></dt><dd><p><em>Activate warnings on Warnings Off pragmas.</em></p>
<p>This switch activates warnings for use of <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Warnings</span> <span class="pre">(Off,</span> <span class="pre">entity)</span></code>
where either the pragma is entirely useless (because it suppresses no
warnings), or it could be replaced by <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Unreferenced</span></code> or
<code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Unmodified</span></code>.
Also activates warnings for the case of
Warnings (Off, String), where either there is no matching
Warnings (On, String), or the Warnings (Off) did not suppress any warning.
The default is that these warnings are not given.</p>
</dd>
</dl>
<dl id="index-325">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.W</span></code></dt><dd><p><em>Suppress warnings on unnecessary Warnings Off pragmas.</em></p>
<p>This switch suppresses warnings for use of <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Warnings</span> <span class="pre">(Off,</span> <span class="pre">...)</span></code>.</p>
</dd>
</dl>
<span class="target" id="index-326"></span><dl id="index-327">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwx</span></code></dt><dd><p><em>Activate warnings on Export/Import pragmas.</em></p>
<p>This switch activates warnings on Export/Import pragmas when
the compiler detects a possible conflict between the Ada and
foreign language calling sequences. For example, the use of
default parameters in a convention C procedure is dubious
because the C compiler cannot supply the proper default, so
a warning is issued. The default is that such warnings are
generated.</p>
</dd>
</dl>
<dl id="index-328">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwX</span></code></dt><dd><p><em>Suppress warnings on Export/Import pragmas.</em></p>
<p>This switch suppresses warnings on Export/Import pragmas.
The sense of this is that you are telling the compiler that
you know what you are doing in writing the pragma, and it
should not complain at you.</p>
</dd>
</dl>
<dl id="index-329">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.x</span></code></dt><dd><p><em>Activate warnings for No_Exception_Propagation mode.</em></p>
<p>This switch activates warnings for exception usage when pragma Restrictions
(No_Exception_Propagation) is in effect. Warnings are given for implicit or
explicit exception raises which are not covered by a local handler, and for
exception handlers which do not cover a local raise. The default is that
these warnings are given for units that contain exception handlers.</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.X</span></code></dt><dd><p><em>Disable warnings for No_Exception_Propagation mode.</em></p>
<p>This switch disables warnings for exception usage when pragma Restrictions
(No_Exception_Propagation) is in effect.</p>
</dd>
</dl>
<span class="target" id="index-330"></span><dl id="index-331">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwy</span></code></dt><dd><p><em>Activate warnings for Ada compatibility issues.</em></p>
<p>For the most part, newer versions of Ada are upwards compatible
with older versions. For example, Ada 2005 programs will almost
always work when compiled as Ada 2012.
However there are some exceptions (for example the fact that
<code class="docutils literal notranslate"><span class="pre">some</span></code> is now a reserved word in Ada 2012). This
switch activates several warnings to help in identifying
and correcting such incompatibilities. The default is that
these warnings are generated. Note that at one point Ada 2005
was called Ada 0Y, hence the choice of character.</p>
</dd>
</dl>
<span class="target" id="index-332"></span><dl id="index-333">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwY</span></code></dt><dd><p><em>Disable warnings for Ada compatibility issues.</em></p>
<p>This switch suppresses the warnings intended to help in identifying
incompatibilities between Ada language versions.</p>
</dd>
</dl>
<span class="target" id="index-334"></span><dl id="index-335">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.y</span></code></dt><dd><p><em>Activate information messages for why package spec needs body.</em></p>
<p>There are a number of cases in which a package spec needs a body.
For example, the use of pragma Elaborate_Body, or the declaration
of a procedure specification requiring a completion. This switch
causes information messages to be output showing why a package
specification requires a body. This can be useful in the case of
a large package specification which is unexpectedly requiring a
body. The default is that such information messages are not output.</p>
</dd>
</dl>
<span class="target" id="index-336"></span><dl id="index-337">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.Y</span></code></dt><dd><p><em>Disable information messages for why package spec needs body.</em></p>
<p>This switch suppresses the output of information messages showing why
a package specification needs a body.</p>
</dd>
</dl>
<span class="target" id="index-338"></span><dl id="index-339">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwz</span></code></dt><dd><p><em>Activate warnings on unchecked conversions.</em></p>
<p>This switch activates warnings for unchecked conversions
where the types are known at compile time to have different
sizes. The default is that such warnings are generated. Warnings are also
generated for subprogram pointers with different conventions.</p>
</dd>
</dl>
<dl id="index-340">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatwZ</span></code></dt><dd><p><em>Suppress warnings on unchecked conversions.</em></p>
<p>This switch suppresses warnings for unchecked conversions
where the types are known at compile time to have different
sizes or conventions.</p>
</dd>
</dl>
<span class="target" id="index-341"></span><dl id="index-342">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.z</span></code></dt><dd><p><em>Activate warnings for size not a multiple of alignment.</em></p>
<p>This switch activates warnings for cases of array and record types
with specified <code class="docutils literal notranslate"><span class="pre">Size</span></code> and <code class="docutils literal notranslate"><span class="pre">Alignment</span></code> attributes where the
size is not a multiple of the alignment, resulting in an object
size that is greater than the specified size. The default
is that such warnings are generated.</p>
</dd>
</dl>
<span class="target" id="index-343"></span><dl id="index-344">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatw.Z</span></code></dt><dd><p><em>Suppress warnings for size not a multiple of alignment.</em></p>
<p>This switch suppresses warnings for cases of array and record types
with specified <code class="docutils literal notranslate"><span class="pre">Size</span></code> and <code class="docutils literal notranslate"><span class="pre">Alignment</span></code> attributes where the
size is not a multiple of the alignment, resulting in an object
size that is greater than the specified size. The warning can also
be suppressed by giving an explicit <code class="docutils literal notranslate"><span class="pre">Object_Size</span></code> value.</p>
</dd>
</dl>
<dl class="simple" id="index-345">
<dt><code class="switch docutils literal notranslate"><span class="pre">-Wunused</span></code></dt><dd><p>The warnings controlled by the <code class="switch docutils literal notranslate"><span class="pre">-gnatw</span></code> switch are generated by
the front end of the compiler. The GCC back end can provide
additional warnings and they are controlled by the <code class="switch docutils literal notranslate"><span class="pre">-W</span></code> switch.
For example, <code class="switch docutils literal notranslate"><span class="pre">-Wunused</span></code> activates back end
warnings for entities that are declared but not referenced.</p>
</dd>
</dl>
<dl class="simple" id="index-346">
<dt><code class="switch docutils literal notranslate"><span class="pre">-Wuninitialized</span></code></dt><dd><p>Similarly, <code class="switch docutils literal notranslate"><span class="pre">-Wuninitialized</span></code> activates
the back end warning for uninitialized variables. This switch must be
used in conjunction with an optimization level greater than zero.</p>
</dd>
</dl>
<dl class="simple" id="index-347">
<dt><code class="switch docutils literal notranslate"><span class="pre">-Wstack-usage=</span><em><span class="pre">len</span></em></code></dt><dd><p>Warn if the stack usage of a subprogram might be larger than <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes.
See <a class="reference internal" href="gnat_and_program_execution.html#static-stack-usage-analysis"><span class="std std-ref">Static Stack Usage Analysis</span></a> for details.</p>
</dd>
</dl>
<dl class="simple" id="index-348">
<dt><code class="switch docutils literal notranslate"><span class="pre">-Wall</span></code></dt><dd><p>This switch enables most warnings from the GCC back end.
The code generator detects a number of warning situations that are missed
by the GNAT front end, and this switch can be used to activate them.
The use of this switch also sets the default front end warning mode to
<code class="switch docutils literal notranslate"><span class="pre">-gnatwa</span></code>, that is, most front end warnings activated as well.</p>
</dd>
</dl>
<dl class="simple" id="index-349">
<dt><code class="switch docutils literal notranslate"><span class="pre">-w</span></code></dt><dd><p>Conversely, this switch suppresses warnings from the GCC back end.
The use of this switch also sets the default front end warning mode to
<code class="switch docutils literal notranslate"><span class="pre">-gnatws</span></code>, that is, front end warnings suppressed as well.</p>
</dd>
</dl>
<dl class="simple" id="index-350">
<dt><code class="switch docutils literal notranslate"><span class="pre">-Werror</span></code></dt><dd><p>This switch causes warnings from the GCC back end to be treated as
errors.  The warning string still appears, but the warning messages are
counted as errors, and prevent the generation of an object file.</p>
</dd>
</dl>
<p>A string of warning parameters can be used in the same parameter. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">gnatwaGe</span>
</pre></div>
</div>
<p>will turn on all optional warnings except for unrecognized pragma warnings,
and also specify that warnings should be treated as errors.</p>
<p>When no switch <code class="switch docutils literal notranslate"><span class="pre">-gnatw</span></code> is used, this is equivalent to:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.a</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwB</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.b</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwC</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.C</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwD</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.D</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwF</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.F</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwg</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwH</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.H</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwi</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwJ</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.J</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwK</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.K</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwL</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.L</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwM</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.m</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwn</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.N</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwo</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.O</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwP</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.P</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwq</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.Q</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwR</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.R</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.S</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwT</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.t</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwU</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.U</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwv</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.v</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatww</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.W</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwx</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.X</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwy</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.Y</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatwz</span></code></p></li>
<li><p><code class="switch docutils literal notranslate"><span class="pre">-gnatw.z</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="debugging-and-assertion-control">
<span id="id16"></span><h3><span class="section-number">4.3.4. </span>Debugging and Assertion Control<a class="headerlink" href="#debugging-and-assertion-control" title="Permalink to this headline">¶</a></h3>
<dl id="index-351">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnata</span></code></dt><dd><span class="target" id="index-352"></span><span class="target" id="index-353"></span><span class="target" id="index-354"></span><span class="target" id="index-355"></span><span class="target" id="index-356"></span><span class="target" id="index-357"></span><p id="index-358">The <code class="switch docutils literal notranslate"><span class="pre">-gnata</span></code> option is equivalent to the following <code class="docutils literal notranslate"><span class="pre">Assertion_Policy</span></code> pragma:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pragma</span> <span class="n">Assertion_Policy</span> <span class="p">(</span><span class="n">Check</span><span class="p">);</span>
</pre></div>
</div>
<p>Which is a shorthand for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pragma</span> <span class="n">Assertion_Policy</span>
  <span class="p">(</span><span class="n">Assert</span>               <span class="o">=&gt;</span> <span class="n">Check</span><span class="p">,</span>
   <span class="n">Static_Predicate</span>     <span class="o">=&gt;</span> <span class="n">Check</span><span class="p">,</span>
   <span class="n">Dynamic_Predicate</span>    <span class="o">=&gt;</span> <span class="n">Check</span><span class="p">,</span>
   <span class="n">Pre</span>                  <span class="o">=&gt;</span> <span class="n">Check</span><span class="p">,</span>
   <span class="n">Pre</span><span class="s1">&#39;Class            =&gt; Check,</span>
   <span class="n">Post</span>                 <span class="o">=&gt;</span> <span class="n">Check</span><span class="p">,</span>
   <span class="n">Post</span><span class="s1">&#39;Class           =&gt; Check,</span>
   <span class="n">Type_Invariant</span>       <span class="o">=&gt;</span> <span class="n">Check</span><span class="p">,</span>
   <span class="n">Type_Invariant</span><span class="s1">&#39;Class =&gt; Check);</span>
</pre></div>
</div>
<p>The pragmas <code class="docutils literal notranslate"><span class="pre">Assert</span></code> and <code class="docutils literal notranslate"><span class="pre">Debug</span></code> normally have no effect and
are ignored. This switch, where <code class="docutils literal notranslate"><span class="pre">a</span></code> stands for ‘assert’, causes
pragmas <code class="docutils literal notranslate"><span class="pre">Assert</span></code> and <code class="docutils literal notranslate"><span class="pre">Debug</span></code> to be activated. This switch also
causes preconditions, postconditions, subtype predicates, and
type invariants to be activated.</p>
<p>The pragmas have the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pragma</span> <span class="n">Assert</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">static</span><span class="o">-</span><span class="n">string</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">])</span>
<span class="n">pragma</span> <span class="n">Debug</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">procedure</span> <span class="n">call</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">pragma</span> <span class="n">Type_Invariant</span> <span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">-</span><span class="n">local</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Boolean</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">pragma</span> <span class="n">Predicate</span> <span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">-</span><span class="n">local</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Boolean</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">pragma</span> <span class="n">Precondition</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">pragma</span> <span class="n">Postcondition</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>The aspects have the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="p">[</span><span class="n">Pre</span><span class="o">|</span><span class="n">Post</span><span class="o">|</span><span class="n">Type_Invariant</span><span class="o">|</span><span class="n">Dynamic_Predicate</span><span class="o">|</span><span class="n">Static_Predicate</span><span class="p">]</span>
  <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">Boolean</span><span class="o">-</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Assert</span></code> pragma causes <code class="docutils literal notranslate"><span class="pre">Boolean-expression</span></code> to be tested.
If the result is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the pragma has no effect (other than
possible side effects from evaluating the expression). If the result is
<code class="docutils literal notranslate"><span class="pre">False</span></code>, the exception <code class="docutils literal notranslate"><span class="pre">Assert_Failure</span></code> declared in the package
<code class="docutils literal notranslate"><span class="pre">System.Assertions</span></code> is raised (passing <code class="docutils literal notranslate"><span class="pre">static-string-expression</span></code>, if
present, as the message associated with the exception). If no string
expression is given, the default is a string containing the file name and
line number of the pragma.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Debug</span></code> pragma causes <code class="docutils literal notranslate"><span class="pre">procedure</span></code> to be called. Note that
<code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Debug</span></code> may appear within a declaration sequence, allowing
debugging procedures to be called between declarations.</p>
<p>For the aspect specification, the <code class="docutils literal notranslate"><span class="pre">Boolean-expression</span></code> is evaluated.
If the result is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the aspect has no effect. If the result
is <code class="docutils literal notranslate"><span class="pre">False</span></code>, the exception <code class="docutils literal notranslate"><span class="pre">Assert_Failure</span></code> is raised.</p>
</dd>
</dl>
</div>
<div class="section" id="validity-checking">
<span id="id17"></span><h3><span class="section-number">4.3.5. </span>Validity Checking<a class="headerlink" href="#validity-checking" title="Permalink to this headline">¶</a></h3>
<p id="index-359">The Ada Reference Manual defines the concept of invalid values (see
RM 13.9.1). The primary source of invalid values is uninitialized
variables. A scalar variable that is left uninitialized may contain
an invalid value; the concept of invalid does not apply to access or
composite types.</p>
<p>It is an error to read an invalid value, but the RM does not require
run-time checks to detect such errors, except for some minimal
checking to prevent erroneous execution (i.e. unpredictable
behavior). This corresponds to the <code class="switch docutils literal notranslate"><span class="pre">-gnatVd</span></code> switch below,
which is the default. For example, by default, if the expression of a
case statement is invalid, it will raise Constraint_Error rather than
causing a wild jump, and if an array index on the left-hand side of an
assignment is invalid, it will raise Constraint_Error rather than
overwriting an arbitrary memory location.</p>
<p>The <code class="switch docutils literal notranslate"><span class="pre">-gnatVa</span></code> may be used to enable additional validity checks,
which are not required by the RM. These checks are often very
expensive (which is why the RM does not require them). These checks
are useful in tracking down uninitialized variables, but they are
not usually recommended for production builds, and in particular
we do not recommend using these extra validity checking options in
combination with optimization, since this can confuse the optimizer.
If performance is a consideration, leading to the need to optimize,
then the validity checking options should not be used.</p>
<p>The other <code class="switch docutils literal notranslate"><span class="pre">-gnatV</span><em><span class="pre">x</span></em></code> switches below allow finer-grained
control; you can enable whichever validity checks you desire. However,
for most debugging purposes, <code class="switch docutils literal notranslate"><span class="pre">-gnatVa</span></code> is sufficient, and the
default <code class="switch docutils literal notranslate"><span class="pre">-gnatVd</span></code> (i.e. standard Ada behavior) is usually
sufficient for non-debugging use.</p>
<p>The <code class="switch docutils literal notranslate"><span class="pre">-gnatB</span></code> switch tells the compiler to assume that all
values are valid (that is, within their declared subtype range)
except in the context of a use of the Valid attribute. This means
the compiler can generate more efficient code, since the range
of values is better known at compile time. However, an uninitialized
variable can cause wild jumps and memory corruption in this mode.</p>
<p>The <code class="switch docutils literal notranslate"><span class="pre">-gnatV</span><em><span class="pre">x</span></em></code> switch allows control over the validity
checking mode as described below.
The <code class="docutils literal notranslate"><span class="pre">x</span></code> argument is a string of letters that
indicate validity checks that are performed or not performed in addition
to the default checks required by Ada as described above.</p>
<dl id="index-360">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVa</span></code></dt><dd><p><em>All validity checks.</em></p>
<p>All validity checks are turned on.
That is, <code class="switch docutils literal notranslate"><span class="pre">-gnatVa</span></code> is
equivalent to <code class="docutils literal notranslate"><span class="pre">gnatVcdfimoprst</span></code>.</p>
</dd>
</dl>
<dl id="index-361">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVc</span></code></dt><dd><p><em>Validity checks for copies.</em></p>
<p>The right hand side of assignments, and the initializing values of
object declarations are validity checked.</p>
</dd>
</dl>
<dl id="index-362">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVd</span></code></dt><dd><p><em>Default (RM) validity checks.</em></p>
<p>Some validity checks are done by default following normal Ada semantics
(RM 13.9.1 (9-11)).
A check is done in case statements that the expression is within the range
of the subtype. If it is not, Constraint_Error is raised.
For assignments to array components, a check is done that the expression used
as index is within the range. If it is not, Constraint_Error is raised.
Both these validity checks may be turned off using switch <code class="switch docutils literal notranslate"><span class="pre">-gnatVD</span></code>.
They are turned on by default. If <code class="switch docutils literal notranslate"><span class="pre">-gnatVD</span></code> is specified, a subsequent
switch <code class="switch docutils literal notranslate"><span class="pre">-gnatVd</span></code> will leave the checks turned on.
Switch <code class="switch docutils literal notranslate"><span class="pre">-gnatVD</span></code> should be used only if you are sure that all such
expressions have valid values. If you use this switch and invalid values
are present, then the program is erroneous, and wild jumps or memory
overwriting may occur.</p>
</dd>
</dl>
<dl id="index-363">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVe</span></code></dt><dd><p><em>Validity checks for elementary components.</em></p>
<p>In the absence of this switch, assignments to record or array components are
not validity checked, even if validity checks for assignments generally
(<code class="switch docutils literal notranslate"><span class="pre">-gnatVc</span></code>) are turned on. In Ada, assignment of composite values do not
require valid data, but assignment of individual components does. So for
example, there is a difference between copying the elements of an array with a
slice assignment, compared to assigning element by element in a loop. This
switch allows you to turn off validity checking for components, even when they
are assigned component by component.</p>
</dd>
</dl>
<dl id="index-364">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVf</span></code></dt><dd><p><em>Validity checks for floating-point values.</em></p>
<p>In the absence of this switch, validity checking occurs only for discrete
values. If <code class="switch docutils literal notranslate"><span class="pre">-gnatVf</span></code> is specified, then validity checking also applies
for floating-point values, and NaNs and infinities are considered invalid,
as well as out of range values for constrained types. Note that this means
that standard IEEE infinity mode is not allowed. The exact contexts
in which floating-point values are checked depends on the setting of other
options. For example, <code class="switch docutils literal notranslate"><span class="pre">-gnatVif</span></code> or <code class="switch docutils literal notranslate"><span class="pre">-gnatVfi</span></code>
(the order does not matter) specifies that floating-point parameters of mode
<code class="docutils literal notranslate"><span class="pre">in</span></code> should be validity checked.</p>
</dd>
</dl>
<dl id="index-365">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVi</span></code></dt><dd><p><em>Validity checks for ``in`` mode parameters.</em></p>
<p>Arguments for parameters of mode <code class="docutils literal notranslate"><span class="pre">in</span></code> are validity checked in function
and procedure calls at the point of call.</p>
</dd>
</dl>
<dl id="index-366">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVm</span></code></dt><dd><p><em>Validity checks for ``in out`` mode parameters.</em></p>
<p>Arguments for parameters of mode <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">out</span></code> are validity checked in
procedure calls at the point of call. The <code class="docutils literal notranslate"><span class="pre">'m'</span></code> here stands for
modify, since this concerns parameters that can be modified by the call.
Note that there is no specific option to test <code class="docutils literal notranslate"><span class="pre">out</span></code> parameters,
but any reference within the subprogram will be tested in the usual
manner, and if an invalid value is copied back, any reference to it
will be subject to validity checking.</p>
</dd>
</dl>
<dl id="index-367">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVn</span></code></dt><dd><p><em>No validity checks.</em></p>
<p>This switch turns off all validity checking, including the default checking
for case statements and left hand side subscripts. Note that the use of
the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatp</span></code> suppresses all run-time checks, including
validity checks, and thus implies <code class="switch docutils literal notranslate"><span class="pre">-gnatVn</span></code>. When this switch
is used, it cancels any other <code class="switch docutils literal notranslate"><span class="pre">-gnatV</span></code> previously issued.</p>
</dd>
</dl>
<dl id="index-368">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVo</span></code></dt><dd><p><em>Validity checks for operator and attribute operands.</em></p>
<p>Arguments for predefined operators and attributes are validity checked.
This includes all operators in package <code class="docutils literal notranslate"><span class="pre">Standard</span></code>,
the shift operators defined as intrinsic in package <code class="docutils literal notranslate"><span class="pre">Interfaces</span></code>
and operands for attributes such as <code class="docutils literal notranslate"><span class="pre">Pos</span></code>. Checks are also made
on individual component values for composite comparisons, and on the
expressions in type conversions and qualified expressions. Checks are
also made on explicit ranges using <code class="samp docutils literal notranslate"><span class="pre">..</span></code> (e.g., slices, loops etc).</p>
</dd>
</dl>
<dl id="index-369">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVp</span></code></dt><dd><p><em>Validity checks for parameters.</em></p>
<p>This controls the treatment of parameters within a subprogram (as opposed
to <code class="switch docutils literal notranslate"><span class="pre">-gnatVi</span></code> and <code class="switch docutils literal notranslate"><span class="pre">-gnatVm</span></code> which control validity testing
of parameters on a call. If either of these call options is used, then
normally an assumption is made within a subprogram that the input arguments
have been validity checking at the point of call, and do not need checking
again within a subprogram). If <code class="switch docutils literal notranslate"><span class="pre">-gnatVp</span></code> is set, then this assumption
is not made, and parameters are not assumed to be valid, so their validity
will be checked (or rechecked) within the subprogram.</p>
</dd>
</dl>
<dl id="index-370">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVr</span></code></dt><dd><p><em>Validity checks for function returns.</em></p>
<p>The expression in <code class="docutils literal notranslate"><span class="pre">return</span></code> statements in functions is validity
checked.</p>
</dd>
</dl>
<dl id="index-371">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVs</span></code></dt><dd><p><em>Validity checks for subscripts.</em></p>
<p>All subscripts expressions are checked for validity, whether they appear
on the right side or left side (in default mode only left side subscripts
are validity checked).</p>
</dd>
</dl>
<dl id="index-372">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatVt</span></code></dt><dd><p><em>Validity checks for tests.</em></p>
<p>Expressions used as conditions in <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code> or <code class="docutils literal notranslate"><span class="pre">exit</span></code>
statements are checked, as well as guard expressions in entry calls.</p>
</dd>
</dl>
<p>The <code class="switch docutils literal notranslate"><span class="pre">-gnatV</span></code> switch may be followed by a string of letters
to turn on a series of validity checking options.
For example, <code class="switch docutils literal notranslate"><span class="pre">-gnatVcr</span></code>
specifies that in addition to the default validity checking, copies and
function return expressions are to be validity checked.
In order to make it easier to specify the desired combination of effects,
the upper case letters <code class="docutils literal notranslate"><span class="pre">CDFIMORST</span></code> may
be used to turn off the corresponding lower case option.
Thus <code class="switch docutils literal notranslate"><span class="pre">-gnatVaM</span></code> turns on all validity checking options except for
checking of <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">out</span></code> parameters.</p>
<p>The specification of additional validity checking generates extra code (and
in the case of <code class="switch docutils literal notranslate"><span class="pre">-gnatVa</span></code> the code expansion can be substantial).
However, these additional checks can be very useful in detecting
uninitialized variables, incorrect use of unchecked conversion, and other
errors leading to invalid values. The use of pragma <code class="docutils literal notranslate"><span class="pre">Initialize_Scalars</span></code>
is useful in conjunction with the extra validity checking, since this
ensures that wherever possible uninitialized variables have invalid values.</p>
<p>See also the pragma <code class="docutils literal notranslate"><span class="pre">Validity_Checks</span></code> which allows modification of
the validity checking mode at the program source level, and also allows for
temporary disabling of validity checks.</p>
</div>
<div class="section" id="style-checking">
<span id="id18"></span><h3><span class="section-number">4.3.6. </span>Style Checking<a class="headerlink" href="#style-checking" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-373"></span><p id="index-374">The <code class="switch docutils literal notranslate"><span class="pre">-gnatyx</span></code> switch causes the compiler to
enforce specified style rules. A limited set of style rules has been used
in writing the GNAT sources themselves. This switch allows user programs
to activate all or some of these checks. If the source program fails a
specified style check, an appropriate message is given, preceded by
the character sequence ‘(style)’. This message does not prevent
successful compilation (unless the <code class="switch docutils literal notranslate"><span class="pre">-gnatwe</span></code> switch is used).</p>
<p>Note that this is by no means intended to be a general facility for
checking arbitrary coding standards. It is simply an embedding of the
style rules we have chosen for the GNAT sources. If you are starting
a project which does not have established style standards, you may
find it useful to adopt the entire set of GNAT coding standards, or
some subset of them.</p>
<p>If you already have an established set of coding
standards, then the selected style checking options may
indeed correspond to choices you have made, but for general checking
of an existing set of coding rules, you should look to the gnatcheck
tool, which is designed for that purpose.</p>
<p>The string <code class="docutils literal notranslate"><span class="pre">x</span></code> is a sequence of letters or digits
indicating the particular style
checks to be performed. The following checks are defined:</p>
<dl id="index-375">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnaty0</span></code></dt><dd><p><em>Specify indentation level.</em></p>
<p>If a digit from 1-9 appears
in the string after <code class="switch docutils literal notranslate"><span class="pre">-gnaty</span></code>
then proper indentation is checked, with the digit indicating the
indentation level required. A value of zero turns off this style check.
The rule checks that the following constructs start on a column that is
a multiple of the alignment level:</p>
<ul class="simple">
<li><p>beginnings of declarations (except record component declarations)
and statements;</p></li>
<li><p>beginnings of the structural components of compound statements;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end</span></code> keyword that completes the declaration of a program unit declaration
or body or that completes a compound statement.</p></li>
</ul>
<p>Full line comments must be
aligned with the <code class="docutils literal notranslate"><span class="pre">--</span></code> starting on a column that is a multiple of
the alignment level, or they may be aligned the same way as the following
non-blank line (this is useful when full line comments appear in the middle
of a statement, or they may be aligned with the source line on the previous
non-blank line.</p>
</dd>
</dl>
<dl id="index-376">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatya</span></code></dt><dd><p><em>Check attribute casing.</em></p>
<p>Attribute names, including the case of keywords such as <code class="docutils literal notranslate"><span class="pre">digits</span></code>
used as attributes names, must be written in mixed case, that is, the
initial letter and any letter following an underscore must be uppercase.
All other letters must be lowercase.</p>
</dd>
</dl>
<dl id="index-377">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyA</span></code></dt><dd><p><em>Use of array index numbers in array attributes.</em></p>
<p>When using the array attributes First, Last, Range,
or Length, the index number must be omitted for one-dimensional arrays
and is required for multi-dimensional arrays.</p>
</dd>
</dl>
<dl id="index-378">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyb</span></code></dt><dd><p><em>Blanks not allowed at statement end.</em></p>
<p>Trailing blanks are not allowed at the end of statements. The purpose of this
rule, together with h (no horizontal tabs), is to enforce a canonical format
for the use of blanks to separate source tokens.</p>
</dd>
</dl>
<dl id="index-379">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyB</span></code></dt><dd><p><em>Check Boolean operators.</em></p>
<p>The use of AND/OR operators is not permitted except in the cases of modular
operands, array operands, and simple stand-alone boolean variables or
boolean constants. In all other cases <code class="docutils literal notranslate"><span class="pre">and</span> <span class="pre">then</span></code>/<cite>or else</cite> are
required.</p>
</dd>
</dl>
<dl id="index-380">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyc</span></code></dt><dd><p><em>Check comments, double space.</em></p>
<p>Comments must meet the following set of rules:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--</span></code> that starts the column must either start in column one,
or else at least one blank must precede this sequence.</p></li>
<li><p>Comments that follow other tokens on a line must have at least one blank
following the <code class="docutils literal notranslate"><span class="pre">--</span></code> at the start of the comment.</p></li>
<li><p>Full line comments must have at least two blanks following the
<code class="docutils literal notranslate"><span class="pre">--</span></code> that starts the comment, with the following exceptions.</p></li>
<li><p>A line consisting only of the <code class="docutils literal notranslate"><span class="pre">--</span></code> characters, possibly preceded
by blanks is permitted.</p></li>
<li><p>A comment starting with <code class="docutils literal notranslate"><span class="pre">--x</span></code> where <code class="docutils literal notranslate"><span class="pre">x</span></code> is a special character
is permitted.
This allows proper processing of the output from specialized tools
such as <code class="docutils literal notranslate"><span class="pre">gnatprep</span></code> (where <code class="docutils literal notranslate"><span class="pre">--!</span></code> is used) and in earlier versions of the SPARK
annotation
language (where <code class="docutils literal notranslate"><span class="pre">--#</span></code> is used). For the purposes of this rule, a
special character is defined as being in one of the ASCII ranges
<code class="docutils literal notranslate"><span class="pre">16#21#...16#2F#</span></code> or <code class="docutils literal notranslate"><span class="pre">16#3A#...16#3F#</span></code>.
Note that this usage is not permitted
in GNAT implementation units (i.e., when <code class="switch docutils literal notranslate"><span class="pre">-gnatg</span></code> is used).</p></li>
<li><p>A line consisting entirely of minus signs, possibly preceded by blanks, is
permitted. This allows the construction of box comments where lines of minus
signs are used to form the top and bottom of the box.</p></li>
<li><p>A comment that starts and ends with <code class="docutils literal notranslate"><span class="pre">--</span></code> is permitted as long as at
least one blank follows the initial <code class="docutils literal notranslate"><span class="pre">--</span></code>. Together with the preceding
rule, this allows the construction of box comments, as shown in the following
example:</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="c">---------------------------</span>
<span class="c">-- This is a box comment --</span>
<span class="c">-- with two text lines.  --</span>
<span class="c">---------------------------</span>
</pre></div>
</div>
</li>
</ul>
</dd>
</dl>
<dl id="index-381">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyC</span></code></dt><dd><p><em>Check comments, single space.</em></p>
<p>This is identical to <code class="docutils literal notranslate"><span class="pre">c</span></code> except that only one space
is required following the <code class="docutils literal notranslate"><span class="pre">--</span></code> of a comment instead of two.</p>
</dd>
</dl>
<dl id="index-382">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyd</span></code></dt><dd><p><em>Check no DOS line terminators present.</em></p>
<p>All lines must be terminated by a single ASCII.LF
character (in particular the DOS line terminator sequence CR/LF is not
allowed).</p>
</dd>
</dl>
<dl id="index-383">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyD</span></code></dt><dd><p><em>Check declared identifiers in mixed case.</em></p>
<p>Declared identifiers must be in mixed case, as in
This_Is_An_Identifier. Use -gnatyr in addition to ensure
that references match declarations.</p>
</dd>
</dl>
<dl id="index-384">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatye</span></code></dt><dd><p><em>Check end/exit labels.</em></p>
<p>Optional labels on <code class="docutils literal notranslate"><span class="pre">end</span></code> statements ending subprograms and on
<code class="docutils literal notranslate"><span class="pre">exit</span></code> statements exiting named loops, are required to be present.</p>
</dd>
</dl>
<dl id="index-385">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyf</span></code></dt><dd><p><em>No form feeds or vertical tabs.</em></p>
<p>Neither form feeds nor vertical tab characters are permitted
in the source text.</p>
</dd>
</dl>
<dl id="index-386">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyg</span></code></dt><dd><p><em>GNAT style mode.</em></p>
<p>The set of style check switches is set to match that used by the GNAT sources.
This may be useful when developing code that is eventually intended to be
incorporated into GNAT. Currently this is equivalent to <code class="switch docutils literal notranslate"><span class="pre">-gnatyydISux</span></code>)
but additional style switches may be added to this set in the future without
advance notice.</p>
</dd>
</dl>
<dl id="index-387">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyh</span></code></dt><dd><p><em>No horizontal tabs.</em></p>
<p>Horizontal tab characters are not permitted in the source text.
Together with the b (no blanks at end of line) check, this
enforces a canonical form for the use of blanks to separate
source tokens.</p>
</dd>
</dl>
<dl id="index-388">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyi</span></code></dt><dd><p><em>Check if-then layout.</em></p>
<p>The keyword <code class="docutils literal notranslate"><span class="pre">then</span></code> must appear either on the same
line as corresponding <code class="docutils literal notranslate"><span class="pre">if</span></code>, or on a line on its own, lined
up under the <code class="docutils literal notranslate"><span class="pre">if</span></code>.</p>
</dd>
</dl>
<dl id="index-389">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyI</span></code></dt><dd><p><em>check mode IN keywords.</em></p>
<p>Mode <code class="docutils literal notranslate"><span class="pre">in</span></code> (the default mode) is not
allowed to be given explicitly. <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">out</span></code> is fine,
but not <code class="docutils literal notranslate"><span class="pre">in</span></code> on its own.</p>
</dd>
</dl>
<dl id="index-390">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyk</span></code></dt><dd><p><em>Check keyword casing.</em></p>
<p>All keywords must be in lower case (with the exception of keywords
such as <code class="docutils literal notranslate"><span class="pre">digits</span></code> used as attribute names to which this check
does not apply). A single error is reported for each line breaking
this rule even if multiple casing issues exist on a same line.</p>
</dd>
</dl>
<dl id="index-391">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyl</span></code></dt><dd><p><em>Check layout.</em></p>
<p>Layout of statement and declaration constructs must follow the
recommendations in the Ada Reference Manual, as indicated by the
form of the syntax rules. For example an <code class="docutils literal notranslate"><span class="pre">else</span></code> keyword must
be lined up with the corresponding <code class="docutils literal notranslate"><span class="pre">if</span></code> keyword.</p>
<p>There are two respects in which the style rule enforced by this check
option are more liberal than those in the Ada Reference Manual. First
in the case of record declarations, it is permissible to put the
<code class="docutils literal notranslate"><span class="pre">record</span></code> keyword on the same line as the <code class="docutils literal notranslate"><span class="pre">type</span></code> keyword, and
then the <code class="docutils literal notranslate"><span class="pre">end</span></code> in <code class="docutils literal notranslate"><span class="pre">end</span> <span class="pre">record</span></code> must line up under <code class="docutils literal notranslate"><span class="pre">type</span></code>.
This is also permitted when the type declaration is split on two lines.
For example, any of the following three layouts is acceptable:</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="kr">type</span><span class="p"> </span><span class="n">q</span> <span class="kr">is</span><span class="p"> </span><span class="kr">record</span><span class="p"></span>
   <span class="n">a</span> <span class="o">:</span> <span class="n">integer</span><span class="p">;</span>
   <span class="n">b</span> <span class="o">:</span> <span class="n">integer</span><span class="p">;</span>
<span class="k">end record</span><span class="p">;</span>

<span class="kr">type</span><span class="p"> </span><span class="n">q</span> <span class="kr">is</span><span class="p"></span>
   <span class="kr">record</span><span class="p"></span>
      <span class="n">a</span> <span class="o">:</span> <span class="n">integer</span><span class="p">;</span>
      <span class="n">b</span> <span class="o">:</span> <span class="n">integer</span><span class="p">;</span>
   <span class="k">end record</span><span class="p">;</span>

<span class="kr">type</span><span class="p"> </span><span class="n">q</span> <span class="kr">is</span><span class="p"></span>
   <span class="kr">record</span><span class="p"></span>
      <span class="n">a</span> <span class="o">:</span> <span class="n">integer</span><span class="p">;</span>
      <span class="n">b</span> <span class="o">:</span> <span class="n">integer</span><span class="p">;</span>
<span class="k">end record</span><span class="p">;</span>
</pre></div>
</div>
<p>Second, in the case of a block statement, a permitted alternative
is to put the block label on the same line as the <code class="docutils literal notranslate"><span class="pre">declare</span></code> or
<code class="docutils literal notranslate"><span class="pre">begin</span></code> keyword, and then line the <code class="docutils literal notranslate"><span class="pre">end</span></code> keyword up under
the block label. For example both the following are permitted:</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="n">Block</span> <span class="o">:</span> <span class="kr">declare</span><span class="p"></span>
   <span class="n">A</span> <span class="o">:</span> <span class="n">Integer</span> <span class="o">:=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kr">begin</span><span class="p"></span>
   <span class="n">Proc</span> <span class="o">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="o">)</span><span class="p">;</span>
<span class="k">end </span><span class="nf">Block</span><span class="p">;</span>

<span class="n">Block</span> <span class="o">:</span>
   <span class="kr">declare</span><span class="p"></span>
      <span class="n">A</span> <span class="o">:</span> <span class="n">Integer</span> <span class="o">:=</span> <span class="mi">3</span><span class="p">;</span>
   <span class="kr">begin</span><span class="p"></span>
      <span class="n">Proc</span> <span class="o">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="o">)</span><span class="p">;</span>
   <span class="k">end </span><span class="nf">Block</span><span class="p">;</span>
</pre></div>
</div>
<p>The same alternative format is allowed for loops. For example, both of
the following are permitted:</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="n">Clear</span> <span class="o">:</span> <span class="kr">while</span><span class="p"> </span><span class="n">J</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="kr">loop</span><span class="p"></span>
   <span class="n">A</span> <span class="o">(</span><span class="n">J</span><span class="o">)</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">end loop</span> <span class="n">Clear</span><span class="p">;</span>

<span class="n">Clear</span> <span class="o">:</span>
   <span class="kr">while</span><span class="p"> </span><span class="n">J</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="kr">loop</span><span class="p"></span>
      <span class="n">A</span> <span class="o">(</span><span class="n">J</span><span class="o">)</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="k">end loop</span> <span class="n">Clear</span><span class="p">;</span>
</pre></div>
</div>
</dd>
</dl>
<dl id="index-392">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyL</span></code></dt><dd><p><em>Set maximum nesting level.</em></p>
<p>The maximum level of nesting of constructs (including subprograms, loops,
blocks, packages, and conditionals) may not exceed the given value
<em>nnn</em>. A value of zero disconnects this style check.</p>
</dd>
</dl>
<dl id="index-393">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatym</span></code></dt><dd><p><em>Check maximum line length.</em></p>
<p>The length of source lines must not exceed 79 characters, including
any trailing blanks. The value of 79 allows convenient display on an
80 character wide device or window, allowing for possible special
treatment of 80 character lines. Note that this count is of
characters in the source text. This means that a tab character counts
as one character in this count and a wide character sequence counts as
a single character (however many bytes are needed in the encoding).</p>
</dd>
</dl>
<dl id="index-394">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyM</span></code></dt><dd><p><em>Set maximum line length.</em></p>
<p>The length of lines must not exceed the
given value <em>nnn</em>. The maximum value that can be specified is 32767.
If neither style option for setting the line length is used, then the
default is 255. This also controls the maximum length of lexical elements,
where the only restriction is that they must fit on a single line.</p>
</dd>
</dl>
<dl id="index-395">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyn</span></code></dt><dd><p><em>Check casing of entities in Standard.</em></p>
<p>Any identifier from Standard must be cased
to match the presentation in the Ada Reference Manual (for example,
<code class="docutils literal notranslate"><span class="pre">Integer</span></code> and <code class="docutils literal notranslate"><span class="pre">ASCII.NUL</span></code>).</p>
</dd>
</dl>
<dl id="index-396">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyN</span></code></dt><dd><p><em>Turn off all style checks.</em></p>
<p>All style check options are turned off.</p>
</dd>
</dl>
<dl id="index-397">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyo</span></code></dt><dd><p><em>Check order of subprogram bodies.</em></p>
<p>All subprogram bodies in a given scope
(e.g., a package body) must be in alphabetical order. The ordering
rule uses normal Ada rules for comparing strings, ignoring casing
of letters, except that if there is a trailing numeric suffix, then
the value of this suffix is used in the ordering (e.g., Junk2 comes
before Junk10).</p>
</dd>
</dl>
<dl id="index-398">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyO</span></code></dt><dd><p><em>Check that overriding subprograms are explicitly marked as such.</em></p>
<p>This applies to all subprograms of a derived type that override a primitive
operation of the type, for both tagged and untagged types. In particular,
the declaration of a primitive operation of a type extension that overrides
an inherited operation must carry an overriding indicator. Another case is
the declaration of a function that overrides a predefined operator (such
as an equality operator).</p>
</dd>
</dl>
<dl id="index-399">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyp</span></code></dt><dd><p><em>Check pragma casing.</em></p>
<p>Pragma names must be written in mixed case, that is, the
initial letter and any letter following an underscore must be uppercase.
All other letters must be lowercase. An exception is that SPARK_Mode is
allowed as an alternative for Spark_Mode.</p>
</dd>
</dl>
<dl id="index-400">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyr</span></code></dt><dd><p><em>Check references.</em></p>
<p>All identifier references must be cased in the same way as the
corresponding declaration. No specific casing style is imposed on
identifiers. The only requirement is for consistency of references
with declarations.</p>
</dd>
</dl>
<dl id="index-401">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatys</span></code></dt><dd><p><em>Check separate specs.</em></p>
<p>Separate declarations (‘specs’) are required for subprograms (a
body is not allowed to serve as its own declaration). The only
exception is that parameterless library level procedures are
not required to have a separate declaration. This exception covers
the most frequent form of main program procedures.</p>
</dd>
</dl>
<dl id="index-402">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyS</span></code></dt><dd><p><em>Check no statements after then/else.</em></p>
<p>No statements are allowed
on the same line as a <code class="docutils literal notranslate"><span class="pre">then</span></code> or <code class="docutils literal notranslate"><span class="pre">else</span></code> keyword following the
keyword in an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement. <code class="docutils literal notranslate"><span class="pre">or</span> <span class="pre">else</span></code> and <code class="docutils literal notranslate"><span class="pre">and</span> <span class="pre">then</span></code> are not
affected, and a special exception allows a pragma to appear after <code class="docutils literal notranslate"><span class="pre">else</span></code>.</p>
</dd>
</dl>
<dl id="index-403">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyt</span></code></dt><dd><p><em>Check token spacing.</em></p>
<p>The following token spacing rules are enforced:</p>
<ul class="simple">
<li><p>The keywords <code class="docutils literal notranslate"><span class="pre">abs</span></code> and <code class="docutils literal notranslate"><span class="pre">not</span></code> must be followed by a space.</p></li>
<li><p>The token <code class="docutils literal notranslate"><span class="pre">=&gt;</span></code> must be surrounded by spaces.</p></li>
<li><p>The token <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> must be preceded by a space or a left parenthesis.</p></li>
<li><p>Binary operators other than <code class="docutils literal notranslate"><span class="pre">**</span></code> must be surrounded by spaces.
There is no restriction on the layout of the <code class="docutils literal notranslate"><span class="pre">**</span></code> binary operator.</p></li>
<li><p>Colon must be surrounded by spaces.</p></li>
<li><p>Colon-equal (assignment, initialization) must be surrounded by spaces.</p></li>
<li><p>Comma must be the first non-blank character on the line, or be
immediately preceded by a non-blank character, and must be followed
by a space.</p></li>
<li><p>If the token preceding a left parenthesis ends with a letter or digit, then
a space must separate the two tokens.</p></li>
<li><p>If the token following a right parenthesis starts with a letter or digit, then
a space must separate the two tokens.</p></li>
<li><p>A right parenthesis must either be the first non-blank character on
a line, or it must be preceded by a non-blank character.</p></li>
<li><p>A semicolon must not be preceded by a space, and must not be followed by
a non-blank character.</p></li>
<li><p>A unary plus or minus may not be followed by a space.</p></li>
<li><p>A vertical bar must be surrounded by spaces.</p></li>
</ul>
<p>Exactly one blank (and no other white space) must appear between
a <code class="docutils literal notranslate"><span class="pre">not</span></code> token and a following <code class="docutils literal notranslate"><span class="pre">in</span></code> token.</p>
</dd>
</dl>
<dl id="index-404">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyu</span></code></dt><dd><p><em>Check unnecessary blank lines.</em></p>
<p>Unnecessary blank lines are not allowed. A blank line is considered
unnecessary if it appears at the end of the file, or if more than
one blank line occurs in sequence.</p>
</dd>
</dl>
<dl id="index-405">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyx</span></code></dt><dd><p><em>Check extra parentheses.</em></p>
<p>Unnecessary extra level of parentheses (C-style) are not allowed
around conditions in <code class="docutils literal notranslate"><span class="pre">if</span></code> statements, <code class="docutils literal notranslate"><span class="pre">while</span></code> statements and
<code class="docutils literal notranslate"><span class="pre">exit</span></code> statements.</p>
</dd>
</dl>
<dl id="index-406">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatyy</span></code></dt><dd><p><em>Set all standard style check options.</em></p>
<p>This is equivalent to <code class="docutils literal notranslate"><span class="pre">gnaty3aAbcefhiklmnprst</span></code>, that is all checking
options enabled with the exception of <code class="switch docutils literal notranslate"><span class="pre">-gnatyB</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnatyd</span></code>,
<code class="switch docutils literal notranslate"><span class="pre">-gnatyI</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnatyLnnn</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnatyo</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnatyO</span></code>,
<code class="switch docutils literal notranslate"><span class="pre">-gnatyS</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnatyu</span></code>, and <code class="switch docutils literal notranslate"><span class="pre">-gnatyx</span></code>.</p>
</dd>
</dl>
<dl id="index-407">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnaty-</span></code></dt><dd><p><em>Remove style check options.</em></p>
<p>This causes any subsequent options in the string to act as canceling the
corresponding style check option. To cancel maximum nesting level control,
use the <code class="docutils literal notranslate"><span class="pre">L</span></code> parameter without any integer value after that, because any
digit following <em>-</em> in the parameter string of the <code class="switch docutils literal notranslate"><span class="pre">-gnaty</span></code>
option will be treated as canceling the indentation check. The same is true
for the <code class="docutils literal notranslate"><span class="pre">M</span></code> parameter. <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">N</span></code> parameters are not
allowed after <em>-</em>.</p>
</dd>
</dl>
<dl id="index-408">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnaty+</span></code></dt><dd><p><em>Enable style check options.</em></p>
<p>This causes any subsequent options in the string to enable the corresponding
style check option. That is, it cancels the effect of a previous -,
if any.</p>
</dd>
</dl>
<p>In the above rules, appearing in column one is always permitted, that is,
counts as meeting either a requirement for a required preceding space,
or as meeting a requirement for no preceding space.</p>
<p>Appearing at the end of a line is also always permitted, that is, counts
as meeting either a requirement for a following space, or as meeting
a requirement for no following space.</p>
<p>If any of these style rules is violated, a message is generated giving
details on the violation. The initial characters of such messages are
always ‘<cite>(style)</cite>’. Note that these messages are treated as warning
messages, so they normally do not prevent the generation of an object
file. The <code class="switch docutils literal notranslate"><span class="pre">-gnatwe</span></code> switch can be used to treat warning messages,
including style messages, as fatal errors.</p>
<p>The switch <code class="switch docutils literal notranslate"><span class="pre">-gnaty</span></code> on its own (that is not
followed by any letters or digits) is equivalent
to the use of <code class="switch docutils literal notranslate"><span class="pre">-gnatyy</span></code> as described above, that is all
built-in standard style check options are enabled.</p>
<p>The switch <code class="switch docutils literal notranslate"><span class="pre">-gnatyN</span></code> clears any previously set style checks.</p>
</div>
<div class="section" id="run-time-checks">
<span id="id19"></span><h3><span class="section-number">4.3.7. </span>Run-Time Checks<a class="headerlink" href="#run-time-checks" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-409"></span><span class="target" id="index-410"></span><span class="target" id="index-411"></span><span class="target" id="index-412"></span><p id="index-413">By default, the following checks are suppressed: stack overflow
checks, and checks for access before elaboration on subprogram
calls. All other checks, including overflow checks, range checks and
array bounds checks, are turned on by default. The following <code class="docutils literal notranslate"><span class="pre">gcc</span></code>
switches refine this default behavior.</p>
<dl id="index-414">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatp</span></code></dt><dd><span class="target" id="index-415"></span><p id="index-416">This switch causes the unit to be compiled
as though <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Suppress</span> <span class="pre">(All_checks)</span></code>
had been present in the source. Validity checks are also eliminated (in
other words <code class="switch docutils literal notranslate"><span class="pre">-gnatp</span></code> also implies <code class="switch docutils literal notranslate"><span class="pre">-gnatVn</span></code>.
Use this switch to improve the performance
of the code at the expense of safety in the presence of invalid data or
program bugs.</p>
<p>Note that when checks are suppressed, the compiler is allowed, but not
required, to omit the checking code. If the run-time cost of the
checking code is zero or near-zero, the compiler will generate it even
if checks are suppressed. In particular, if the compiler can prove
that a certain check will necessarily fail, it will generate code to
do an unconditional ‘raise’, even if checks are suppressed. The
compiler warns in this case. Another case in which checks may not be
eliminated is when they are embedded in certain run-time routines such
as math library routines.</p>
<p>Of course, run-time checks are omitted whenever the compiler can prove
that they will not fail, whether or not checks are suppressed.</p>
<p>Note that if you suppress a check that would have failed, program
execution is erroneous, which means the behavior is totally
unpredictable. The program might crash, or print wrong answers, or
do anything else. It might even do exactly what you wanted it to do
(and then it might start failing mysteriously next week or next
year). The compiler will generate code based on the assumption that
the condition being checked is true, which can result in erroneous
execution if that assumption is wrong.</p>
<p>The checks subject to suppression include all the checks defined by the Ada
standard, the additional implementation defined checks <code class="docutils literal notranslate"><span class="pre">Alignment_Check</span></code>,
<code class="docutils literal notranslate"><span class="pre">Duplicated_Tag_Check</span></code>, <code class="docutils literal notranslate"><span class="pre">Predicate_Check</span></code>, <code class="docutils literal notranslate"><span class="pre">Container_Checks</span></code>, <code class="docutils literal notranslate"><span class="pre">Tampering_Check</span></code>,
and <code class="docutils literal notranslate"><span class="pre">Validity_Check</span></code>, as well as any checks introduced using <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Check_Name</span></code>.
Note that <code class="docutils literal notranslate"><span class="pre">Atomic_Synchronization</span></code> is not automatically suppressed by use of this option.</p>
<p>If the code depends on certain checks being active, you can use
pragma <code class="docutils literal notranslate"><span class="pre">Unsuppress</span></code> either as a configuration pragma or as
a local pragma to make sure that a specified check is performed
even if <code class="docutils literal notranslate"><span class="pre">gnatp</span></code> is specified.</p>
<p>The <code class="switch docutils literal notranslate"><span class="pre">-gnatp</span></code> switch has no effect if a subsequent
<code class="switch docutils literal notranslate"><span class="pre">-gnat-p</span></code> switch appears.</p>
</dd>
</dl>
<span class="target" id="index-417"></span><span class="target" id="index-418"></span><span class="target" id="index-419"></span><dl class="simple" id="index-420">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat-p</span></code></dt><dd><p>This switch cancels the effect of a previous <code class="docutils literal notranslate"><span class="pre">gnatp</span></code> switch.</p>
</dd>
</dl>
<span class="target" id="index-421"></span><span class="target" id="index-422"></span><span class="target" id="index-423"></span><dl id="index-424">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnato??</span></code></dt><dd><p>This switch controls the mode used for computing intermediate
arithmetic integer operations, and also enables overflow checking.
For a full description of overflow mode and checking control, see
the ‘Overflow Check Handling in GNAT’ appendix in this
User’s Guide.</p>
<p>Overflow checks are always enabled by this switch. The argument
controls the mode, using the codes</p>
<dl class="simple">
<dt><em>1 = STRICT</em></dt><dd><p>In STRICT mode, intermediate operations are always done using the
base type, and overflow checking ensures that the result is within
the base type range.</p>
</dd>
<dt><em>2 = MINIMIZED</em></dt><dd><p>In MINIMIZED mode, overflows in intermediate operations are avoided
where possible by using a larger integer type for the computation
(typically <code class="docutils literal notranslate"><span class="pre">Long_Long_Integer</span></code>). Overflow checking ensures that
the result fits in this larger integer type.</p>
</dd>
<dt><em>3 = ELIMINATED</em></dt><dd><p>In ELIMINATED mode, overflows in intermediate operations are avoided
by using multi-precision arithmetic. In this case, overflow checking
has no effect on intermediate operations (since overflow is impossible).</p>
</dd>
</dl>
<p>If two digits are present after <code class="switch docutils literal notranslate"><span class="pre">-gnato</span></code> then the first digit
sets the mode for expressions outside assertions, and the second digit
sets the mode for expressions within assertions. Here assertions is used
in the technical sense (which includes for example precondition and
postcondition expressions).</p>
<p>If one digit is present, the corresponding mode is applicable to both
expressions within and outside assertion expressions.</p>
<p>If no digits are present, the default is to enable overflow checks
and set STRICT mode for both kinds of expressions. This is compatible
with the use of <code class="switch docutils literal notranslate"><span class="pre">-gnato</span></code> in previous versions of GNAT.</p>
<p id="index-425">Note that the <code class="switch docutils literal notranslate"><span class="pre">-gnato??</span></code> switch does not affect the code generated
for any floating-point operations; it applies only to integer semantics.
For floating-point, GNAT has the <code class="docutils literal notranslate"><span class="pre">Machine_Overflows</span></code>
attribute set to <code class="docutils literal notranslate"><span class="pre">False</span></code> and the normal mode of operation is to
generate IEEE NaN and infinite values on overflow or invalid operations
(such as dividing 0.0 by 0.0).</p>
<p>The reason that we distinguish overflow checking from other kinds of
range constraint checking is that a failure of an overflow check, unlike
for example the failure of a range check, can result in an incorrect
value, but cannot cause random memory destruction (like an out of range
subscript), or a wild jump (from an out of range case value). Overflow
checking is also quite expensive in time and space, since in general it
requires the use of double length arithmetic.</p>
<p>Note again that the default is <code class="switch docutils literal notranslate"><span class="pre">-gnato11</span></code> (equivalent to <code class="switch docutils literal notranslate"><span class="pre">-gnato1</span></code>),
so overflow checking is performed in STRICT mode by default.</p>
</dd>
</dl>
<span class="target" id="index-426"></span><span class="target" id="index-427"></span><dl class="simple" id="index-428">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatE</span></code></dt><dd><p>Enables dynamic checks for access-before-elaboration
on subprogram calls and generic instantiations.
Note that <code class="switch docutils literal notranslate"><span class="pre">-gnatE</span></code> is not necessary for safety, because in the
default mode, GNAT ensures statically that the checks would not fail.
For full details of the effect and use of this switch,
<a class="reference internal" href="#compiling-with-gcc"><span class="std std-ref">Compiling with gcc</span></a>.</p>
</dd>
</dl>
<span class="target" id="index-429"></span><span class="target" id="index-430"></span><dl class="simple" id="index-431">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fstack-check</span></code></dt><dd><p>Activates stack overflow checking. For full details of the effect and use of
this switch see <a class="reference internal" href="gnat_and_program_execution.html#stack-overflow-checking"><span class="std std-ref">Stack Overflow Checking</span></a>.</p>
</dd>
</dl>
<p id="index-432">The setting of these switches only controls the default setting of the
checks. You may modify them using either <code class="docutils literal notranslate"><span class="pre">Suppress</span></code> (to remove
checks) or <code class="docutils literal notranslate"><span class="pre">Unsuppress</span></code> (to add back suppressed checks) pragmas in
the program source.</p>
</div>
<div class="section" id="using-gcc-for-syntax-checking">
<span id="id20"></span><h3><span class="section-number">4.3.8. </span>Using <code class="docutils literal notranslate"><span class="pre">gcc</span></code> for Syntax Checking<a class="headerlink" href="#using-gcc-for-syntax-checking" title="Permalink to this headline">¶</a></h3>
<dl id="index-433">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnats</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">s</span></code> stands for ‘syntax’.</p>
<p>Run GNAT in syntax checking only mode. For
example, the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gcc -c -gnats x.adb
</pre></div>
</div>
<p>compiles file <code class="file docutils literal notranslate"><span class="pre">x.adb</span></code> in syntax-check-only mode. You can check a
series of files in a single command
, and can use wildcards to specify such a group of files.
Note that you must specify the <code class="switch docutils literal notranslate"><span class="pre">-c</span></code> (compile
only) flag in addition to the <code class="switch docutils literal notranslate"><span class="pre">-gnats</span></code> flag.</p>
<p>You may use other switches in conjunction with <code class="switch docutils literal notranslate"><span class="pre">-gnats</span></code>. In
particular, <code class="switch docutils literal notranslate"><span class="pre">-gnatl</span></code> and <code class="switch docutils literal notranslate"><span class="pre">-gnatv</span></code> are useful to control the
format of any generated error messages.</p>
<p>When the source file is empty or contains only empty lines and/or comments,
the output is a warning:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gcc -c -gnats -x ada toto.txt
toto.txt:1:01: warning: empty file, contains no compilation units
$
</pre></div>
</div>
<p>Otherwise, the output is simply the error messages, if any. No object file or
ALI file is generated by a syntax-only compilation. Also, no units other
than the one specified are accessed. For example, if a unit <code class="docutils literal notranslate"><span class="pre">X</span></code>
<em>with</em>s a unit <code class="docutils literal notranslate"><span class="pre">Y</span></code>, compiling unit <code class="docutils literal notranslate"><span class="pre">X</span></code> in syntax
check only mode does not access the source file containing unit
<code class="docutils literal notranslate"><span class="pre">Y</span></code>.</p>
<p id="index-434">Normally, GNAT allows only a single unit in a source file. However, this
restriction does not apply in syntax-check-only mode, and it is possible
to check a file containing multiple compilation units concatenated
together. This is primarily used by the <code class="docutils literal notranslate"><span class="pre">gnatchop</span></code> utility
(<a class="reference internal" href="the_gnat_compilation_model.html#renaming-files-with-gnatchop"><span class="std std-ref">Renaming Files with gnatchop</span></a>).</p>
</dd>
</dl>
</div>
<div class="section" id="using-gcc-for-semantic-checking">
<span id="id21"></span><h3><span class="section-number">4.3.9. </span>Using <code class="docutils literal notranslate"><span class="pre">gcc</span></code> for Semantic Checking<a class="headerlink" href="#using-gcc-for-semantic-checking" title="Permalink to this headline">¶</a></h3>
<dl id="index-435">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatc</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">c</span></code> stands for ‘check’.
Causes the compiler to operate in semantic check mode,
with full checking for all illegalities specified in the
Ada Reference Manual, but without generation of any object code
(no object file is generated).</p>
<p>Because dependent files must be accessed, you must follow the GNAT
semantic restrictions on file structuring to operate in this mode:</p>
<ul class="simple">
<li><p>The needed source files must be accessible
(see <a class="reference internal" href="#search-paths-and-the-run-time-library-rtl"><span class="std std-ref">Search Paths and the Run-Time Library (RTL)</span></a>).</p></li>
<li><p>Each file must contain only one compilation unit.</p></li>
<li><p>The file name and unit name must match (<a class="reference internal" href="the_gnat_compilation_model.html#file-naming-rules"><span class="std std-ref">File Naming Rules</span></a>).</p></li>
</ul>
<p>The output consists of error messages as appropriate. No object file is
generated. An <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file is generated for use in the context of
cross-reference tools, but this file is marked as not being suitable
for binding (since no object file is generated).
The checking corresponds exactly to the notion of
legality in the Ada Reference Manual.</p>
<p>Any unit can be compiled in semantics-checking-only mode, including
units that would not normally be compiled (subunits,
and specifications where a separate body is present).</p>
</dd>
</dl>
</div>
<div class="section" id="compiling-different-versions-of-ada">
<span id="id22"></span><h3><span class="section-number">4.3.10. </span>Compiling Different Versions of Ada<a class="headerlink" href="#compiling-different-versions-of-ada" title="Permalink to this headline">¶</a></h3>
<p>The switches described in this section allow you to explicitly specify
the version of the Ada language that your programs are written in.
The default mode is Ada 2012,
but you can also specify Ada 95, Ada 2005 mode, or
indicate Ada 83 compatibility mode.</p>
<span class="target" id="index-436"></span><span class="target" id="index-437"></span><span class="target" id="index-438"></span><dl id="index-439">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code> (Ada 83 Compatibility Mode)</dt><dd><p>Although GNAT is primarily an Ada 95 / Ada 2005 compiler, this switch
specifies that the program is to be compiled in Ada 83 mode. With
<code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code>, GNAT rejects most post-Ada 83 extensions and applies Ada 83
semantics where this can be done easily.
It is not possible to guarantee this switch does a perfect
job; some subtle tests, such as are
found in earlier ACVC tests (and that have been removed from the ACATS suite
for Ada 95), might not compile correctly.
Nevertheless, this switch may be useful in some circumstances, for example
where, due to contractual reasons, existing code needs to be maintained
using only Ada 83 features.</p>
<p>With few exceptions (most notably the need to use <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> on
unconstrained <span class="target" id="index-440"></span>generic formal parameters,
the use of the new Ada 95 / Ada 2005
reserved words, and the use of packages
with optional bodies), it is not necessary to specify the
<code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code> switch when compiling Ada 83 programs, because, with rare
exceptions, Ada 95 and Ada 2005 are upwardly compatible with Ada 83. Thus
a correct Ada 83 program is usually also a correct program
in these later versions of the language standard. For further information
please refer to the <em>Compatibility and Porting Guide</em> chapter in the
<cite>GNAT Reference Manual</cite>.</p>
</dd>
</dl>
<span class="target" id="index-441"></span><dl id="index-442">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat95</span></code> (Ada 95 mode)</dt><dd><p>This switch directs the compiler to implement the Ada 95 version of the
language.
Since Ada 95 is almost completely upwards
compatible with Ada 83, Ada 83 programs may generally be compiled using
this switch (see the description of the <code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code> switch for further
information about Ada 83 mode).
If an Ada 2005 program is compiled in Ada 95 mode,
uses of the new Ada 2005 features will cause error
messages or warnings.</p>
<p>This switch also can be used to cancel the effect of a previous
<code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnat05/2005</span></code>, or <code class="switch docutils literal notranslate"><span class="pre">-gnat12/2012</span></code>
switch earlier in the command line.</p>
</dd>
</dl>
<span class="target" id="index-443"></span><span class="target" id="index-444"></span><dl class="simple" id="index-445">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat05</span></code> or <code class="switch docutils literal notranslate"><span class="pre">-gnat2005</span></code> (Ada 2005 mode)</dt><dd><p>This switch directs the compiler to implement the Ada 2005 version of the
language, as documented in the official Ada standards document.
Since Ada 2005 is almost completely upwards
compatible with Ada 95 (and thus also with Ada 83), Ada 83 and Ada 95 programs
may generally be compiled using this switch (see the description of the
<code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code> and <code class="switch docutils literal notranslate"><span class="pre">-gnat95</span></code> switches for further
information).</p>
</dd>
</dl>
<span class="target" id="index-446"></span><span class="target" id="index-447"></span><dl class="simple" id="index-448">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat12</span></code> or <code class="switch docutils literal notranslate"><span class="pre">-gnat2012</span></code> (Ada 2012 mode)</dt><dd><p>This switch directs the compiler to implement the Ada 2012 version of the
language (also the default).
Since Ada 2012 is almost completely upwards
compatible with Ada 2005 (and thus also with Ada 83, and Ada 95),
Ada 83 and Ada 95 programs
may generally be compiled using this switch (see the description of the
<code class="switch docutils literal notranslate"><span class="pre">-gnat83</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-gnat95</span></code>, and <code class="switch docutils literal notranslate"><span class="pre">-gnat05/2005</span></code> switches
for further information).</p>
</dd>
</dl>
<span class="target" id="index-449"></span><dl class="simple" id="index-450">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnat2022</span></code> (Ada 2022 mode)</dt><dd><p>This switch directs the compiler to implement the Ada 2022 version of the
language.</p>
</dd>
</dl>
<span class="target" id="index-451"></span><span class="target" id="index-452"></span><dl class="simple" id="index-453">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatX</span></code> (Enable GNAT Extensions)</dt><dd><p>This switch directs the compiler to implement the latest version of the
language (currently Ada 2022) and also to enable certain GNAT implementation
extensions that are not part of any Ada standard. For a full list of these
extensions, see the GNAT reference manual, <code class="docutils literal notranslate"><span class="pre">Pragma</span> <span class="pre">Extensions_Allowed</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="character-set-control">
<span id="id23"></span><h3><span class="section-number">4.3.11. </span>Character Set Control<a class="headerlink" href="#character-set-control" title="Permalink to this headline">¶</a></h3>
<dl id="index-454">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnati</span><em><span class="pre">c</span></em></code></dt><dd><p>Normally GNAT recognizes the Latin-1 character set in source program
identifiers, as described in the Ada Reference Manual.
This switch causes
GNAT to recognize alternate character sets in identifiers. <code class="docutils literal notranslate"><span class="pre">c</span></code> is a
single character  indicating the character set, as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>1</em></p></td>
<td><p>ISO 8859-1 (Latin-1) identifiers</p></td>
</tr>
<tr class="row-even"><td><p><em>2</em></p></td>
<td><p>ISO 8859-2 (Latin-2) letters allowed in identifiers</p></td>
</tr>
<tr class="row-odd"><td><p><em>3</em></p></td>
<td><p>ISO 8859-3 (Latin-3) letters allowed in identifiers</p></td>
</tr>
<tr class="row-even"><td><p><em>4</em></p></td>
<td><p>ISO 8859-4 (Latin-4) letters allowed in identifiers</p></td>
</tr>
<tr class="row-odd"><td><p><em>5</em></p></td>
<td><p>ISO 8859-5 (Cyrillic) letters allowed in identifiers</p></td>
</tr>
<tr class="row-even"><td><p><em>9</em></p></td>
<td><p>ISO 8859-15 (Latin-9) letters allowed in identifiers</p></td>
</tr>
<tr class="row-odd"><td><p><em>p</em></p></td>
<td><p>IBM PC letters (code page 437) allowed in identifiers</p></td>
</tr>
<tr class="row-even"><td><p><em>8</em></p></td>
<td><p>IBM PC letters (code page 850) allowed in identifiers</p></td>
</tr>
<tr class="row-odd"><td><p><em>f</em></p></td>
<td><p>Full upper-half codes allowed in identifiers</p></td>
</tr>
<tr class="row-even"><td><p><em>n</em></p></td>
<td><p>No upper-half codes allowed in identifiers</p></td>
</tr>
<tr class="row-odd"><td><p><em>w</em></p></td>
<td><p>Wide-character codes (that is, codes greater than 255)
allowed in identifiers</p></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="the_gnat_compilation_model.html#foreign-language-representation"><span class="std std-ref">Foreign Language Representation</span></a> for full details on the
implementation of these character sets.</p>
</dd>
</dl>
<dl id="index-455">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatW</span><em><span class="pre">e</span></em></code></dt><dd><p>Specify the method of encoding for wide characters.
<code class="docutils literal notranslate"><span class="pre">e</span></code> is one of the following:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>h</em></p></td>
<td><p>Hex encoding (brackets coding also recognized)</p></td>
</tr>
<tr class="row-even"><td><p><em>u</em></p></td>
<td><p>Upper half encoding (brackets encoding also recognized)</p></td>
</tr>
<tr class="row-odd"><td><p><em>s</em></p></td>
<td><p>Shift/JIS encoding (brackets encoding also recognized)</p></td>
</tr>
<tr class="row-even"><td><p><em>e</em></p></td>
<td><p>EUC encoding (brackets encoding also recognized)</p></td>
</tr>
<tr class="row-odd"><td><p><em>8</em></p></td>
<td><p>UTF-8 encoding (brackets encoding also recognized)</p></td>
</tr>
<tr class="row-even"><td><p><em>b</em></p></td>
<td><p>Brackets encoding only (default value)</p></td>
</tr>
</tbody>
</table>
<p>For full details on these encoding
methods see <a class="reference internal" href="the_gnat_compilation_model.html#wide-character-encodings"><span class="std std-ref">Wide_Character Encodings</span></a>.
Note that brackets coding is always accepted, even if one of the other
options is specified, so for example <code class="switch docutils literal notranslate"><span class="pre">-gnatW8</span></code> specifies that both
brackets and UTF-8 encodings will be recognized. The units that are
with’ed directly or indirectly will be scanned using the specified
representation scheme, and so if one of the non-brackets scheme is
used, it must be used consistently throughout the program. However,
since brackets encoding is always recognized, it may be conveniently
used in standard libraries, allowing these libraries to be used with
any of the available coding schemes.</p>
<p>Note that brackets encoding only applies to program text. Within comments,
brackets are considered to be normal graphic characters, and bracket sequences
are never recognized as wide characters.</p>
<p>If no <code class="switch docutils literal notranslate"><span class="pre">-gnatW?</span></code> parameter is present, then the default
representation is normally Brackets encoding only. However, if the
first three characters of the file are 16#EF# 16#BB# 16#BF# (the standard
byte order mark or BOM for UTF-8), then these three characters are
skipped and the default representation for the file is set to UTF-8.</p>
<p>Note that the wide character representation that is specified (explicitly
or by default) for the main program also acts as the default encoding used
for Wide_Text_IO files if not specifically overridden by a WCEM form
parameter.</p>
</dd>
</dl>
<p>When no <code class="switch docutils literal notranslate"><span class="pre">-gnatW?</span></code> is specified, then characters (other than wide
characters represented using brackets notation) are treated as 8-bit
Latin-1 codes. The codes recognized are the Latin-1 graphic characters,
and ASCII format effectors (CR, LF, HT, VT). Other lower half control
characters in the range 16#00#..16#1F# are not accepted in program text
or in comments. Upper half control characters (16#80#..16#9F#) are rejected
in program text, but allowed and ignored in comments. Note in particular
that the Next Line (NEL) character whose encoding is 16#85# is not recognized
as an end of line in this default mode. If your source program contains
instances of the NEL character used as a line terminator,
you must use UTF-8 encoding for the whole
source program. In default mode, all lines must be ended by a standard
end of line sequence (CR, CR/LF, or LF).</p>
<p>Note that the convention of simply accepting all upper half characters in
comments means that programs that use standard ASCII for program text, but
UTF-8 encoding for comments are accepted in default mode, providing that the
comments are ended by an appropriate (CR, or CR/LF, or LF) line terminator.
This is a common mode for many programs with foreign language comments.</p>
</div>
<div class="section" id="file-naming-control">
<span id="id24"></span><h3><span class="section-number">4.3.12. </span>File Naming Control<a class="headerlink" href="#file-naming-control" title="Permalink to this headline">¶</a></h3>
<dl id="index-456">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatk</span><em><span class="pre">n</span></em></code></dt><dd><p>Activates file name ‘krunching’. <code class="docutils literal notranslate"><span class="pre">n</span></code>, a decimal integer in the range
1-999, indicates the maximum allowable length of a file name (not
including the <code class="file docutils literal notranslate"><span class="pre">.ads</span></code> or <code class="file docutils literal notranslate"><span class="pre">.adb</span></code> extension). The default is not
to enable file name krunching.</p>
<p>For the source file naming rules, <a class="reference internal" href="the_gnat_compilation_model.html#file-naming-rules"><span class="std std-ref">File Naming Rules</span></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="subprogram-inlining-control">
<span id="id25"></span><h3><span class="section-number">4.3.13. </span>Subprogram Inlining Control<a class="headerlink" href="#subprogram-inlining-control" title="Permalink to this headline">¶</a></h3>
<dl id="index-457">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatn[12]</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">n</span></code> here is intended to suggest the first syllable of the word ‘inline’.
GNAT recognizes and processes <code class="docutils literal notranslate"><span class="pre">Inline</span></code> pragmas. However, for inlining to
actually occur, optimization must be enabled and, by default, inlining of
subprograms across units is not performed. If you want to additionally
enable inlining of subprograms specified by pragma <code class="docutils literal notranslate"><span class="pre">Inline</span></code> across units,
you must also specify this switch.</p>
<p>In the absence of this switch, GNAT does not attempt inlining across units
and does not access the bodies of subprograms for which <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Inline</span></code> is
specified if they are not in the current unit.</p>
<p>You can optionally specify the inlining level: 1 for moderate inlining across
units, which is a good compromise between compilation times and performances
at run time, or 2 for full inlining across units, which may bring about
longer compilation times. If no inlining level is specified, the compiler will
pick it based on the optimization level: 1 for <code class="switch docutils literal notranslate"><span class="pre">-O1</span></code>, <code class="switch docutils literal notranslate"><span class="pre">-O2</span></code> or
<code class="switch docutils literal notranslate"><span class="pre">-Os</span></code> and 2 for <code class="switch docutils literal notranslate"><span class="pre">-O3</span></code>.</p>
<p>If you specify this switch the compiler will access these bodies,
creating an extra source dependency for the resulting object file, and
where possible, the call will be inlined.
For further details on when inlining is possible
see <a class="reference internal" href="gnat_and_program_execution.html#inlining-of-subprograms"><span class="std std-ref">Inlining of Subprograms</span></a>.</p>
</dd>
</dl>
<dl id="index-458">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatN</span></code></dt><dd><p>This switch activates front-end inlining which also
generates additional dependencies.</p>
<p>When using a gcc-based back end, then the use of
<code class="switch docutils literal notranslate"><span class="pre">-gnatN</span></code> is deprecated, and the use of <code class="switch docutils literal notranslate"><span class="pre">-gnatn</span></code> is preferred.
Historically front end inlining was more extensive than the gcc back end
inlining, but that is no longer the case.</p>
</dd>
</dl>
</div>
<div class="section" id="auxiliary-output-control">
<span id="id26"></span><h3><span class="section-number">4.3.14. </span>Auxiliary Output Control<a class="headerlink" href="#auxiliary-output-control" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="index-459">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatu</span></code></dt><dd><p>Print a list of units required by this compilation on <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.
The listing includes all units on which the unit being compiled depends
either directly or indirectly.</p>
</dd>
</dl>
<dl id="index-460">
<dt><code class="switch docutils literal notranslate"><span class="pre">-pass-exit-codes</span></code></dt><dd><p>If this switch is not used, the exit code returned by <code class="docutils literal notranslate"><span class="pre">gcc</span></code> when
compiling multiple files indicates whether all source files have
been successfully used to generate object files or not.</p>
<p>When <code class="switch docutils literal notranslate"><span class="pre">-pass-exit-codes</span></code> is used, <code class="docutils literal notranslate"><span class="pre">gcc</span></code> exits with an extended
exit status and allows an integrated development environment to better
react to a compilation failure. Those exit status are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>5</em></p></td>
<td><p>There was an error in at least one source file.</p></td>
</tr>
<tr class="row-even"><td><p><em>3</em></p></td>
<td><p>At least one source file did not generate an object file.</p></td>
</tr>
<tr class="row-odd"><td><p><em>2</em></p></td>
<td><p>The compiler died unexpectedly (internal error for example).</p></td>
</tr>
<tr class="row-even"><td><p><em>0</em></p></td>
<td><p>An object file has been generated for every source file.</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="debugging-control">
<span id="id27"></span><h3><span class="section-number">4.3.15. </span>Debugging Control<a class="headerlink" href="#debugging-control" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><span class="target" id="index-461"></span></div></blockquote>
<dl class="simple" id="index-462">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatd</span><em><span class="pre">x</span></em></code></dt><dd><p>Activate internal debugging switches. <code class="docutils literal notranslate"><span class="pre">x</span></code> is a letter or digit, or
string of letters or digits, which specifies the type of debugging
outputs desired. Normally these are used only for internal development
or system debugging purposes. You can find full documentation for these
switches in the body of the <code class="docutils literal notranslate"><span class="pre">Debug</span></code> unit in the compiler source
file <code class="file docutils literal notranslate"><span class="pre">debug.adb</span></code>.</p>
</dd>
</dl>
<dl id="index-463">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatG[=</span><em><span class="pre">nn</span></em><span class="pre">]</span></code></dt><dd><p>This switch causes the compiler to generate auxiliary output containing
a pseudo-source listing of the generated expanded code. Like most Ada
compilers, GNAT works by first transforming the high level Ada code into
lower level constructs. For example, tasking operations are transformed
into calls to the tasking run-time routines. A unique capability of GNAT
is to list this expanded code in a form very close to normal Ada source.
This is very useful in understanding the implications of various Ada
usage on the efficiency of the generated code. There are many cases in
Ada (e.g., the use of controlled types), where simple Ada statements can
generate a lot of run-time code. By using <code class="switch docutils literal notranslate"><span class="pre">-gnatG</span></code> you can identify
these cases, and consider whether it may be desirable to modify the coding
approach to improve efficiency.</p>
<p>The optional parameter <code class="docutils literal notranslate"><span class="pre">nn</span></code> if present after -gnatG specifies an
alternative maximum line length that overrides the normal default of 72.
This value is in the range 40-999999, values less than 40 being silently
reset to 40. The equal sign is optional.</p>
<p>The format of the output is very similar to standard Ada source, and is
easily understood by an Ada programmer. The following special syntactic
additions correspond to low level features used in the generated code that
do not have any exact analogies in pure Ada source form. The following
is a partial list of these special constructions. See the spec
of package <code class="docutils literal notranslate"><span class="pre">Sprint</span></code> in file <code class="file docutils literal notranslate"><span class="pre">sprint.ads</span></code> for a full list.</p>
<p id="index-464">If the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatL</span></code> is used in conjunction with
<code class="switch docutils literal notranslate"><span class="pre">-gnatG</span></code>, then the original source lines are interspersed
in the expanded source (as comment lines with the original line number).</p>
<dl class="simple">
<dt><code class="samp docutils literal notranslate"><span class="pre">new</span> <em><span class="pre">xxx</span></em> <span class="pre">[storage_pool</span> <span class="pre">=</span> <em><span class="pre">yyy</span></em><span class="pre">]</span></code></dt><dd><p>Shows the storage pool being used for an allocator.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">at</span> <span class="pre">end</span> <em><span class="pre">procedure-name</span></em><span class="pre">;</span></code></dt><dd><p>Shows the finalization (cleanup) procedure for a scope.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">(if</span> <em><span class="pre">expr</span></em> <span class="pre">then</span> <em><span class="pre">expr</span></em> <span class="pre">else</span> <em><span class="pre">expr</span></em><span class="pre">)</span></code></dt><dd><p>Conditional expression equivalent to the <code class="docutils literal notranslate"><span class="pre">x?y:z</span></code> construction in C.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">target</span></em><span class="pre">^(</span><em><span class="pre">source</span></em><span class="pre">)</span></code></dt><dd><p>A conversion with floating-point truncation instead of rounding.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">target</span></em><span class="pre">?(</span><em><span class="pre">source</span></em><span class="pre">)</span></code></dt><dd><p>A conversion that bypasses normal Ada semantic checking. In particular
enumeration types and fixed-point types are treated simply as integers.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">target</span></em><span class="pre">?^(</span><em><span class="pre">source</span></em><span class="pre">)</span></code></dt><dd><p>Combines the above two cases.</p>
</dd>
</dl>
<p><code class="samp docutils literal notranslate"><em><span class="pre">x</span></em> <span class="pre">#/</span> <em><span class="pre">y</span></em></code></p>
<p><code class="samp docutils literal notranslate"><em><span class="pre">x</span></em> <span class="pre">#mod</span> <em><span class="pre">y</span></em></code></p>
<p><code class="samp docutils literal notranslate"><em><span class="pre">x</span></em> <span class="pre">#</span> <em><span class="pre">y</span></em></code></p>
<dl class="simple">
<dt><code class="samp docutils literal notranslate"><em><span class="pre">x</span></em> <span class="pre">#rem</span> <em><span class="pre">y</span></em></code></dt><dd><p>A division or multiplication of fixed-point values which are treated as
integers without any kind of scaling.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">free</span> <em><span class="pre">expr</span></em> <span class="pre">[storage_pool</span> <span class="pre">=</span> <em><span class="pre">xxx</span></em><span class="pre">]</span></code></dt><dd><p>Shows the storage pool associated with a <code class="docutils literal notranslate"><span class="pre">free</span></code> statement.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">[subtype</span> <span class="pre">or</span> <span class="pre">type</span> <span class="pre">declaration]</span></code></dt><dd><p>Used to list an equivalent declaration for an internally generated
type that is referenced elsewhere in the listing.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">freeze</span> <em><span class="pre">type-name</span></em> <span class="pre">[</span><em><span class="pre">actions</span></em><span class="pre">]</span></code></dt><dd><p>Shows the point at which <code class="docutils literal notranslate"><span class="pre">type-name</span></code> is frozen, with possible
associated actions to be performed at the freeze point.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">reference</span> <em><span class="pre">itype</span></em></code></dt><dd><p>Reference (and hence definition) to internal type <code class="docutils literal notranslate"><span class="pre">itype</span></code>.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">function-name</span></em><span class="pre">!</span> <span class="pre">(</span><em><span class="pre">arg</span></em><span class="pre">,</span> <em><span class="pre">arg</span></em><span class="pre">,</span> <em><span class="pre">arg</span></em><span class="pre">)</span></code></dt><dd><p>Intrinsic function call.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">label-name</span></em> <span class="pre">:</span> <span class="pre">label</span></code></dt><dd><p>Declaration of label <code class="docutils literal notranslate"><span class="pre">labelname</span></code>.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">#$</span> <em><span class="pre">subprogram-name</span></em></code></dt><dd><p>An implicit call to a run-time support routine
(to meet the requirement of H.3.1(9) in a
convenient manner).</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">expr</span></em> <span class="pre">&amp;&amp;</span> <em><span class="pre">expr</span></em> <span class="pre">&amp;&amp;</span> <em><span class="pre">expr</span></em> <span class="pre">...</span> <span class="pre">&amp;&amp;</span> <em><span class="pre">expr</span></em></code></dt><dd><p>A multiple concatenation (same effect as <code class="docutils literal notranslate"><span class="pre">expr</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">expr</span></code> &amp;
<code class="docutils literal notranslate"><span class="pre">expr</span></code>, but handled more efficiently).</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">[constraint_error]</span></code></dt><dd><p>Raise the <code class="docutils literal notranslate"><span class="pre">Constraint_Error</span></code> exception.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">expression</span></em><span class="pre">'reference</span></code></dt><dd><p>A pointer to the result of evaluating {expression}.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">target-type</span></em><span class="pre">!(</span><em><span class="pre">source-expression</span></em><span class="pre">)</span></code></dt><dd><p>An unchecked conversion of <code class="docutils literal notranslate"><span class="pre">source-expression</span></code> to <code class="docutils literal notranslate"><span class="pre">target-type</span></code>.</p>
</dd>
<dt><code class="samp docutils literal notranslate"><span class="pre">[</span><em><span class="pre">numerator</span></em><span class="pre">/</span><em><span class="pre">denominator</span></em><span class="pre">]</span></code></dt><dd><p>Used to represent internal real literals (that) have no exact
representation in base 2-16 (for example, the result of compile time
evaluation of the expression 1.0/27.0).</p>
</dd>
</dl>
</dd>
</dl>
<dl id="index-465">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatD[=nn]</span></code></dt><dd><p>When used in conjunction with <code class="switch docutils literal notranslate"><span class="pre">-gnatG</span></code>, this switch causes
the expanded source, as described above for
<code class="switch docutils literal notranslate"><span class="pre">-gnatG</span></code> to be written to files with names
<code class="file docutils literal notranslate"><span class="pre">xxx.dg</span></code>, where <code class="file docutils literal notranslate"><span class="pre">xxx</span></code> is the normal file name,
instead of to the standard output file. For
example, if the source file name is <code class="file docutils literal notranslate"><span class="pre">hello.adb</span></code>, then a file
<code class="file docutils literal notranslate"><span class="pre">hello.adb.dg</span></code> will be written.  The debugging
information generated by the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> <code class="switch docutils literal notranslate"><span class="pre">-g</span></code> switch
will refer to the generated <code class="file docutils literal notranslate"><span class="pre">xxx.dg</span></code> file. This allows
you to do source level debugging using the generated code which is
sometimes useful for complex code, for example to find out exactly
which part of a complex construction raised an exception. This switch
also suppresses generation of cross-reference information (see
<code class="switch docutils literal notranslate"><span class="pre">-gnatx</span></code>) since otherwise the cross-reference information
would refer to the <code class="file docutils literal notranslate"><span class="pre">.dg</span></code> file, which would cause
confusion since this is not the original source file.</p>
<p>Note that <code class="switch docutils literal notranslate"><span class="pre">-gnatD</span></code> actually implies <code class="switch docutils literal notranslate"><span class="pre">-gnatG</span></code>
automatically, so it is not necessary to give both options.
In other words <code class="switch docutils literal notranslate"><span class="pre">-gnatD</span></code> is equivalent to <code class="switch docutils literal notranslate"><span class="pre">-gnatDG</span></code>).</p>
<p id="index-466">If the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatL</span></code> is used in conjunction with
<code class="switch docutils literal notranslate"><span class="pre">-gnatDG</span></code>, then the original source lines are interspersed
in the expanded source (as comment lines with the original line number).</p>
<p>The optional parameter <code class="docutils literal notranslate"><span class="pre">nn</span></code> if present after -gnatD specifies an
alternative maximum line length that overrides the normal default of 72.
This value is in the range 40-999999, values less than 40 being silently
reset to 40. The equal sign is optional.</p>
</dd>
</dl>
<span class="target" id="index-467"></span><dl class="simple" id="index-468">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatr</span></code></dt><dd><p>This switch causes pragma Restrictions to be treated as Restriction_Warnings
so that violation of restrictions causes warnings rather than illegalities.
This is useful during the development process when new restrictions are added
or investigated. The switch also causes pragma Profile to be treated as
Profile_Warnings, and pragma Restricted_Run_Time and pragma Ravenscar set
restriction warnings rather than restrictions.</p>
</dd>
</dl>
<dl id="index-469">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatR[0|1|2|3|4][e][j][m][s]</span></code></dt><dd><p>This switch controls output from the compiler of a listing showing
representation information for declared types, objects and subprograms.
For <code class="switch docutils literal notranslate"><span class="pre">-gnatR0</span></code>, no information is output (equivalent to omitting
the <code class="switch docutils literal notranslate"><span class="pre">-gnatR</span></code> switch). For <code class="switch docutils literal notranslate"><span class="pre">-gnatR1</span></code> (which is the default,
so <code class="switch docutils literal notranslate"><span class="pre">-gnatR</span></code> with no parameter has the same effect), size and
alignment information is listed for declared array and record types.</p>
<p>For <code class="switch docutils literal notranslate"><span class="pre">-gnatR2</span></code>, size and alignment information is listed for all
declared types and objects. The <code class="docutils literal notranslate"><span class="pre">Linker_Section</span></code> is also listed for any
entity for which the <code class="docutils literal notranslate"><span class="pre">Linker_Section</span></code> is set explicitly or implicitly (the
latter case occurs for objects of a type for which a <code class="docutils literal notranslate"><span class="pre">Linker_Section</span></code>
is set).</p>
<p>For <code class="switch docutils literal notranslate"><span class="pre">-gnatR3</span></code>, symbolic expressions for values that are computed
at run time for records are included. These symbolic expressions have
a mostly obvious format with #n being used to represent the value of the
n’th discriminant. See source files <code class="file docutils literal notranslate"><span class="pre">repinfo.ads/adb</span></code> in the
GNAT sources for full details on the format of <code class="switch docutils literal notranslate"><span class="pre">-gnatR3</span></code> output.</p>
<p>For <code class="switch docutils literal notranslate"><span class="pre">-gnatR4</span></code>, information for relevant compiler-generated types
is also listed, i.e. when they are structurally part of other declared
types and objects.</p>
<p>If the switch is followed by an <code class="docutils literal notranslate"><span class="pre">e</span></code> (e.g. <code class="switch docutils literal notranslate"><span class="pre">-gnatR2e</span></code>), then
extended representation information for record sub-components of records
is included.</p>
<p>If the switch is followed by an <code class="docutils literal notranslate"><span class="pre">m</span></code> (e.g. <code class="switch docutils literal notranslate"><span class="pre">-gnatRm</span></code>), then
subprogram conventions and parameter passing mechanisms for all the
subprograms are included.</p>
<p>If the switch is followed by a <code class="docutils literal notranslate"><span class="pre">j</span></code> (e.g., <code class="switch docutils literal notranslate"><span class="pre">-gnatRj</span></code>), then
the output is in the JSON data interchange format specified by the
ECMA-404 standard. The semantic description of this JSON output is
available in the specification of the Repinfo unit present in the
compiler sources.</p>
<p>If the switch is followed by an <code class="docutils literal notranslate"><span class="pre">s</span></code> (e.g., <code class="switch docutils literal notranslate"><span class="pre">-gnatR3s</span></code>), then
the output is to a file with the name <code class="file docutils literal notranslate"><span class="pre">file.rep</span></code> where <code class="docutils literal notranslate"><span class="pre">file</span></code> is
the name of the corresponding source file, except if <code class="docutils literal notranslate"><span class="pre">j</span></code> is also
specified, in which case the file name is <code class="file docutils literal notranslate"><span class="pre">file.json</span></code>.</p>
<p>Note that it is possible for record components to have zero size. In
this case, the component clause uses an obvious extension of permitted
Ada syntax, for example <code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">0</span> <span class="pre">range</span> <span class="pre">0</span> <span class="pre">..</span> <span class="pre">-1</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-470">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatS</span></code></dt><dd><p>The use of the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatS</span></code> for an
Ada compilation will cause the compiler to output a
representation of package Standard in a form very
close to standard Ada. It is not quite possible to
do this entirely in standard Ada (since new
numeric base types cannot be created in standard
Ada), but the output is easily
readable to any Ada programmer, and is useful to
determine the characteristics of target dependent
types in package Standard.</p>
</dd>
</dl>
<dl class="simple" id="index-471">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatx</span></code></dt><dd><p>Normally the compiler generates full cross-referencing information in
the <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file. This information is used by a number of tools,
including <code class="docutils literal notranslate"><span class="pre">gnatfind</span></code> and <code class="docutils literal notranslate"><span class="pre">gnatxref</span></code>. The <code class="switch docutils literal notranslate"><span class="pre">-gnatx</span></code> switch
suppresses this information. This saves some space and may slightly
speed up compilation, but means that these tools cannot be used.</p>
</dd>
</dl>
<dl id="index-472">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fgnat-encodings=[all|gdb|minimal]</span></code></dt><dd><p>This switch controls the balance between GNAT encodings and standard DWARF
emitted in the debug information.</p>
<p>Historically, old debug formats like stabs were not powerful enough to
express some Ada types (for instance, variant records or fixed-point types).
To work around this, GNAT introduced proprietary encodings that embed the
missing information (“GNAT encodings”).</p>
<p>Recent versions of the DWARF debug information format are now able to
correctly describe most of these Ada constructs (“standard DWARF”). As
third-party tools started to use this format, GNAT has been enhanced to
generate it. However, most tools (including GDB) are still relying on GNAT
encodings.</p>
<p>To support all tools, GNAT needs to be versatile about the balance between
generation of GNAT encodings and standard DWARF. This is what
<code class="switch docutils literal notranslate"><span class="pre">-fgnat-encodings</span></code> is about.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">=all</span></code>: Emit all GNAT encodings, and then emit as much standard DWARF as
possible so it does not conflict with GNAT encodings.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=gdb</span></code>: Emit as much standard DWARF as possible as long as the current
GDB handles it. Emit GNAT encodings for the rest.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=minimal</span></code>: Emit as much standard DWARF as possible and emit GNAT
encodings for the rest.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="exception-handling-control">
<span id="id28"></span><h3><span class="section-number">4.3.16. </span>Exception Handling Control<a class="headerlink" href="#exception-handling-control" title="Permalink to this headline">¶</a></h3>
<p>GNAT uses two methods for handling exceptions at run time. The
<code class="docutils literal notranslate"><span class="pre">setjmp/longjmp</span></code> method saves the context when entering
a frame with an exception handler. Then when an exception is
raised, the context can be restored immediately, without the
need for tracing stack frames. This method provides very fast
exception propagation, but introduces significant overhead for
the use of exception handlers, even if no exception is raised.</p>
<p>The other approach is called ‘zero cost’ exception handling.
With this method, the compiler builds static tables to describe
the exception ranges. No dynamic code is required when entering
a frame containing an exception handler. When an exception is
raised, the tables are used to control a back trace of the
subprogram invocation stack to locate the required exception
handler. This method has considerably poorer performance for
the propagation of exceptions, but there is no overhead for
exception handlers if no exception is raised. Note that in this
mode and in the context of mixed Ada and C/C++ programming,
to propagate an exception through a C/C++ code, the C/C++ code
must be compiled with the <code class="switch docutils literal notranslate"><span class="pre">-funwind-tables</span></code> GCC’s
option.</p>
<p>The following switches may be used to control which of the
two exception handling methods is used.</p>
<dl class="simple" id="index-473">
<dt><code class="switch docutils literal notranslate"><span class="pre">--RTS=sjlj</span></code></dt><dd><p>This switch causes the setjmp/longjmp run-time (when available) to be used
for exception handling. If the default
mechanism for the target is zero cost exceptions, then
this switch can be used to modify this default, and must be
used for all units in the partition.
This option is rarely used. One case in which it may be
advantageous is if you have an application where exception
raising is common and the overall performance of the
application is improved by favoring exception propagation.</p>
</dd>
</dl>
<span class="target" id="index-474"></span><dl class="simple" id="index-475">
<dt><code class="switch docutils literal notranslate"><span class="pre">--RTS=zcx</span></code></dt><dd><p>This switch causes the zero cost approach to be used
for exception handling. If this is the default mechanism for the
target (see below), then this switch is unneeded. If the default
mechanism for the target is setjmp/longjmp exceptions, then
this switch can be used to modify this default, and must be
used for all units in the partition.
This option can only be used if the zero cost approach
is available for the target in use, otherwise it will generate an error.</p>
</dd>
</dl>
<p>The same option <code class="switch docutils literal notranslate"><span class="pre">--RTS</span></code> must be used both for <code class="docutils literal notranslate"><span class="pre">gcc</span></code>
and <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>. Passing this option to <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>
(<a class="reference internal" href="#switches-for-gnatmake"><span class="std std-ref">Switches for gnatmake</span></a>) will ensure the required consistency
through the compilation and binding steps.</p>
</div>
<div class="section" id="units-to-sources-mapping-files">
<span id="id29"></span><h3><span class="section-number">4.3.17. </span>Units to Sources Mapping Files<a class="headerlink" href="#units-to-sources-mapping-files" title="Permalink to this headline">¶</a></h3>
<dl id="index-476">
<dt><code class="switch docutils literal notranslate"><span class="pre">-gnatem=</span><em><span class="pre">path</span></em></code></dt><dd><p>A mapping file is a way to communicate to the compiler two mappings:
from unit names to file names (without any directory information) and from
file names to path names (with full directory information). These mappings
are used by the compiler to short-circuit the path search.</p>
<p>The use of mapping files is not required for correct operation of the
compiler, but mapping files can improve efficiency, particularly when
sources are read over a slow network connection. In normal operation,
you need not be concerned with the format or use of mapping files,
and the <code class="switch docutils literal notranslate"><span class="pre">-gnatem</span></code> switch is not a switch that you would use
explicitly. It is intended primarily for use by automatic tools such as
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> running under the project file facility. The
description here of the format of mapping files is provided
for completeness and for possible use by other tools.</p>
<p>A mapping file is a sequence of sets of three lines. In each set, the
first line is the unit name, in lower case, with <code class="docutils literal notranslate"><span class="pre">%s</span></code> appended
for specs and <code class="docutils literal notranslate"><span class="pre">%b</span></code> appended for bodies; the second line is the
file name; and the third line is the path name.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">main</span><span class="o">%</span><span class="n">b</span>
<span class="n">main</span><span class="o">.</span><span class="mf">2.</span><span class="n">ada</span>
<span class="o">/</span><span class="n">gnat</span><span class="o">/</span><span class="n">project1</span><span class="o">/</span><span class="n">sources</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="mf">2.</span><span class="n">ada</span>
</pre></div>
</div>
<p>When the switch <code class="switch docutils literal notranslate"><span class="pre">-gnatem</span></code> is specified, the compiler will
create in memory the two mappings from the specified file. If there is
any problem (nonexistent file, truncated file or duplicate entries),
no mapping will be created.</p>
<p>Several <code class="switch docutils literal notranslate"><span class="pre">-gnatem</span></code> switches may be specified; however, only the
last one on the command line will be taken into account.</p>
<p>When using a project file, <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> creates a temporary
mapping file and communicates it to the compiler using this switch.</p>
</dd>
</dl>
</div>
<div class="section" id="code-generation-control">
<span id="id30"></span><h3><span class="section-number">4.3.18. </span>Code Generation Control<a class="headerlink" href="#code-generation-control" title="Permalink to this headline">¶</a></h3>
<p>The GCC technology provides a wide range of target dependent
<code class="switch docutils literal notranslate"><span class="pre">-m</span></code> switches for controlling
details of code generation with respect to different versions of
architectures. This includes variations in instruction sets (e.g.,
different members of the power pc family), and different requirements
for optimal arrangement of instructions (e.g., different members of
the x86 family). The list of available <code class="switch docutils literal notranslate"><span class="pre">-m</span></code> switches may be
found in the GCC documentation.</p>
<p>Use of these <code class="switch docutils literal notranslate"><span class="pre">-m</span></code> switches may in some cases result in improved
code performance.</p>
<p>The GNAT technology is tested and qualified without any
<code class="switch docutils literal notranslate"><span class="pre">-m</span></code> switches,
so generally the most reliable approach is to avoid the use of these
switches. However, we generally expect most of these switches to work
successfully with GNAT, and many customers have reported successful
use of these options.</p>
<p>Our general advice is to avoid the use of <code class="switch docutils literal notranslate"><span class="pre">-m</span></code> switches unless
special needs lead to requirements in this area. In particular,
there is no point in using <code class="switch docutils literal notranslate"><span class="pre">-m</span></code> switches to improve performance
unless you actually see a performance improvement.</p>
</div>
</div>
<div class="section" id="linker-switches">
<span id="id31"></span><h2><span class="section-number">4.4. </span>Linker Switches<a class="headerlink" href="#linker-switches" title="Permalink to this headline">¶</a></h2>
<p>Linker switches can be specified after <code class="switch docutils literal notranslate"><span class="pre">-largs</span></code> builder switch.</p>
<dl class="simple" id="index-477">
<dt><code class="switch docutils literal notranslate"><span class="pre">-fuse-ld=</span><em><span class="pre">name</span></em></code></dt><dd><p>Linker to be used. The default is <code class="docutils literal notranslate"><span class="pre">bfd</span></code> for <code class="file docutils literal notranslate"><span class="pre">ld.bfd</span></code>,
the alternative being <code class="docutils literal notranslate"><span class="pre">gold</span></code> for <code class="file docutils literal notranslate"><span class="pre">ld.gold</span></code>. The later is
a more recent and faster linker, but only available on GNU/Linux
platforms.</p>
</dd>
</dl>
</div>
<div class="section" id="binding-with-gnatbind">
<span id="id32"></span><h2><span class="section-number">4.5. </span>Binding with <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code><a class="headerlink" href="#binding-with-gnatbind" title="Permalink to this headline">¶</a></h2>
<p id="index-478">This chapter describes the GNAT binder, <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>, which is used
to bind compiled GNAT objects.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> program performs four separate functions:</p>
<ul class="simple">
<li><p>Checks that a program is consistent, in accordance with the rules in
Chapter 10 of the Ada Reference Manual. In particular, error
messages are generated if a program uses inconsistent versions of a
given unit.</p></li>
<li><p>Checks that an acceptable order of elaboration exists for the program
and issues an error message if it cannot find an order of elaboration
that satisfies the rules in Chapter 10 of the Ada Language Manual.</p></li>
<li><p>Generates a main program incorporating the given elaboration order.
This program is a small Ada package (body and spec) that
must be subsequently compiled
using the GNAT compiler. The necessary compilation step is usually
performed automatically by <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code>. The two most important
functions of this program
are to call the elaboration routines of units in an appropriate order
and to call the main program.</p></li>
<li><p>Determines the set of object files required by the given main program.
This information is output in the forms of comments in the generated program,
to be read by the <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> utility used to link the Ada application.</p></li>
</ul>
<div class="section" id="running-gnatbind">
<span id="id33"></span><h3><span class="section-number">4.5.1. </span>Running <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code><a class="headerlink" href="#running-gnatbind" title="Permalink to this headline">¶</a></h3>
<p>The form of the <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> command is</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gnatbind <span class="o">[</span> switches <span class="o">]</span> mainprog<span class="o">[</span>.ali<span class="o">]</span> <span class="o">[</span> switches <span class="o">]</span>
</pre></div>
</div>
<p>where <code class="file docutils literal notranslate"><span class="pre">mainprog.adb</span></code> is the Ada file containing the main program
unit body. <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> constructs an Ada
package in two files whose names are
<code class="file docutils literal notranslate"><span class="pre">b~mainprog.ads</span></code>, and <code class="file docutils literal notranslate"><span class="pre">b~mainprog.adb</span></code>.
For example, if given the
parameter <code class="file docutils literal notranslate"><span class="pre">hello.ali</span></code>, for a main program contained in file
<code class="file docutils literal notranslate"><span class="pre">hello.adb</span></code>, the binder output files would be <code class="file docutils literal notranslate"><span class="pre">b~hello.ads</span></code>
and <code class="file docutils literal notranslate"><span class="pre">b~hello.adb</span></code>.</p>
<p>When doing consistency checking, the binder takes into consideration
any source files it can locate. For example, if the binder determines
that the given main program requires the package <code class="docutils literal notranslate"><span class="pre">Pack</span></code>, whose
<code class="file docutils literal notranslate"><span class="pre">.ALI</span></code>
file is <code class="file docutils literal notranslate"><span class="pre">pack.ali</span></code> and whose corresponding source spec file is
<code class="file docutils literal notranslate"><span class="pre">pack.ads</span></code>, it attempts to locate the source file <code class="file docutils literal notranslate"><span class="pre">pack.ads</span></code>
(using the same search path conventions as previously described for the
<code class="docutils literal notranslate"><span class="pre">gcc</span></code> command). If it can locate this source file, it checks that
the time stamps
or source checksums of the source and its references to in <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> files
match. In other words, any <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> files that mentions this spec must have
resulted from compiling this version of the source file (or in the case
where the source checksums match, a version close enough that the
difference does not matter).</p>
<p id="index-479">The effect of this consistency checking, which includes source files, is
that the binder ensures that the program is consistent with the latest
version of the source files that can be located at bind time. Editing a
source file without compiling files that depend on the source file cause
error messages to be generated by the binder.</p>
<p>For example, suppose you have a main program <code class="file docutils literal notranslate"><span class="pre">hello.adb</span></code> and a
package <code class="docutils literal notranslate"><span class="pre">P</span></code>, from file <code class="file docutils literal notranslate"><span class="pre">p.ads</span></code> and you perform the following
steps:</p>
<ul class="simple">
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">-c</span> <span class="pre">hello.adb</span></code> to compile the main program.</p></li>
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">-c</span> <span class="pre">p.ads</span></code> to compile package <code class="docutils literal notranslate"><span class="pre">P</span></code>.</p></li>
<li><p>Edit file <code class="file docutils literal notranslate"><span class="pre">p.ads</span></code>.</p></li>
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">gnatbind</span> <span class="pre">hello</span></code>.</p></li>
</ul>
<p>At this point, the file <code class="file docutils literal notranslate"><span class="pre">p.ali</span></code> contains an out-of-date time stamp
because the file <code class="file docutils literal notranslate"><span class="pre">p.ads</span></code> has been edited. The attempt at binding
fails, and the binder generates the following error messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">error</span><span class="p">:</span> <span class="s2">&quot;hello.adb&quot;</span> <span class="n">must</span> <span class="n">be</span> <span class="n">recompiled</span> <span class="p">(</span><span class="s2">&quot;p.ads&quot;</span> <span class="n">has</span> <span class="n">been</span> <span class="n">modified</span><span class="p">)</span>
<span class="n">error</span><span class="p">:</span> <span class="s2">&quot;p.ads&quot;</span> <span class="n">has</span> <span class="n">been</span> <span class="n">modified</span> <span class="ow">and</span> <span class="n">must</span> <span class="n">be</span> <span class="n">recompiled</span>
</pre></div>
</div>
<p>Now both files must be recompiled as indicated, and then the bind can
succeed, generating a main program. You need not normally be concerned
with the contents of this file, but for reference purposes a sample
binder output file is given in <a class="reference internal" href="example_of_binder_output.html#example-of-binder-output-file"><span class="std std-ref">Example of Binder Output File</span></a>.</p>
<p>In most normal usage, the default mode of <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> which is to
generate the main package in Ada, as described in the previous section.
In particular, this means that any Ada programmer can read and understand
the generated main program. It can also be debugged just like any other
Ada code provided the <code class="switch docutils literal notranslate"><span class="pre">-g</span></code> switch is used for
<code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> and <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code>.</p>
</div>
<div class="section" id="switches-for-gnatbind">
<span id="id34"></span><h3><span class="section-number">4.5.2. </span>Switches for <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code><a class="headerlink" href="#switches-for-gnatbind" title="Permalink to this headline">¶</a></h3>
<p>The following switches are available with <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>; details will
be presented in subsequent sections.</p>
<dl class="simple" id="index-480">
<dt><code class="switch docutils literal notranslate"><span class="pre">--version</span></code></dt><dd><p>Display Copyright and version, then exit disregarding all other options.</p>
</dd>
</dl>
<dl class="simple" id="index-481">
<dt><code class="switch docutils literal notranslate"><span class="pre">--help</span></code></dt><dd><p>If <code class="switch docutils literal notranslate"><span class="pre">--version</span></code> was not used, display usage, then exit disregarding
all other options.</p>
</dd>
</dl>
<dl class="simple" id="index-482">
<dt><code class="switch docutils literal notranslate"><span class="pre">-a</span></code></dt><dd><p>Indicates that, if supported by the platform, the adainit procedure should
be treated as an initialisation routine by the linker (a constructor). This
is intended to be used by the Project Manager to automatically initialize
shared Stand-Alone Libraries.</p>
</dd>
</dl>
<dl class="simple" id="index-483">
<dt><code class="switch docutils literal notranslate"><span class="pre">-aO</span></code></dt><dd><p>Specify directory to be searched for ALI files.</p>
</dd>
</dl>
<dl class="simple" id="index-484">
<dt><code class="switch docutils literal notranslate"><span class="pre">-aI</span></code></dt><dd><p>Specify directory to be searched for source file.</p>
</dd>
</dl>
<dl class="simple" id="index-485">
<dt><code class="switch docutils literal notranslate"><span class="pre">-A[=</span><em><span class="pre">filename</span></em><span class="pre">]</span></code></dt><dd><p>Output ALI list (to standard output or to the named file).</p>
</dd>
</dl>
<dl class="simple" id="index-486">
<dt><code class="switch docutils literal notranslate"><span class="pre">-b</span></code></dt><dd><p>Generate brief messages to <code class="file docutils literal notranslate"><span class="pre">stderr</span></code> even if verbose mode set.</p>
</dd>
</dl>
<dl class="simple" id="index-487">
<dt><code class="switch docutils literal notranslate"><span class="pre">-c</span></code></dt><dd><p>Check only, no generation of binder output file.</p>
</dd>
</dl>
<dl id="index-488">
<dt><code class="switch docutils literal notranslate"><span class="pre">-d</span><em><span class="pre">nn</span></em><span class="pre">[k|m]</span></code></dt><dd><p>This switch can be used to change the default task stack size value
to a specified size <code class="docutils literal notranslate"><span class="pre">nn</span></code>, which is expressed in bytes by default, or
in kilobytes when suffixed with <code class="docutils literal notranslate"><span class="pre">k</span></code> or in megabytes when suffixed
with <code class="docutils literal notranslate"><span class="pre">m</span></code>.
In the absence of a <code class="samp docutils literal notranslate"><span class="pre">[k|m]</span></code> suffix, this switch is equivalent,
in effect, to completing all task specs with</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="kr">pragma</span><span class="p"> </span><span class="n">Storage_Size</span> <span class="o">(</span><span class="n">nn</span><span class="o">)</span><span class="p">;</span>
</pre></div>
</div>
<p>When they do not already have such a pragma.</p>
</dd>
</dl>
<dl id="index-489">
<dt><code class="switch docutils literal notranslate"><span class="pre">-D</span><em><span class="pre">nn</span></em><span class="pre">[k|m]</span></code></dt><dd><p>Set the default secondary stack size to <code class="docutils literal notranslate"><span class="pre">nn</span></code>. The suffix indicates whether
the size is in bytes (no suffix), kilobytes (<code class="docutils literal notranslate"><span class="pre">k</span></code> suffix) or megabytes
(<code class="docutils literal notranslate"><span class="pre">m</span></code> suffix).</p>
<p>The secondary stack holds objects of unconstrained types that are returned by
functions, for example unconstrained Strings. The size of the secondary stack
can be dynamic or fixed depending on the target.</p>
<p>For most targets, the secondary stack grows on demand and is implemented as
a chain of blocks in the heap. In this case, the default secondary stack size
determines the initial size of the secondary stack for each task and the
smallest amount the secondary stack can grow by.</p>
<p>For Ravenscar, ZFP, and Cert run-times the size of the secondary stack is
fixed. This switch can be used to change the default size of these stacks.
The default secondary stack size can be overridden on a per-task basis if
individual tasks have different secondary stack requirements. This is
achieved through the Secondary_Stack_Size aspect that takes the size of the
secondary stack in bytes.</p>
</dd>
</dl>
<dl class="simple" id="index-490">
<dt><code class="switch docutils literal notranslate"><span class="pre">-e</span></code></dt><dd><p>Output complete list of elaboration-order dependencies.</p>
</dd>
</dl>
<dl id="index-491">
<dt><code class="switch docutils literal notranslate"><span class="pre">-Ea</span></code></dt><dd><p>Store tracebacks in exception occurrences when the target supports it.
The “a” is for “address”; tracebacks will contain hexadecimal addresses,
unless symbolic tracebacks are enabled.</p>
<p>See also the packages <code class="docutils literal notranslate"><span class="pre">GNAT.Traceback</span></code> and
<code class="docutils literal notranslate"><span class="pre">GNAT.Traceback.Symbolic</span></code> for more information.
Note that on x86 ports, you must not use <code class="switch docutils literal notranslate"><span class="pre">-fomit-frame-pointer</span></code>
<code class="docutils literal notranslate"><span class="pre">gcc</span></code> option.</p>
</dd>
</dl>
<dl class="simple" id="index-492">
<dt><code class="switch docutils literal notranslate"><span class="pre">-Es</span></code></dt><dd><p>Store tracebacks in exception occurrences when the target supports it.
The “s” is for “symbolic”; symbolic tracebacks are enabled.</p>
</dd>
</dl>
<dl class="simple" id="index-493">
<dt><code class="switch docutils literal notranslate"><span class="pre">-E</span></code></dt><dd><p>Currently the same as <code class="docutils literal notranslate"><span class="pre">-Ea</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-494">
<dt><code class="switch docutils literal notranslate"><span class="pre">-f</span><em><span class="pre">elab-order</span></em></code></dt><dd><p>Force elaboration order. For further details see <a class="reference internal" href="#elaboration-control"><span class="std std-ref">Elaboration Control</span></a>
and <a class="reference internal" href="elaboration_order_handling_in_gnat.html#elaboration-order-handling-in-gnat"><span class="std std-ref">Elaboration Order Handling in GNAT</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-495">
<dt><code class="switch docutils literal notranslate"><span class="pre">-F</span></code></dt><dd><p>Force the checks of elaboration flags. <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> does not normally
generate checks of elaboration flags for the main executable, except when
a Stand-Alone Library is used. However, there are cases when this cannot be
detected by gnatbind. An example is importing an interface of a Stand-Alone
Library through a pragma Import and only specifying through a linker switch
this Stand-Alone Library. This switch is used to guarantee that elaboration
flag checks are generated.</p>
</dd>
</dl>
<dl class="simple" id="index-496">
<dt><code class="switch docutils literal notranslate"><span class="pre">-h</span></code></dt><dd><p>Output usage (help) information.</p>
</dd>
</dl>
<dl class="simple" id="index-497">
<dt><code class="switch docutils literal notranslate"><span class="pre">-H</span></code></dt><dd><p>Legacy elaboration order model enabled. For further details see
<a class="reference internal" href="elaboration_order_handling_in_gnat.html#elaboration-order-handling-in-gnat"><span class="std std-ref">Elaboration Order Handling in GNAT</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="index-498">
<dt><code class="switch docutils literal notranslate"><span class="pre">-H32</span></code></dt><dd><p>Use 32-bit allocations for <code class="docutils literal notranslate"><span class="pre">__gnat_malloc</span></code> (and thus for access types).
For further details see <a class="reference internal" href="#dynamic-allocation-control"><span class="std std-ref">Dynamic Allocation Control</span></a>.</p>
</dd>
</dl>
<span class="target" id="index-499"></span><dl id="index-500">
<dt><code class="switch docutils literal notranslate"><span class="pre">-H64</span></code></dt><dd><p>Use 64-bit allocations for <code class="docutils literal notranslate"><span class="pre">__gnat_malloc</span></code> (and thus for access types).
For further details see <a class="reference internal" href="#dynamic-allocation-control"><span class="std std-ref">Dynamic Allocation Control</span></a>.</p>
</dd>
<dt id="index-501"><code class="switch docutils literal notranslate"><span class="pre">-I</span></code></dt><dd><p>Specify directory to be searched for source and ALI files.</p>
</dd>
<dt id="index-502"><code class="switch docutils literal notranslate"><span class="pre">-I-</span></code></dt><dd><p>Do not look for sources in the current directory where <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> was
invoked, and do not look for ALI files in the directory containing the
ALI file named in the <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> command line.</p>
</dd>
<dt id="index-503"><code class="switch docutils literal notranslate"><span class="pre">-l</span></code></dt><dd><p>Output chosen elaboration order.</p>
</dd>
<dt id="index-504"><code class="switch docutils literal notranslate"><span class="pre">-L</span><em><span class="pre">xxx</span></em></code></dt><dd><p>Bind the units for library building. In this case the <code class="docutils literal notranslate"><span class="pre">adainit</span></code> and
<code class="docutils literal notranslate"><span class="pre">adafinal</span></code> procedures (<a class="reference internal" href="#binding-with-non-ada-main-programs"><span class="std std-ref">Binding with Non-Ada Main Programs</span></a>)
are renamed to <code class="samp docutils literal notranslate"><em><span class="pre">xxx</span></em><span class="pre">init</span></code> and
<code class="samp docutils literal notranslate"><em><span class="pre">xxx</span></em><span class="pre">final</span></code>.
Implies -n.
(<a class="reference internal" href="the_gnat_compilation_model.html#gnat-and-libraries"><span class="std std-ref">GNAT and Libraries</span></a>, for more details.)</p>
</dd>
<dt id="index-505"><code class="switch docutils literal notranslate"><span class="pre">-M</span><em><span class="pre">xyz</span></em></code></dt><dd><p>Rename generated main program from main to xyz. This option is
supported on cross environments only.</p>
</dd>
<dt id="index-506"><code class="switch docutils literal notranslate"><span class="pre">-m</span><em><span class="pre">n</span></em></code></dt><dd><p>Limit number of detected errors or warnings to <code class="docutils literal notranslate"><span class="pre">n</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is
in the range 1..999999. The default value if no switch is
given is 9999. If the number of warnings reaches this limit, then a
message is output and further warnings are suppressed, the bind
continues in this case. If the number of errors reaches this
limit, then a message is output and the bind is abandoned.
A value of zero means that no limit is enforced. The equal
sign is optional.</p>
</dd>
<dt id="index-507"><code class="switch docutils literal notranslate"><span class="pre">-minimal</span></code></dt><dd><p>Generate a binder file suitable for space-constrained applications. When
active, binder-generated objects not required for program operation are no
longer generated. <strong>Warning:</strong> this option comes with the following
limitations:</p>
<ul class="simple">
<li><p>Starting the program’s execution in the debugger will cause it to
stop at the start of the <code class="docutils literal notranslate"><span class="pre">main</span></code> function instead of the main subprogram.
This can be worked around by manually inserting a breakpoint on that
subprogram and resuming the program’s execution until reaching that breakpoint.</p></li>
<li><p>Programs using GNAT.Compiler_Version will not link.</p></li>
</ul>
</dd>
<dt id="index-508"><code class="switch docutils literal notranslate"><span class="pre">-n</span></code></dt><dd><p>No main program.</p>
</dd>
<dt id="index-509"><code class="switch docutils literal notranslate"><span class="pre">-nostdinc</span></code></dt><dd><p>Do not look for sources in the system default directory.</p>
</dd>
<dt id="index-510"><code class="switch docutils literal notranslate"><span class="pre">-nostdlib</span></code></dt><dd><p>Do not look for library files in the system default directory.</p>
</dd>
<dt id="index-511"><code class="switch docutils literal notranslate"><span class="pre">--RTS=</span><em><span class="pre">rts-path</span></em></code></dt><dd><p>Specifies the default location of the run-time library. Same meaning as the
equivalent <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> flag (<a class="reference internal" href="#switches-for-gnatmake"><span class="std std-ref">Switches for gnatmake</span></a>).</p>
</dd>
<dt id="index-512"><code class="switch docutils literal notranslate"><span class="pre">-o</span> <em><span class="pre">file</span></em></code></dt><dd><p>Name the output file <code class="docutils literal notranslate"><span class="pre">file</span></code> (default is <code class="file docutils literal notranslate"><span class="pre">b~`xxx</span></code>.adb`).
Note that if this option is used, then linking must be done manually,
gnatlink cannot be used.</p>
</dd>
<dt id="index-513"><code class="switch docutils literal notranslate"><span class="pre">-O[=</span><em><span class="pre">filename</span></em><span class="pre">]</span></code></dt><dd><p>Output object list (to standard output or to the named file).</p>
</dd>
<dt id="index-514"><code class="switch docutils literal notranslate"><span class="pre">-p</span></code></dt><dd><p>Pessimistic (worst-case) elaboration order.</p>
</dd>
<dt id="index-515"><code class="switch docutils literal notranslate"><span class="pre">-P</span></code></dt><dd><p>Generate binder file suitable for CodePeer.</p>
</dd>
<dt id="index-516"><code class="switch docutils literal notranslate"><span class="pre">-R</span></code></dt><dd><p>Output closure source list, which includes all non-run-time units that are
included in the bind.</p>
</dd>
<dt id="index-517"><code class="switch docutils literal notranslate"><span class="pre">-Ra</span></code></dt><dd><p>Like <code class="switch docutils literal notranslate"><span class="pre">-R</span></code> but the list includes run-time units.</p>
</dd>
<dt id="index-518"><code class="switch docutils literal notranslate"><span class="pre">-s</span></code></dt><dd><p>Require all source files to be present.</p>
</dd>
<dt id="index-519"><code class="switch docutils literal notranslate"><span class="pre">-S</span><em><span class="pre">xxx</span></em></code></dt><dd><p>Specifies the value to be used when detecting uninitialized scalar
objects with pragma Initialize_Scalars.
The <code class="docutils literal notranslate"><span class="pre">xxx</span></code> string specified with the switch is one of:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">in</span></code> for an invalid value.</p>
<p>If zero is invalid for the discrete type in question,
then the scalar value is set to all zero bits.
For signed discrete types, the largest possible negative value of
the underlying scalar is set (i.e. a one bit followed by all zero bits).
For unsigned discrete types, the underlying scalar value is set to all
one bits. For floating-point types, a NaN value is set
(see body of package System.Scalar_Values for exact values).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">lo</span></code> for low value.</p>
<p>If zero is invalid for the discrete type in question,
then the scalar value is set to all zero bits.
For signed discrete types, the largest possible negative value of
the underlying scalar is set (i.e. a one bit followed by all zero bits).
For unsigned discrete types, the underlying scalar value is set to all
zero bits. For floating-point, a small value is set
(see body of package System.Scalar_Values for exact values).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hi</span></code> for high value.</p>
<p>If zero is invalid for the discrete type in question,
then the scalar value is set to all one bits.
For signed discrete types, the largest possible positive value of
the underlying scalar is set (i.e. a zero bit followed by all one bits).
For unsigned discrete types, the underlying scalar value is set to all
one bits. For floating-point, a large value is set
(see body of package System.Scalar_Values for exact values).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">xx</span></code> for hex value (two hex digits).</p>
<p>The underlying scalar is set to a value consisting of repeated bytes, whose
value corresponds to the given value. For example if <code class="docutils literal notranslate"><span class="pre">BF</span></code> is given,
then a 32-bit scalar value will be set to the bit patterm <code class="docutils literal notranslate"><span class="pre">16#BFBFBFBF#</span></code>.</p>
</li>
</ul>
<p id="index-520">In addition, you can specify <code class="switch docutils literal notranslate"><span class="pre">-Sev</span></code> to indicate that the value is
to be set at run time. In this case, the program will look for an environment
variable of the form <code class="samp docutils literal notranslate"><span class="pre">GNAT_INIT_SCALARS=</span><em><span class="pre">yy</span></em></code>, where <code class="docutils literal notranslate"><span class="pre">yy</span></code> is one
of <code class="samp docutils literal notranslate"><span class="pre">in/lo/hi/</span><em><span class="pre">xx</span></em></code> with the same meanings as above.
If no environment variable is found, or if it does not have a valid value,
then the default is <code class="docutils literal notranslate"><span class="pre">in</span></code> (invalid values).</p>
</dd>
</dl>
<dl id="index-521">
<dt><code class="switch docutils literal notranslate"><span class="pre">-static</span></code></dt><dd><p>Link against a static GNAT run-time.</p>
</dd>
<dt id="index-522"><code class="switch docutils literal notranslate"><span class="pre">-shared</span></code></dt><dd><p>Link against a shared GNAT run-time when available.</p>
</dd>
<dt id="index-523"><code class="switch docutils literal notranslate"><span class="pre">-t</span></code></dt><dd><p>Tolerate time stamp and other consistency errors.</p>
</dd>
<dt id="index-524"><code class="switch docutils literal notranslate"><span class="pre">-T</span><em><span class="pre">n</span></em></code></dt><dd><p>Set the time slice value to <code class="docutils literal notranslate"><span class="pre">n</span></code> milliseconds. If the system supports
the specification of a specific time slice value, then the indicated value
is used. If the system does not support specific time slice values, but
does support some general notion of round-robin scheduling, then any
nonzero value will activate round-robin scheduling.</p>
<p>A value of zero is treated specially. It turns off time
slicing, and in addition, indicates to the tasking run-time that the
semantics should match as closely as possible the Annex D
requirements of the Ada RM, and in particular sets the default
scheduling policy to <code class="docutils literal notranslate"><span class="pre">FIFO_Within_Priorities</span></code>.</p>
</dd>
<dt id="index-525"><code class="switch docutils literal notranslate"><span class="pre">-u</span><em><span class="pre">n</span></em></code></dt><dd><p>Enable dynamic stack usage, with <code class="docutils literal notranslate"><span class="pre">n</span></code> results stored and displayed
at program termination. A result is generated when a task
terminates. Results that can’t be stored are displayed on the fly, at
task termination. This option is currently not supported on Itanium
platforms. (See <a class="reference internal" href="gnat_and_program_execution.html#dynamic-stack-usage-analysis"><span class="std std-ref">Dynamic Stack Usage Analysis</span></a> for details.)</p>
</dd>
<dt id="index-526"><code class="switch docutils literal notranslate"><span class="pre">-v</span></code></dt><dd><p>Verbose mode. Write error messages, header, summary output to
<code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
</dd>
<dt id="index-527"><code class="switch docutils literal notranslate"><span class="pre">-V</span><em><span class="pre">key</span></em><span class="pre">=</span><em><span class="pre">value</span></em></code></dt><dd><p>Store the given association of <code class="docutils literal notranslate"><span class="pre">key</span></code> to <code class="docutils literal notranslate"><span class="pre">value</span></code> in the bind environment.
Values stored this way can be retrieved at run time using
<code class="docutils literal notranslate"><span class="pre">GNAT.Bind_Environment</span></code>.</p>
</dd>
<dt id="index-528"><code class="switch docutils literal notranslate"><span class="pre">-w</span><em><span class="pre">x</span></em></code></dt><dd><p>Warning mode; <code class="docutils literal notranslate"><span class="pre">x</span></code> = s/e for suppress/treat as error.</p>
</dd>
<dt id="index-529"><code class="switch docutils literal notranslate"><span class="pre">-Wx</span><em><span class="pre">e</span></em></code></dt><dd><p>Override default wide character encoding for standard Text_IO files.</p>
</dd>
<dt id="index-530"><code class="switch docutils literal notranslate"><span class="pre">-x</span></code></dt><dd><p>Exclude source files (check object consistency only).</p>
</dd>
<dt id="index-531"><code class="switch docutils literal notranslate"><span class="pre">-xdr</span></code></dt><dd><p>Use the target-independent XDR protocol for stream oriented attributes
instead of the default implementation which is based on direct binary
representations and is therefore target-and endianness-dependent.
However it does not support 128-bit integer types and the exception
<code class="docutils literal notranslate"><span class="pre">Ada.IO_Exceptions.Device_Error</span></code> is raised if any attempt is made
at streaming 128-bit integer types with it.</p>
</dd>
<dt id="index-532"><code class="switch docutils literal notranslate"><span class="pre">-X</span><em><span class="pre">nnn</span></em></code></dt><dd><p>Set default exit status value, normally 0 for POSIX compliance.</p>
</dd>
<dt id="index-533"><code class="switch docutils literal notranslate"><span class="pre">-y</span></code></dt><dd><p>Enable leap seconds support in <code class="docutils literal notranslate"><span class="pre">Ada.Calendar</span></code> and its children.</p>
</dd>
<dt id="index-534"><code class="switch docutils literal notranslate"><span class="pre">-z</span></code></dt><dd><p>No main subprogram.</p>
</dd>
</dl>
<p>You may obtain this listing of switches by running <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> with
no arguments.</p>
<div class="section" id="consistency-checking-modes">
<span id="id35"></span><h4><span class="section-number">4.5.2.1. </span>Consistency-Checking Modes<a class="headerlink" href="#consistency-checking-modes" title="Permalink to this headline">¶</a></h4>
<p>As described earlier, by default <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> checks
that object files are consistent with one another and are consistent
with any source files it can locate. The following switches control binder
access to sources.</p>
<blockquote>
<div></div></blockquote>
<dl id="index-535">
<dt><code class="switch docutils literal notranslate"><span class="pre">-s</span></code></dt><dd><p>Require source files to be present. In this mode, the binder must be
able to locate all source files that are referenced, in order to check
their consistency. In normal mode, if a source file cannot be located it
is simply ignored. If you specify this switch, a missing source
file is an error.</p>
</dd>
<dt id="index-536"><code class="switch docutils literal notranslate"><span class="pre">-Wx</span><em><span class="pre">e</span></em></code></dt><dd><p>Override default wide character encoding for standard Text_IO files.
Normally the default wide character encoding method used for standard
[Wide_[Wide_]]Text_IO files is taken from the encoding specified for
the main source input (see description of switch
<code class="switch docutils literal notranslate"><span class="pre">-gnatWx</span></code> for the compiler). The
use of this switch for the binder (which has the same set of
possible arguments) overrides this default as specified.</p>
</dd>
<dt id="index-537"><code class="switch docutils literal notranslate"><span class="pre">-x</span></code></dt><dd><p>Exclude source files. In this mode, the binder only checks that ALI
files are consistent with one another. Source files are not accessed.
The binder runs faster in this mode, and there is still a guarantee that
the resulting program is self-consistent.
If a source file has been edited since it was last compiled, and you
specify this switch, the binder will not detect that the object
file is out of date with respect to the source file. Note that this is the
mode that is automatically used by <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> because in this
case the checking against sources has already been performed by
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> in the course of compilation (i.e., before binding).</p>
</dd>
</dl>
</div>
<div class="section" id="binder-error-message-control">
<span id="id36"></span><h4><span class="section-number">4.5.2.2. </span>Binder Error Message Control<a class="headerlink" href="#binder-error-message-control" title="Permalink to this headline">¶</a></h4>
<p>The following switches provide control over the generation of error
messages from the binder:</p>
<blockquote>
<div></div></blockquote>
<dl id="index-538">
<dt><code class="switch docutils literal notranslate"><span class="pre">-v</span></code></dt><dd><p>Verbose mode. In the normal mode, brief error messages are generated to
<code class="file docutils literal notranslate"><span class="pre">stderr</span></code>. If this switch is present, a header is written
to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code> and any error messages are directed to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.
All that is written to <code class="file docutils literal notranslate"><span class="pre">stderr</span></code> is a brief summary message.</p>
</dd>
<dt id="index-539"><code class="switch docutils literal notranslate"><span class="pre">-b</span></code></dt><dd><p>Generate brief error messages to <code class="file docutils literal notranslate"><span class="pre">stderr</span></code> even if verbose mode is
specified. This is relevant only when used with the
<code class="switch docutils literal notranslate"><span class="pre">-v</span></code> switch.</p>
</dd>
<dt id="index-540"><code class="switch docutils literal notranslate"><span class="pre">-m</span><em><span class="pre">n</span></em></code></dt><dd><p>Limits the number of error messages to <code class="docutils literal notranslate"><span class="pre">n</span></code>, a decimal integer in the
range 1-999. The binder terminates immediately if this limit is reached.</p>
</dd>
<dt id="index-541"><code class="switch docutils literal notranslate"><span class="pre">-M</span><em><span class="pre">xxx</span></em></code></dt><dd><p>Renames the generated main program from <code class="docutils literal notranslate"><span class="pre">main</span></code> to <code class="docutils literal notranslate"><span class="pre">xxx</span></code>.
This is useful in the case of some cross-building environments, where
the actual main program is separate from the one generated
by <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>.</p>
<span class="target" id="index-542"></span></dd>
<dt id="index-543"><code class="switch docutils literal notranslate"><span class="pre">-ws</span></code></dt><dd><p>Suppress all warning messages.</p>
</dd>
<dt id="index-544"><code class="switch docutils literal notranslate"><span class="pre">-we</span></code></dt><dd><p>Treat any warning messages as fatal errors.</p>
<span class="target" id="index-545"></span><span class="target" id="index-546"></span><span class="target" id="index-547"></span></dd>
<dt id="index-548"><code class="switch docutils literal notranslate"><span class="pre">-t</span></code></dt><dd><p>The binder performs a number of consistency checks including:</p>
<ul class="simple">
<li><p>Check that time stamps of a given source unit are consistent</p></li>
<li><p>Check that checksums of a given source unit are consistent</p></li>
<li><p>Check that consistent versions of <code class="docutils literal notranslate"><span class="pre">GNAT</span></code> were used for compilation</p></li>
<li><p>Check consistency of configuration pragmas as required</p></li>
</ul>
<p>Normally failure of such checks, in accordance with the consistency
requirements of the Ada Reference Manual, causes error messages to be
generated which abort the binder and prevent the output of a binder
file and subsequent link to obtain an executable.</p>
<p>The <code class="switch docutils literal notranslate"><span class="pre">-t</span></code> switch converts these error messages
into warnings, so that
binding and linking can continue to completion even in the presence of such
errors. The result may be a failed link (due to missing symbols), or a
non-functional executable which has undefined semantics.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This means that <code class="switch docutils literal notranslate"><span class="pre">-t</span></code> should be used only in unusual situations,
with extreme care.</p>
</div>
</dd>
</dl>
</div>
<div class="section" id="elaboration-control">
<span id="id37"></span><h4><span class="section-number">4.5.2.3. </span>Elaboration Control<a class="headerlink" href="#elaboration-control" title="Permalink to this headline">¶</a></h4>
<p>The following switches provide additional control over the elaboration
order. For further details see <a class="reference internal" href="elaboration_order_handling_in_gnat.html#elaboration-order-handling-in-gnat"><span class="std std-ref">Elaboration Order Handling in GNAT</span></a>.</p>
<dl id="index-549">
<dt><code class="switch docutils literal notranslate"><span class="pre">-f</span><em><span class="pre">elab-order</span></em></code></dt><dd><p>Force elaboration order.</p>
<p><code class="docutils literal notranslate"><span class="pre">elab-order</span></code> should be the name of a “forced elaboration order file”, that
is, a text file containing library item names, one per line. A name of the
form “some.unit%s” or “some.unit (spec)” denotes the spec of Some.Unit. A
name of the form “some.unit%b” or “some.unit (body)” denotes the body of
Some.Unit. Each pair of lines is taken to mean that there is an elaboration
dependence of the second line on the first. For example, if the file
contains:</p>
<div class="highlight-ada notranslate"><div class="highlight"><pre><span></span><span class="n">this</span> <span class="o">(</span><span class="n">spec</span><span class="o">)</span>
<span class="n">this</span> <span class="o">(</span><span class="n">body</span><span class="o">)</span>
<span class="n">that</span> <span class="o">(</span><span class="n">spec</span><span class="o">)</span>
<span class="n">that</span> <span class="o">(</span><span class="n">body</span><span class="o">)</span>
</pre></div>
</div>
<p>then the spec of This will be elaborated before the body of This, and the
body of This will be elaborated before the spec of That, and the spec of That
will be elaborated before the body of That. The first and last of these three
dependences are already required by Ada rules, so this file is really just
forcing the body of This to be elaborated before the spec of That.</p>
<p>The given order must be consistent with Ada rules, or else <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> will
give elaboration cycle errors. For example, if you say x (body) should be
elaborated before x (spec), there will be a cycle, because Ada rules require
x (spec) to be elaborated before x (body); you can’t have the spec and body
both elaborated before each other.</p>
<p>If you later add “with That;” to the body of This, there will be a cycle, in
which case you should erase either “this (body)” or “that (spec)” from the
above forced elaboration order file.</p>
<p>Blank lines and Ada-style comments are ignored. Unit names that do not exist
in the program are ignored. Units in the GNAT predefined library are also
ignored.</p>
</dd>
</dl>
<dl id="index-550">
<dt><code class="switch docutils literal notranslate"><span class="pre">-p</span></code></dt><dd><p>Pessimistic elaboration order</p>
<p>This switch is only applicable to the pre-20.x legacy elaboration models.
The post-20.x elaboration model uses a more informed approach of ordering
the units.</p>
<p>Normally the binder attempts to choose an elaboration order that is likely to
minimize the likelihood of an elaboration order error resulting in raising a
<code class="docutils literal notranslate"><span class="pre">Program_Error</span></code> exception. This switch reverses the action of the binder,
and requests that it deliberately choose an order that is likely to maximize
the likelihood of an elaboration error. This is useful in ensuring
portability and avoiding dependence on accidental fortuitous elaboration
ordering.</p>
<p>Normally it only makes sense to use the <code class="switch docutils literal notranslate"><span class="pre">-p</span></code> switch if dynamic
elaboration checking is used (<code class="switch docutils literal notranslate"><span class="pre">-gnatE</span></code> switch used for compilation).
This is because in the default static elaboration mode, all necessary
<code class="docutils literal notranslate"><span class="pre">Elaborate</span></code> and <code class="docutils literal notranslate"><span class="pre">Elaborate_All</span></code> pragmas are implicitly inserted.
These implicit pragmas are still respected by the binder in <code class="switch docutils literal notranslate"><span class="pre">-p</span></code>
mode, so a safe elaboration order is assured.</p>
<p>Note that <code class="switch docutils literal notranslate"><span class="pre">-p</span></code> is not intended for production use; it is more for
debugging/experimental use.</p>
</dd>
</dl>
</div>
<div class="section" id="output-control">
<span id="id38"></span><h4><span class="section-number">4.5.2.4. </span>Output Control<a class="headerlink" href="#output-control" title="Permalink to this headline">¶</a></h4>
<p>The following switches allow additional control over the output
generated by the binder.</p>
<blockquote>
<div></div></blockquote>
<dl id="index-551">
<dt><code class="switch docutils literal notranslate"><span class="pre">-c</span></code></dt><dd><p>Check only. Do not generate the binder output file. In this mode the
binder performs all error checks but does not generate an output file.</p>
</dd>
<dt id="index-552"><code class="switch docutils literal notranslate"><span class="pre">-e</span></code></dt><dd><p>Output complete list of elaboration-order dependencies, showing the
reason for each dependency. This output can be rather extensive but may
be useful in diagnosing problems with elaboration order. The output is
written to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
</dd>
<dt id="index-553"><code class="switch docutils literal notranslate"><span class="pre">-h</span></code></dt><dd><p>Output usage information. The output is written to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
</dd>
<dt id="index-554"><code class="switch docutils literal notranslate"><span class="pre">-K</span></code></dt><dd><p>Output linker options to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>. Includes library search paths,
contents of pragmas Ident and Linker_Options, and libraries added
by <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>.</p>
</dd>
<dt id="index-555"><code class="switch docutils literal notranslate"><span class="pre">-l</span></code></dt><dd><p>Output chosen elaboration order. The output is written to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
</dd>
<dt id="index-556"><code class="switch docutils literal notranslate"><span class="pre">-O</span></code></dt><dd><p>Output full names of all the object files that must be linked to provide
the Ada component of the program. The output is written to <code class="file docutils literal notranslate"><span class="pre">stdout</span></code>.
This list includes the files explicitly supplied and referenced by the user
as well as implicitly referenced run-time unit files. The latter are
omitted if the corresponding units reside in shared libraries. The
directory names for the run-time units depend on the system configuration.</p>
</dd>
<dt id="index-557"><code class="switch docutils literal notranslate"><span class="pre">-o</span> <em><span class="pre">file</span></em></code></dt><dd><p>Set name of output file to <code class="docutils literal notranslate"><span class="pre">file</span></code> instead of the normal
<code class="file docutils literal notranslate"><span class="pre">b~`mainprog</span></code>.adb` default. Note that <code class="docutils literal notranslate"><span class="pre">file</span></code> denote the Ada
binder generated body filename.
Note that if this option is used, then linking must be done manually.
It is not possible to use gnatlink in this case, since it cannot locate
the binder file.</p>
</dd>
<dt id="index-558"><code class="switch docutils literal notranslate"><span class="pre">-r</span></code></dt><dd><p>Generate list of <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Restrictions</span></code> that could be applied to
the current unit. This is useful for code audit purposes, and also may
be used to improve code generation in some cases.</p>
</dd>
</dl>
</div>
<div class="section" id="dynamic-allocation-control">
<span id="id39"></span><h4><span class="section-number">4.5.2.5. </span>Dynamic Allocation Control<a class="headerlink" href="#dynamic-allocation-control" title="Permalink to this headline">¶</a></h4>
<p>The heap control switches – <code class="switch docutils literal notranslate"><span class="pre">-H32</span></code> and <code class="switch docutils literal notranslate"><span class="pre">-H64</span></code> –
determine whether dynamic allocation uses 32-bit or 64-bit memory.
They only affect compiler-generated allocations via <code class="docutils literal notranslate"><span class="pre">__gnat_malloc</span></code>;
explicit calls to <code class="docutils literal notranslate"><span class="pre">malloc</span></code> and related functions from the C
run-time library are unaffected.</p>
<dl class="simple">
<dt><code class="switch docutils literal notranslate"><span class="pre">-H32</span></code></dt><dd><p>Allocate memory on 32-bit heap</p>
</dd>
<dt><code class="switch docutils literal notranslate"><span class="pre">-H64</span></code></dt><dd><p>Allocate memory on 64-bit heap.  This is the default
unless explicitly overridden by a <code class="docutils literal notranslate"><span class="pre">'Size</span></code> clause on the access type.</p>
</dd>
</dl>
<p>These switches are only effective on VMS platforms.</p>
</div>
<div class="section" id="binding-with-non-ada-main-programs">
<span id="id40"></span><h4><span class="section-number">4.5.2.6. </span>Binding with Non-Ada Main Programs<a class="headerlink" href="#binding-with-non-ada-main-programs" title="Permalink to this headline">¶</a></h4>
<p>The description so far has assumed that the main
program is in Ada, and that the task of the binder is to generate a
corresponding function <code class="docutils literal notranslate"><span class="pre">main</span></code> that invokes this Ada main
program. GNAT also supports the building of executable programs where
the main program is not in Ada, but some of the called routines are
written in Ada and compiled using GNAT (<a class="reference internal" href="the_gnat_compilation_model.html#mixed-language-programming"><span class="std std-ref">Mixed Language Programming</span></a>).
The following switch is used in this situation:</p>
<blockquote>
<div></div></blockquote>
<dl class="simple" id="index-559">
<dt><code class="switch docutils literal notranslate"><span class="pre">-n</span></code></dt><dd><p>No main program. The main program is not in Ada.</p>
</dd>
</dl>
<p>In this case, most of the functions of the binder are still required,
but instead of generating a main program, the binder generates a file
containing the following callable routines:</p>
<blockquote>
<div><dl id="index-560">
<dt><code class="docutils literal notranslate"><span class="pre">adainit</span></code></dt><dd><p>You must call this routine to initialize the Ada part of the program by
calling the necessary elaboration routines. A call to <code class="docutils literal notranslate"><span class="pre">adainit</span></code> is
required before the first call to an Ada subprogram.</p>
<p>Note that it is assumed that the basic execution environment must be setup
to be appropriate for Ada execution at the point where the first Ada
subprogram is called. In particular, if the Ada code will do any
floating-point operations, then the FPU must be setup in an appropriate
manner. For the case of the x86, for example, full precision mode is
required. The procedure GNAT.Float_Control.Reset may be used to ensure
that the FPU is in the right state.</p>
</dd>
</dl>
<dl class="simple" id="index-561">
<dt><code class="docutils literal notranslate"><span class="pre">adafinal</span></code></dt><dd><p>You must call this routine to perform any library-level finalization
required by the Ada subprograms. A call to <code class="docutils literal notranslate"><span class="pre">adafinal</span></code> is required
after the last call to an Ada subprogram, and before the program
terminates.</p>
</dd>
</dl>
</div></blockquote>
<span class="target" id="index-562"></span><p id="index-563">If the <code class="switch docutils literal notranslate"><span class="pre">-n</span></code> switch
is given, more than one ALI file may appear on
the command line for <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>. The normal <code class="docutils literal notranslate"><span class="pre">closure</span></code>
calculation is performed for each of the specified units. Calculating
the closure means finding out the set of units involved by tracing
<em>with</em> references. The reason it is necessary to be able to
specify more than one ALI file is that a given program may invoke two or
more quite separate groups of Ada units.</p>
<p>The binder takes the name of its output file from the last specified ALI
file, unless overridden by the use of the <code class="switch docutils literal notranslate"><span class="pre">-o</span> <span class="pre">file</span></code>.</p>
<p id="index-564">The output is an Ada unit in source form that can be compiled with GNAT.
This compilation occurs automatically as part of the <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code>
processing.</p>
<p>Currently the GNAT run-time requires a FPU using 80 bits mode
precision. Under targets where this is not the default it is required to
call GNAT.Float_Control.Reset before using floating point numbers (this
include float computation, float input and output) in the Ada code. A
side effect is that this could be the wrong mode for the foreign code
where floating point computation could be broken after this call.</p>
</div>
<div class="section" id="binding-programs-with-no-main-subprogram">
<span id="id41"></span><h4><span class="section-number">4.5.2.7. </span>Binding Programs with No Main Subprogram<a class="headerlink" href="#binding-programs-with-no-main-subprogram" title="Permalink to this headline">¶</a></h4>
<p>It is possible to have an Ada program which does not have a main
subprogram. This program will call the elaboration routines of all the
packages, then the finalization routines.</p>
<p>The following switch is used to bind programs organized in this manner:</p>
<blockquote>
<div></div></blockquote>
<dl class="simple" id="index-565">
<dt><code class="switch docutils literal notranslate"><span class="pre">-z</span></code></dt><dd><p>Normally the binder checks that the unit name given on the command line
corresponds to a suitable main subprogram. When this switch is used,
a list of ALI files can be given, and the execution of the program
consists of elaboration of these units in an appropriate order. Note
that the default wide character encoding method for standard Text_IO
files is always set to Brackets if this switch is set (you can use
the binder switch
<code class="switch docutils literal notranslate"><span class="pre">-Wx</span></code> to override this default).</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="command-line-access">
<span id="id42"></span><h3><span class="section-number">4.5.3. </span>Command-Line Access<a class="headerlink" href="#command-line-access" title="Permalink to this headline">¶</a></h3>
<p>The package <code class="docutils literal notranslate"><span class="pre">Ada.Command_Line</span></code> provides access to the command-line
arguments and program name. In order for this interface to operate
correctly, the two variables</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">gnat_argc</span><span class="p">;</span>
<span class="kt">char</span> <span class="o">**</span><span class="n">gnat_argv</span><span class="p">;</span>
</pre></div>
</div>
<span class="target" id="index-566"></span><p id="index-567">are declared in one of the GNAT library routines. These variables must
be set from the actual <code class="docutils literal notranslate"><span class="pre">argc</span></code> and <code class="docutils literal notranslate"><span class="pre">argv</span></code> values passed to the
main program. With no <em>n</em> present, <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>
generates the C main program to automatically set these variables.
If the <em>n</em> switch is used, there is no automatic way to
set these variables. If they are not set, the procedures in
<code class="docutils literal notranslate"><span class="pre">Ada.Command_Line</span></code> will not be available, and any attempt to use
them will raise <code class="docutils literal notranslate"><span class="pre">Constraint_Error</span></code>. If command line access is
required, your main program must set <code class="docutils literal notranslate"><span class="pre">gnat_argc</span></code> and
<code class="docutils literal notranslate"><span class="pre">gnat_argv</span></code> from the <code class="docutils literal notranslate"><span class="pre">argc</span></code> and <code class="docutils literal notranslate"><span class="pre">argv</span></code> values passed to
it.</p>
</div>
<div class="section" id="search-paths-for-gnatbind">
<span id="id43"></span><h3><span class="section-number">4.5.4. </span>Search Paths for <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code><a class="headerlink" href="#search-paths-for-gnatbind" title="Permalink to this headline">¶</a></h3>
<p>The binder takes the name of an ALI file as its argument and needs to
locate source files as well as other ALI files to verify object consistency.</p>
<p>For source files, it follows exactly the same search rules as <code class="docutils literal notranslate"><span class="pre">gcc</span></code>
(see <a class="reference internal" href="#search-paths-and-the-run-time-library-rtl"><span class="std std-ref">Search Paths and the Run-Time Library (RTL)</span></a>). For ALI files the
directories searched are:</p>
<ul>
<li><p>The directory containing the ALI file named in the command line, unless
the switch <code class="switch docutils literal notranslate"><span class="pre">-I-</span></code> is specified.</p></li>
<li><p>All directories specified by <code class="switch docutils literal notranslate"><span class="pre">-I</span></code>
switches on the <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code>
command line, in the order given.</p>
</li>
<li id="index-568"><p>Each of the directories listed in the text file whose name is given
by the <span class="target" id="index-569"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ADA_PRJ_OBJECTS_FILE</span></code> environment variable.</p>
<p><span class="target" id="index-570"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ADA_PRJ_OBJECTS_FILE</span></code> is normally set by gnatmake or by the gnat
driver when project files are used. It should not normally be set
by other means.</p>
</li>
<li id="index-571"><p>Each of the directories listed in the value of the
<span class="target" id="index-572"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ADA_OBJECTS_PATH</span></code> environment variable.
Construct this value
exactly as the <span class="target" id="index-573"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code> environment variable: a list of directory
names separated by colons (semicolons when working with the NT version
of GNAT).</p></li>
<li><p>The content of the <code class="file docutils literal notranslate"><span class="pre">ada_object_path</span></code> file which is part of the GNAT
installation tree and is used to store standard libraries such as the
GNAT Run-Time Library (RTL) unless the switch <code class="switch docutils literal notranslate"><span class="pre">-nostdlib</span></code> is
specified. See <a class="reference internal" href="the_gnat_compilation_model.html#installing-a-library"><span class="std std-ref">Installing a library</span></a></p></li>
</ul>
<span class="target" id="index-574"></span><span class="target" id="index-575"></span><p id="index-576">In the binder the switch <code class="switch docutils literal notranslate"><span class="pre">-I</span></code>
is used to specify both source and
library file paths. Use <code class="switch docutils literal notranslate"><span class="pre">-aI</span></code>
instead if you want to specify
source paths only, and <code class="switch docutils literal notranslate"><span class="pre">-aO</span></code>
if you want to specify library paths
only. This means that for the binder
<code class="switch docutils literal notranslate"><span class="pre">-I</span><em><span class="pre">dir</span></em></code> is equivalent to
<code class="switch docutils literal notranslate"><span class="pre">-aI</span><em><span class="pre">dir</span></em></code>
<code class="switch docutils literal notranslate"><span class="pre">-aO`</span><em><span class="pre">dir</span></em></code>.
The binder generates the bind file (a C language source file) in the
current working directory.</p>
<span class="target" id="index-577"></span><span class="target" id="index-578"></span><span class="target" id="index-579"></span><p id="index-580">The packages <code class="docutils literal notranslate"><span class="pre">Ada</span></code>, <code class="docutils literal notranslate"><span class="pre">System</span></code>, and <code class="docutils literal notranslate"><span class="pre">Interfaces</span></code> and their
children make up the GNAT Run-Time Library, together with the package
GNAT and its children, which contain a set of useful additional
library functions provided by GNAT. The sources for these units are
needed by the compiler and are kept together in one directory. The ALI
files and object files generated by compiling the RTL are needed by the
binder and the linker and are kept together in one directory, typically
different from the directory containing the sources. In a normal
installation, you need not specify these directory names when compiling
or binding. Either the environment variables or the built-in defaults
cause these files to be found.</p>
<p>Besides simplifying access to the RTL, a major use of search paths is
in compiling sources from multiple directories. This can make
development environments much more flexible.</p>
</div>
<div class="section" id="examples-of-gnatbind-usage">
<span id="id44"></span><h3><span class="section-number">4.5.5. </span>Examples of <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> Usage<a class="headerlink" href="#examples-of-gnatbind-usage" title="Permalink to this headline">¶</a></h3>
<p>Here are some examples of <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> invovations:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gnatbind</span> <span class="n">hello</span>
</pre></div>
</div>
<p>The main program <code class="docutils literal notranslate"><span class="pre">Hello</span></code> (source program in <code class="file docutils literal notranslate"><span class="pre">hello.adb</span></code>) is
bound using the standard switch settings. The generated main program is
<code class="file docutils literal notranslate"><span class="pre">b~hello.adb</span></code>. This is the normal, default use of the binder.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gnatbind</span> <span class="n">hello</span> <span class="o">-</span><span class="n">o</span> <span class="n">mainprog</span><span class="o">.</span><span class="n">adb</span>
</pre></div>
</div>
<p>The main program <code class="docutils literal notranslate"><span class="pre">Hello</span></code> (source program in <code class="file docutils literal notranslate"><span class="pre">hello.adb</span></code>) is
bound using the standard switch settings. The generated main program is
<code class="file docutils literal notranslate"><span class="pre">mainprog.adb</span></code> with the associated spec in
<code class="file docutils literal notranslate"><span class="pre">mainprog.ads</span></code>. Note that you must specify the body here not the
spec. Note that if this option is used, then linking must be done manually,
since gnatlink will not be able to find the generated file.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="linking-with-gnatlink">
<span id="id45"></span><h2><span class="section-number">4.6. </span>Linking with <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code><a class="headerlink" href="#linking-with-gnatlink" title="Permalink to this headline">¶</a></h2>
<p id="index-581">This chapter discusses <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code>, a tool that links
an Ada program and builds an executable file. This utility
invokes the system linker (via the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> command)
with a correct list of object files and library references.
<code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> automatically determines the list of files and
references for the Ada part of a program. It uses the binder file
generated by the <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> to determine this list.</p>
<div class="section" id="running-gnatlink">
<span id="id46"></span><h3><span class="section-number">4.6.1. </span>Running <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code><a class="headerlink" href="#running-gnatlink" title="Permalink to this headline">¶</a></h3>
<p>The form of the <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> command is</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gnatlink <span class="o">[</span> switches <span class="o">]</span> mainprog <span class="o">[</span>.ali<span class="o">]</span>
           <span class="o">[</span> non-Ada objects <span class="o">]</span> <span class="o">[</span> linker options <span class="o">]</span>
</pre></div>
</div>
<p>The arguments of <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> (switches, main <code class="docutils literal notranslate"><span class="pre">ALI</span></code> file,
non-Ada objects
or linker options) may be in any order, provided that no non-Ada object may
be mistaken for a main <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file.
Any file name <code class="file docutils literal notranslate"><span class="pre">F</span></code> without the <code class="file docutils literal notranslate"><span class="pre">.ali</span></code>
extension will be taken as the main <code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file if a file exists
whose name is the concatenation of <code class="file docutils literal notranslate"><span class="pre">F</span></code> and <code class="file docutils literal notranslate"><span class="pre">.ali</span></code>.</p>
<p><code class="file docutils literal notranslate"><span class="pre">mainprog.ali</span></code> references the ALI file of the main program.
The <code class="file docutils literal notranslate"><span class="pre">.ali</span></code> extension of this file can be omitted. From this
reference, <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> locates the corresponding binder file
<code class="file docutils literal notranslate"><span class="pre">b~mainprog.adb</span></code> and, using the information in this file along
with the list of non-Ada objects and linker options, constructs a
linker command file to create the executable.</p>
<p>The arguments other than the <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> switches and the main
<code class="file docutils literal notranslate"><span class="pre">ALI</span></code> file are passed to the linker uninterpreted.
They typically include the names of
object files for units written in other languages than Ada and any library
references required to resolve references in any of these foreign language
units, or in <code class="docutils literal notranslate"><span class="pre">Import</span></code> pragmas in any Ada units.</p>
<p><code class="docutils literal notranslate"><span class="pre">linker</span> <span class="pre">options</span></code> is an optional list of linker specific
switches.
The default linker called by gnatlink is <code class="docutils literal notranslate"><span class="pre">gcc</span></code> which in
turn calls the appropriate system linker.</p>
<p>One useful option for the linker is <code class="switch docutils literal notranslate"><span class="pre">-s</span></code>: it reduces the size of the
executable by removing all symbol table and relocation information from the
executable.</p>
<p>Standard options for the linker such as <code class="switch docutils literal notranslate"><span class="pre">-lmy_lib</span></code> or
<code class="switch docutils literal notranslate"><span class="pre">-Ldir</span></code> can be added as is.
For options that are not recognized by
<code class="docutils literal notranslate"><span class="pre">gcc</span></code> as linker options, use the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> switches
<code class="switch docutils literal notranslate"><span class="pre">-Xlinker</span></code> or <code class="switch docutils literal notranslate"><span class="pre">-Wl,</span></code>.</p>
<p>Refer to the GCC documentation for
details.</p>
<p>Here is an example showing how to generate a linker map:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ gnatlink my_prog -Wl,-Map,MAPFILE
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">linker</span> <span class="pre">options</span></code> it is possible to set the program stack and
heap size.
See <a class="reference internal" href="platform_specific_information.html#setting-stack-size-from-gnatlink"><span class="std std-ref">Setting Stack Size from gnatlink</span></a> and
<a class="reference internal" href="platform_specific_information.html#setting-heap-size-from-gnatlink"><span class="std std-ref">Setting Heap Size from gnatlink</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> determines the list of objects required by the Ada
program and prepends them to the list of objects passed to the linker.
<code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> also gathers any arguments set by the use of
<code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">Linker_Options</span></code> and adds them to the list of arguments
presented to the linker.</p>
</div>
<div class="section" id="switches-for-gnatlink">
<span id="id47"></span><h3><span class="section-number">4.6.2. </span>Switches for <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code><a class="headerlink" href="#switches-for-gnatlink" title="Permalink to this headline">¶</a></h3>
<p>The following switches are available with the <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> utility:</p>
<dl class="simple" id="index-582">
<dt><code class="switch docutils literal notranslate"><span class="pre">--version</span></code></dt><dd><p>Display Copyright and version, then exit disregarding all other options.</p>
</dd>
</dl>
<dl class="simple" id="index-583">
<dt><code class="switch docutils literal notranslate"><span class="pre">--help</span></code></dt><dd><p>If <code class="switch docutils literal notranslate"><span class="pre">--version</span></code> was not used, display usage, then exit disregarding
all other options.</p>
</dd>
</dl>
<span class="target" id="index-584"></span><dl class="simple" id="index-585">
<dt><code class="switch docutils literal notranslate"><span class="pre">-f</span></code></dt><dd><p>On some targets, the command line length is limited, and <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code>
will generate a separate file for the linker if the list of object files
is too long.
The <code class="switch docutils literal notranslate"><span class="pre">-f</span></code> switch forces this file
to be generated even if
the limit is not exceeded. This is useful in some cases to deal with
special situations where the command line length is exceeded.</p>
</dd>
</dl>
<span class="target" id="index-586"></span><dl class="simple" id="index-587">
<dt><code class="switch docutils literal notranslate"><span class="pre">-g</span></code></dt><dd><p>The option to include debugging information causes the Ada bind file (in
other words, <code class="file docutils literal notranslate"><span class="pre">b~mainprog.adb</span></code>) to be compiled with <code class="switch docutils literal notranslate"><span class="pre">-g</span></code>.
In addition, the binder does not delete the <code class="file docutils literal notranslate"><span class="pre">b~mainprog.adb</span></code>,
<code class="file docutils literal notranslate"><span class="pre">b~mainprog.o</span></code> and <code class="file docutils literal notranslate"><span class="pre">b~mainprog.ali</span></code> files.
Without <code class="switch docutils literal notranslate"><span class="pre">-g</span></code>, the binder removes these files by default.</p>
</dd>
</dl>
<dl class="simple" id="index-588">
<dt><code class="switch docutils literal notranslate"><span class="pre">-n</span></code></dt><dd><p>Do not compile the file generated by the binder. This may be used when
a link is rerun with different options, but there is no need to recompile
the binder file.</p>
</dd>
</dl>
<dl class="simple" id="index-589">
<dt><code class="switch docutils literal notranslate"><span class="pre">-v</span></code></dt><dd><p>Verbose mode. Causes additional information to be output, including a full
list of the included object files.
This switch option is most useful when you want
to see what set of object files are being used in the link step.</p>
</dd>
</dl>
<dl class="simple" id="index-590">
<dt><code class="switch docutils literal notranslate"><span class="pre">-v</span> <span class="pre">-v</span></code></dt><dd><p>Very verbose mode. Requests that the compiler operate in verbose mode when
it compiles the binder file, and that the system linker run in verbose mode.</p>
</dd>
</dl>
<dl class="simple" id="index-591">
<dt><code class="switch docutils literal notranslate"><span class="pre">-o</span> <em><span class="pre">exec-name</span></em></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">exec-name</span></code> specifies an alternate name for the generated
executable program. If this switch is omitted, the executable has the same
name as the main unit. For example, <code class="docutils literal notranslate"><span class="pre">gnatlink</span> <span class="pre">try.ali</span></code> creates
an executable called <code class="file docutils literal notranslate"><span class="pre">try</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-592">
<dt><code class="switch docutils literal notranslate"><span class="pre">-B</span><em><span class="pre">dir</span></em></code></dt><dd><p>Load compiler executables (for example, <code class="docutils literal notranslate"><span class="pre">gnat1</span></code>, the Ada compiler)
from <code class="docutils literal notranslate"><span class="pre">dir</span></code> instead of the default location. Only use this switch
when multiple versions of the GNAT compiler are available.
See the <code class="docutils literal notranslate"><span class="pre">Directory</span> <span class="pre">Options</span></code> section in <cite>The_GNU_Compiler_Collection</cite>
for further details. You would normally use the <code class="switch docutils literal notranslate"><span class="pre">-b</span></code> or
<code class="switch docutils literal notranslate"><span class="pre">-V</span></code> switch instead.</p>
</dd>
</dl>
<dl class="simple" id="index-593">
<dt><code class="switch docutils literal notranslate"><span class="pre">-M</span></code></dt><dd><p>When linking an executable, create a map file. The name of the map file
has the same name as the executable with extension “.map”.</p>
</dd>
</dl>
<dl class="simple" id="index-594">
<dt><code class="switch docutils literal notranslate"><span class="pre">-M=</span><em><span class="pre">mapfile</span></em></code></dt><dd><p>When linking an executable, create a map file. The name of the map file is
<code class="docutils literal notranslate"><span class="pre">mapfile</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-595">
<dt><code class="switch docutils literal notranslate"><span class="pre">--GCC=</span><em><span class="pre">compiler_name</span></em></code></dt><dd><p>Program used for compiling the binder file. The default is
<code class="docutils literal notranslate"><span class="pre">gcc</span></code>. You need to use quotes around <code class="docutils literal notranslate"><span class="pre">compiler_name</span></code> if
<code class="docutils literal notranslate"><span class="pre">compiler_name</span></code> contains spaces or other separator characters.
As an example <code class="docutils literal notranslate"><span class="pre">--GCC=&quot;foo</span> <span class="pre">-x</span> <span class="pre">-y&quot;</span></code> will instruct <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> to
use <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">-x</span> <span class="pre">-y</span></code> as your compiler. Note that switch <code class="docutils literal notranslate"><span class="pre">-c</span></code> is always
inserted after your command name. Thus in the above example the compiler
command that will be used by <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code> will be <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">-c</span> <span class="pre">-x</span> <span class="pre">-y</span></code>.
A limitation of this syntax is that the name and path name of the executable
itself must not include any embedded spaces. If the compiler executable is
different from the default one (gcc or &lt;prefix&gt;-gcc), then the back-end
switches in the ALI file are not used to compile the binder generated source.
For example, this is the case with <code class="docutils literal notranslate"><span class="pre">--GCC=&quot;foo</span> <span class="pre">-x</span> <span class="pre">-y&quot;</span></code>. But the back end
switches will be used for <code class="docutils literal notranslate"><span class="pre">--GCC=&quot;gcc</span> <span class="pre">-gnatv&quot;</span></code>. If several
<code class="docutils literal notranslate"><span class="pre">--GCC=compiler_name</span></code> are used, only the last <code class="docutils literal notranslate"><span class="pre">compiler_name</span></code>
is taken into account. However, all the additional switches are also taken
into account. Thus,
<code class="docutils literal notranslate"><span class="pre">--GCC=&quot;foo</span> <span class="pre">-x</span> <span class="pre">-y&quot;</span> <span class="pre">--GCC=&quot;bar</span> <span class="pre">-z</span> <span class="pre">-t&quot;</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">--GCC=&quot;bar</span> <span class="pre">-x</span> <span class="pre">-y</span> <span class="pre">-z</span> <span class="pre">-t&quot;</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="index-596">
<dt><code class="switch docutils literal notranslate"><span class="pre">--LINK=</span><em><span class="pre">name</span></em></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the linker to be invoked. This is especially
useful in mixed language programs since languages such as C++ require
their own linker to be used. When this switch is omitted, the default
name for the linker is <code class="docutils literal notranslate"><span class="pre">gcc</span></code>. When this switch is used, the
specified linker is called instead of <code class="docutils literal notranslate"><span class="pre">gcc</span></code> with exactly the same
parameters that would have been passed to <code class="docutils literal notranslate"><span class="pre">gcc</span></code> so if the desired
linker requires different parameters it is necessary to use a wrapper
script that massages the parameters before invoking the real linker. It
may be useful to control the exact invocation by using the verbose
switch.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="using-the-gnu-make-utility">
<span id="id48"></span><h2><span class="section-number">4.7. </span>Using the GNU <code class="docutils literal notranslate"><span class="pre">make</span></code> Utility<a class="headerlink" href="#using-the-gnu-make-utility" title="Permalink to this headline">¶</a></h2>
<p id="index-597">This chapter offers some examples of makefiles that solve specific
problems. It does not explain how to write a makefile, nor does it try to replace the
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> utility (<a class="reference internal" href="#the-gnat-make-program-gnatmake"><span class="std std-ref">Building with gnatmake</span></a>).</p>
<p>All the examples in this section are specific to the GNU version of
make. Although <code class="docutils literal notranslate"><span class="pre">make</span></code> is a standard utility, and the basic language
is the same, these examples use some advanced features found only in
<code class="docutils literal notranslate"><span class="pre">GNU</span> <span class="pre">make</span></code>.</p>
<div class="section" id="using-gnatmake-in-a-makefile">
<span id="id49"></span><h3><span class="section-number">4.7.1. </span>Using gnatmake in a Makefile<a class="headerlink" href="#using-gnatmake-in-a-makefile" title="Permalink to this headline">¶</a></h3>
<p>Complex project organizations can be handled in a very powerful way by
using GNU make combined with gnatmake. For instance, here is a Makefile
which allows you to build each subsystem of a big project into a separate
shared library. Such a makefile allows you to significantly reduce the link
time of very big applications while maintaining full coherence at
each step of the build process.</p>
<p>The list of dependencies are handled automatically by
<code class="docutils literal notranslate"><span class="pre">gnatmake</span></code>. The Makefile is simply used to call gnatmake in each of
the appropriate directories.</p>
<p>Note that you should also read the example on how to automatically
create the list of directories
(<a class="reference internal" href="#automatically-creating-a-list-of-directories"><span class="std std-ref">Automatically Creating a List of Directories</span></a>)
which might help you in case your project has a lot of subdirectories.</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c">## This Makefile is intended to be used with the following directory</span>
<span class="c">## configuration:</span>
<span class="c">##  - The sources are split into a series of csc (computer software components)</span>
<span class="c">##    Each of these csc is put in its own directory.</span>
<span class="c">##    Their name are referenced by the directory names.</span>
<span class="c">##    They will be compiled into shared library (although this would also work</span>
<span class="c">##    with static libraries</span>
<span class="c">##  - The main program (and possibly other packages that do not belong to any</span>
<span class="c">##    csc is put in the top level directory (where the Makefile is).</span>
<span class="c">##       toplevel_dir __ first_csc  (sources) __ lib (will contain the library)</span>
<span class="c">##                    \\_ second_csc (sources) __ lib (will contain the library)</span>
<span class="c">##                    \\_ ...</span>
<span class="c">## Although this Makefile is build for shared library, it is easy to modify</span>
<span class="c">## to build partial link objects instead (modify the lines with -shared and</span>
<span class="c">## gnatlink below)</span>
<span class="c">##</span>
<span class="c">## With this makefile, you can change any file in the system or add any new</span>
<span class="c">## file, and everything will be recompiled correctly (only the relevant shared</span>
<span class="c">## objects will be recompiled, and the main program will be re-linked).</span>

<span class="c"># The list of computer software component for your project. This might be</span>
<span class="c"># generated automatically.</span>
<span class="nv">CSC_LIST</span><span class="o">=</span>aa bb cc

<span class="c"># Name of the main program (no extension)</span>
<span class="nv">MAIN</span><span class="o">=</span>main

<span class="c"># If we need to build objects with -fPIC, uncomment the following line</span>
<span class="c">#NEED_FPIC=-fPIC</span>

<span class="c"># The following variable should give the directory containing libgnat.so</span>
<span class="c"># You can get this directory through &#39;gnatls -v&#39;. This is usually the last</span>
<span class="c"># directory in the Object_Path.</span>
<span class="nv">GLIB</span><span class="o">=</span>...

<span class="c"># The directories for the libraries</span>
<span class="c"># (This macro expands the list of CSC to the list of shared libraries, you</span>
<span class="c"># could simply use the expanded form:</span>
<span class="c"># LIB_DIR=aa/lib/libaa.so bb/lib/libbb.so cc/lib/libcc.so</span>
<span class="nv">LIB_DIR</span><span class="o">=</span><span class="si">${</span><span class="nv">foreach</span><span class="p"> dir,</span><span class="si">${</span><span class="nv">CSC_LIST</span><span class="si">}</span><span class="p">,</span><span class="si">${</span><span class="nv">dir</span><span class="si">}</span><span class="p">/lib/lib</span><span class="si">${</span><span class="nv">dir</span><span class="si">}</span><span class="p">.so</span><span class="si">}</span>

<span class="nf">${MAIN}</span><span class="o">:</span> <span class="n">objects</span> ${<span class="n">LIB_DIR</span>}
    gnatbind <span class="si">${</span><span class="nv">MAIN</span><span class="si">}</span> <span class="si">${</span><span class="nv">CSC_LIST</span><span class="p">:%=-aO%/lib</span><span class="si">}</span> -shared
    gnatlink <span class="si">${</span><span class="nv">MAIN</span><span class="si">}</span> <span class="si">${</span><span class="nv">CSC_LIST</span><span class="p">:%=-l%</span><span class="si">}</span>

<span class="nf">objects</span><span class="o">::</span>
<span class="c">    # recompile the sources</span>
    gnatmake -c -i <span class="si">${</span><span class="nv">MAIN</span><span class="si">}</span>.adb <span class="si">${</span><span class="nv">NEED_FPIC</span><span class="si">}</span> <span class="si">${</span><span class="nv">CSC_LIST</span><span class="p">:%=-I%</span><span class="si">}</span>

<span class="c"># Note: In a future version of GNAT, the following commands will be simplified</span>
<span class="c"># by a new tool, gnatmlib</span>
<span class="nf">${LIB_DIR}</span><span class="o">:</span>
    mkdir -p <span class="si">${</span><span class="nv">dir</span><span class="p"> </span><span class="nv">$@</span><span class="p"> </span><span class="si">}</span>
    <span class="nb">cd</span> <span class="si">${</span><span class="nv">dir</span><span class="p"> </span><span class="nv">$@</span><span class="p"> </span><span class="si">}</span> <span class="o">&amp;&amp;</span> gcc -shared -o <span class="si">${</span><span class="nv">notdir</span><span class="p"> </span><span class="nv">$@</span><span class="p"> </span><span class="si">}</span> ../*.o -L<span class="si">${</span><span class="nv">GLIB</span><span class="si">}</span> -lgnat
    <span class="nb">cd</span> <span class="si">${</span><span class="nv">dir</span><span class="p"> </span><span class="nv">$@</span><span class="p"> </span><span class="si">}</span> <span class="o">&amp;&amp;</span> cp -f ../*.ali .

<span class="c"># The dependencies for the modules</span>
<span class="c"># Note that we have to force the expansion of *.o, since in some cases</span>
<span class="c"># make won&#39;t be able to do it itself.</span>
<span class="nf">aa/lib/libaa.so</span><span class="o">:</span> ${<span class="n">wildcard</span> <span class="n">aa</span>/*.<span class="n">o</span>}
<span class="nf">bb/lib/libbb.so</span><span class="o">:</span> ${<span class="n">wildcard</span> <span class="n">bb</span>/*.<span class="n">o</span>}
<span class="nf">cc/lib/libcc.so</span><span class="o">:</span> ${<span class="n">wildcard</span> <span class="n">cc</span>/*.<span class="n">o</span>}

<span class="c"># Make sure all of the shared libraries are in the path before starting the</span>
<span class="c"># program</span>
<span class="nf">run</span><span class="o">::</span>
    <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/aa/lib:<span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/bb/lib:<span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/cc/lib ./<span class="si">${</span><span class="nv">MAIN</span><span class="si">}</span>

<span class="nf">clean</span><span class="o">::</span>
    <span class="si">${</span><span class="nv">RM</span><span class="si">}</span> -rf <span class="si">${</span><span class="nv">CSC_LIST</span><span class="p">:%=%/lib</span><span class="si">}</span>
    <span class="si">${</span><span class="nv">RM</span><span class="si">}</span> <span class="si">${</span><span class="nv">CSC_LIST</span><span class="p">:%=%/*.ali</span><span class="si">}</span>
    <span class="si">${</span><span class="nv">RM</span><span class="si">}</span> <span class="si">${</span><span class="nv">CSC_LIST</span><span class="p">:%=%/*.o</span><span class="si">}</span>
    <span class="si">${</span><span class="nv">RM</span><span class="si">}</span> *.o *.ali <span class="si">${</span><span class="nv">MAIN</span><span class="si">}</span>
</pre></div>
</div>
</div>
<div class="section" id="automatically-creating-a-list-of-directories">
<span id="id50"></span><h3><span class="section-number">4.7.2. </span>Automatically Creating a List of Directories<a class="headerlink" href="#automatically-creating-a-list-of-directories" title="Permalink to this headline">¶</a></h3>
<p>In most makefiles, you will have to specify a list of directories, and
store it in a variable. For small projects, it is often easier to
specify each of them by hand, since you then have full control over what
is the proper order for these directories, which ones should be
included.</p>
<p>However, in larger projects, which might involve hundreds of
subdirectories, it might be more convenient to generate this list
automatically.</p>
<p>The example below presents two methods. The first one, although less
general, gives you more control over the list. It involves wildcard
characters, that are automatically expanded by <code class="docutils literal notranslate"><span class="pre">make</span></code>. Its
shortcoming is that you need to explicitly specify some of the
organization of your project, such as for instance the directory tree
depth, whether some directories are found in a separate tree, etc.</p>
<p>The second method is the most general one. It requires an external
program, called <code class="docutils literal notranslate"><span class="pre">find</span></code>, which is standard on all Unix systems. All
the directories found under a given root directory will be added to the
list.</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c"># The examples below are based on the following directory hierarchy:</span>
<span class="c"># All the directories can contain any number of files</span>
<span class="c"># ROOT_DIRECTORY -&gt;  a  -&gt;  aa  -&gt;  aaa</span>
<span class="c">#                       -&gt;  ab</span>
<span class="c">#                       -&gt;  ac</span>
<span class="c">#                -&gt;  b  -&gt;  ba  -&gt;  baa</span>
<span class="c">#                       -&gt;  bb</span>
<span class="c">#                       -&gt;  bc</span>
<span class="c"># This Makefile creates a variable called DIRS, that can be reused any time</span>
<span class="c"># you need this list (see the other examples in this section)</span>

<span class="c"># The root of your project&#39;s directory hierarchy</span>
<span class="nv">ROOT_DIRECTORY</span><span class="o">=</span>.

<span class="c">####</span>
<span class="c"># First method: specify explicitly the list of directories</span>
<span class="c"># This allows you to specify any subset of all the directories you need.</span>
<span class="c">####</span>

<span class="nv">DIRS</span> <span class="o">:=</span> a/aa/ a/ab/ b/ba/

<span class="c">####</span>
<span class="c"># Second method: use wildcards</span>
<span class="c"># Note that the argument(s) to wildcard below should end with a &#39;/&#39;.</span>
<span class="c"># Since wildcards also return file names, we have to filter them out</span>
<span class="c"># to avoid duplicate directory names.</span>
<span class="c"># We thus use make&#39;s ``dir`` and ``sort`` functions.</span>
<span class="c"># It sets DIRs to the following value (note that the directories aaa and baa</span>
<span class="c"># are not given, unless you change the arguments to wildcard).</span>
<span class="c"># DIRS= ./a/a/ ./b/ ./a/aa/ ./a/ab/ ./a/ac/ ./b/ba/ ./b/bb/ ./b/bc/</span>
<span class="c">####</span>

<span class="nv">DIRS</span> <span class="o">:=</span> <span class="si">${</span><span class="nv">sort</span><span class="p"> </span><span class="si">${</span><span class="nv">dir</span><span class="p"> </span><span class="si">${</span><span class="nv">wildcard</span><span class="p"> </span><span class="si">${</span><span class="nv">ROOT_DIRECTORY</span><span class="si">}</span><span class="p">/*/</span>
                    <span class="si">${</span><span class="nv">ROOT_DIRECTORY</span><span class="si">}</span>/*/*/<span class="o">}}}</span>

<span class="c">####</span>
<span class="c"># Third method: use an external program</span>
<span class="c"># This command is much faster if run on local disks, avoiding NFS slowdowns.</span>
<span class="c"># This is the most complete command: it sets DIRs to the following value:</span>
<span class="c"># DIRS= ./a ./a/aa ./a/aa/aaa ./a/ab ./a/ac ./b ./b/ba ./b/ba/baa ./b/bb ./b/bc</span>
<span class="c">####</span>

<span class="nv">DIRS</span> <span class="o">:=</span> <span class="si">${</span><span class="nv">shell</span><span class="p"> find </span><span class="si">${</span><span class="nv">ROOT_DIRECTORY</span><span class="si">}</span><span class="p"> -type d -print</span><span class="si">}</span>
</pre></div>
</div>
</div>
<div class="section" id="generating-the-command-line-switches">
<span id="id51"></span><h3><span class="section-number">4.7.3. </span>Generating the Command Line Switches<a class="headerlink" href="#generating-the-command-line-switches" title="Permalink to this headline">¶</a></h3>
<p>Once you have created the list of directories as explained in the
previous section (<a class="reference internal" href="#automatically-creating-a-list-of-directories"><span class="std std-ref">Automatically Creating a List of Directories</span></a>),
you can easily generate the command line arguments to pass to gnatmake.</p>
<p>For the sake of completeness, this example assumes that the source path
is not the same as the object path, and that you have two separate lists
of directories.</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c"># see &quot;Automatically creating a list of directories&quot; to create</span>
<span class="c"># these variables</span>
<span class="nv">SOURCE_DIRS</span><span class="o">=</span>
<span class="nv">OBJECT_DIRS</span><span class="o">=</span>

<span class="nv">GNATMAKE_SWITCHES</span> <span class="o">:=</span> <span class="si">${</span><span class="nv">patsubst</span><span class="p"> %,-aI%,</span><span class="si">${</span><span class="nv">SOURCE_DIRS</span><span class="si">}}</span>
<span class="nv">GNATMAKE_SWITCHES</span> <span class="o">+=</span> <span class="si">${</span><span class="nv">patsubst</span><span class="p"> %,-aO%,</span><span class="si">${</span><span class="nv">OBJECT_DIRS</span><span class="si">}}</span>

<span class="nf">all</span><span class="o">:</span>
        gnatmake <span class="si">${</span><span class="nv">GNATMAKE_SWITCHES</span><span class="si">}</span> main_unit
</pre></div>
</div>
</div>
<div class="section" id="overcoming-command-line-length-limits">
<span id="id52"></span><h3><span class="section-number">4.7.4. </span>Overcoming Command Line Length Limits<a class="headerlink" href="#overcoming-command-line-length-limits" title="Permalink to this headline">¶</a></h3>
<p>One problem that might be encountered on big projects is that many
operating systems limit the length of the command line. It is thus hard to give
gnatmake the list of source and object directories.</p>
<p>This example shows how you can set up environment variables, which will
make <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> behave exactly as if the directories had been
specified on the command line, but have a much higher length limit (or
even none on most systems).</p>
<p>It assumes that you have created a list of directories in your Makefile,
using one of the methods presented in
<a class="reference internal" href="#automatically-creating-a-list-of-directories"><span class="std std-ref">Automatically Creating a List of Directories</span></a>.
For the sake of completeness, we assume that the object
path (where the ALI files are found) is different from the sources patch.</p>
<p>Note a small trick in the Makefile below: for efficiency reasons, we
create two temporary variables (SOURCE_LIST and OBJECT_LIST), that are
expanded immediately by <code class="docutils literal notranslate"><span class="pre">make</span></code>. This way we overcome the standard
make behavior which is to expand the variables only when they are
actually used.</p>
<p>On Windows, if you are using the standard Windows command shell, you must
replace colons with semicolons in the assignments to these variables.</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c"># In this example, we create both ADA_INCLUDE_PATH and ADA_OBJECTS_PATH.</span>
<span class="c"># This is the same thing as putting the -I arguments on the command line.</span>
<span class="c"># (the equivalent of using -aI on the command line would be to define</span>
<span class="c">#  only ADA_INCLUDE_PATH, the equivalent of -aO is ADA_OBJECTS_PATH).</span>
<span class="c"># You can of course have different values for these variables.</span>
<span class="c">#</span>
<span class="c"># Note also that we need to keep the previous values of these variables, since</span>
<span class="c"># they might have been set before running &#39;make&#39; to specify where the GNAT</span>
<span class="c"># library is installed.</span>

<span class="c"># see &quot;Automatically creating a list of directories&quot; to create these</span>
<span class="c"># variables</span>
<span class="nv">SOURCE_DIRS</span><span class="o">=</span>
<span class="nv">OBJECT_DIRS</span><span class="o">=</span>

<span class="nv">empty</span><span class="o">:=</span>
<span class="nv">space</span><span class="o">:=</span><span class="si">${</span><span class="nv">empty</span><span class="si">}</span> <span class="si">${</span><span class="nv">empty</span><span class="si">}</span>
<span class="nv">SOURCE_LIST</span> <span class="o">:=</span> <span class="si">${</span><span class="nv">subst</span><span class="p"> </span><span class="si">${</span><span class="nv">space</span><span class="si">}</span><span class="p">,:,</span><span class="si">${</span><span class="nv">SOURCE_DIRS</span><span class="si">}}</span>
<span class="nv">OBJECT_LIST</span> <span class="o">:=</span> <span class="si">${</span><span class="nv">subst</span><span class="p"> </span><span class="si">${</span><span class="nv">space</span><span class="si">}</span><span class="p">,:,</span><span class="si">${</span><span class="nv">OBJECT_DIRS</span><span class="si">}}</span>
<span class="nv">ADA_INCLUDE_PATH</span> <span class="o">+=</span> <span class="si">${</span><span class="nv">SOURCE_LIST</span><span class="si">}</span>
<span class="nv">ADA_OBJECTS_PATH</span> <span class="o">+=</span> <span class="si">${</span><span class="nv">OBJECT_LIST</span><span class="si">}</span>
<span class="k">export</span> <span class="nv">ADA_INCLUDE_PATH</span>
<span class="k">export</span> <span class="nv">ADA_OBJECTS_PATH</span>

<span class="nf">all</span><span class="o">:</span>
        gnatmake main_unit
</pre></div>
</div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../gnat_ugn.html">
              <img class="logo" src="../_static/adacore_transparent.png" alt="Logo"/>
            </a></p>
  <h3><a href="../gnat_ugn.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4. Building Executable Programs with GNAT</a><ul>
<li><a class="reference internal" href="#building-with-gnatmake">4.1. Building with <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code></a><ul>
<li><a class="reference internal" href="#running-gnatmake">4.1.1. Running <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code></a></li>
<li><a class="reference internal" href="#switches-for-gnatmake">4.1.2. Switches for <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code></a></li>
<li><a class="reference internal" href="#mode-switches-for-gnatmake">4.1.3. Mode Switches for <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code></a></li>
<li><a class="reference internal" href="#notes-on-the-command-line">4.1.4. Notes on the Command Line</a></li>
<li><a class="reference internal" href="#how-gnatmake-works">4.1.5. How <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> Works</a></li>
<li><a class="reference internal" href="#examples-of-gnatmake-usage">4.1.6. Examples of <code class="docutils literal notranslate"><span class="pre">gnatmake</span></code> Usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#compiling-with-gcc">4.2. Compiling with <code class="docutils literal notranslate"><span class="pre">gcc</span></code></a><ul>
<li><a class="reference internal" href="#compiling-programs">4.2.1. Compiling Programs</a></li>
<li><a class="reference internal" href="#search-paths-and-the-run-time-library-rtl">4.2.2. Search Paths and the Run-Time Library (RTL)</a></li>
<li><a class="reference internal" href="#order-of-compilation-issues">4.2.3. Order of Compilation Issues</a></li>
<li><a class="reference internal" href="#examples">4.2.4. Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#compiler-switches">4.3. Compiler Switches</a><ul>
<li><a class="reference internal" href="#alphabetical-list-of-all-switches">4.3.1. Alphabetical List of All Switches</a></li>
<li><a class="reference internal" href="#output-and-error-message-control">4.3.2. Output and Error Message Control</a></li>
<li><a class="reference internal" href="#warning-message-control">4.3.3. Warning Message Control</a></li>
<li><a class="reference internal" href="#debugging-and-assertion-control">4.3.4. Debugging and Assertion Control</a></li>
<li><a class="reference internal" href="#validity-checking">4.3.5. Validity Checking</a></li>
<li><a class="reference internal" href="#style-checking">4.3.6. Style Checking</a></li>
<li><a class="reference internal" href="#run-time-checks">4.3.7. Run-Time Checks</a></li>
<li><a class="reference internal" href="#using-gcc-for-syntax-checking">4.3.8. Using <code class="docutils literal notranslate"><span class="pre">gcc</span></code> for Syntax Checking</a></li>
<li><a class="reference internal" href="#using-gcc-for-semantic-checking">4.3.9. Using <code class="docutils literal notranslate"><span class="pre">gcc</span></code> for Semantic Checking</a></li>
<li><a class="reference internal" href="#compiling-different-versions-of-ada">4.3.10. Compiling Different Versions of Ada</a></li>
<li><a class="reference internal" href="#character-set-control">4.3.11. Character Set Control</a></li>
<li><a class="reference internal" href="#file-naming-control">4.3.12. File Naming Control</a></li>
<li><a class="reference internal" href="#subprogram-inlining-control">4.3.13. Subprogram Inlining Control</a></li>
<li><a class="reference internal" href="#auxiliary-output-control">4.3.14. Auxiliary Output Control</a></li>
<li><a class="reference internal" href="#debugging-control">4.3.15. Debugging Control</a></li>
<li><a class="reference internal" href="#exception-handling-control">4.3.16. Exception Handling Control</a></li>
<li><a class="reference internal" href="#units-to-sources-mapping-files">4.3.17. Units to Sources Mapping Files</a></li>
<li><a class="reference internal" href="#code-generation-control">4.3.18. Code Generation Control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linker-switches">4.4. Linker Switches</a></li>
<li><a class="reference internal" href="#binding-with-gnatbind">4.5. Binding with <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code></a><ul>
<li><a class="reference internal" href="#running-gnatbind">4.5.1. Running <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code></a></li>
<li><a class="reference internal" href="#switches-for-gnatbind">4.5.2. Switches for <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code></a><ul>
<li><a class="reference internal" href="#consistency-checking-modes">4.5.2.1. Consistency-Checking Modes</a></li>
<li><a class="reference internal" href="#binder-error-message-control">4.5.2.2. Binder Error Message Control</a></li>
<li><a class="reference internal" href="#elaboration-control">4.5.2.3. Elaboration Control</a></li>
<li><a class="reference internal" href="#output-control">4.5.2.4. Output Control</a></li>
<li><a class="reference internal" href="#dynamic-allocation-control">4.5.2.5. Dynamic Allocation Control</a></li>
<li><a class="reference internal" href="#binding-with-non-ada-main-programs">4.5.2.6. Binding with Non-Ada Main Programs</a></li>
<li><a class="reference internal" href="#binding-programs-with-no-main-subprogram">4.5.2.7. Binding Programs with No Main Subprogram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#command-line-access">4.5.3. Command-Line Access</a></li>
<li><a class="reference internal" href="#search-paths-for-gnatbind">4.5.4. Search Paths for <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code></a></li>
<li><a class="reference internal" href="#examples-of-gnatbind-usage">4.5.5. Examples of <code class="docutils literal notranslate"><span class="pre">gnatbind</span></code> Usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linking-with-gnatlink">4.6. Linking with <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code></a><ul>
<li><a class="reference internal" href="#running-gnatlink">4.6.1. Running <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code></a></li>
<li><a class="reference internal" href="#switches-for-gnatlink">4.6.2. Switches for <code class="docutils literal notranslate"><span class="pre">gnatlink</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-gnu-make-utility">4.7. Using the GNU <code class="docutils literal notranslate"><span class="pre">make</span></code> Utility</a><ul>
<li><a class="reference internal" href="#using-gnatmake-in-a-makefile">4.7.1. Using gnatmake in a Makefile</a></li>
<li><a class="reference internal" href="#automatically-creating-a-list-of-directories">4.7.2. Automatically Creating a List of Directories</a></li>
<li><a class="reference internal" href="#generating-the-command-line-switches">4.7.3. Generating the Command Line Switches</a></li>
<li><a class="reference internal" href="#overcoming-command-line-length-limits">4.7.4. Overcoming Command Line Length Limits</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="the_gnat_compilation_model.html"
                        title="previous chapter"><span class="section-number">3. </span>The GNAT Compilation Model</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gnat_utility_programs.html"
                        title="next chapter"><span class="section-number">5. </span>GNAT Utility Programs</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/gnat_ugn/building_executable_programs_with_gnat.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gnat_utility_programs.html" title="5. GNAT Utility Programs"
             >next</a> |</li>
        <li class="right" >
          <a href="the_gnat_compilation_model.html" title="3. The GNAT Compilation Model"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../gnat_ugn.html">GNAT User&#39;s Guide for Native Platforms 2021 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4. </span>Building Executable Programs with GNAT</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2021, Free Software Foundation.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>